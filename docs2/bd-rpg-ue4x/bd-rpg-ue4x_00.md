# 前言

现在，随着虚幻引擎 4 已成为世界上最前沿的游戏引擎之一，无论是 AAA 还是独立开发者都在寻找使用该引擎创建任何类型游戏的最佳方法。在虚幻引擎首次发布时，它以一款优秀的第一人称射击游戏引擎而闻名，但随着像 WB 的《无限格斗》、Chair Entertainment 的《阴影复杂》和 Epic Games 的《战争机器》等游戏的成功，以及备受期待的即将到来的游戏，如 Capcom 的《街头霸王 5》、Comcept 的《无敌 9 号》和 Square Enix 的《最终幻想 7 重制版》，虚幻引擎已经证明了自己是创建几乎任何类型游戏时最伟大的引擎之一。本书将为在虚幻引擎 4 中创建回合制 RPG 奠定基础。

# 本书涵盖的内容

第一章, *在虚幻引擎中开始 RPG 设计*，提醒读者在跳入虚幻引擎之前需要进行的各种准备工作。为了避免可能阻碍进展的障碍，提供了示例内容并进行简要介绍。

第二章, *虚幻引擎中的脚本和数据*，引导读者使用 C++在虚幻引擎中编程游戏元素，创建蓝图图，以及与虚幻引擎中的自定义游戏数据一起工作。

第三章, *探索和战斗*，引导读者创建一个在游戏世界中四处奔跑的角色，定义角色数据和团队成员，定义敌人遭遇，并创建基本的战斗引擎。

第四章, *暂停菜单框架*，介绍了如何创建带有库存和装备子菜单的暂停菜单。

第五章, *连接角色统计数据*，介绍了如何在菜单系统中跟踪玩家的统计数据。

第六章, *NPC 和对话*，介绍了如何向游戏世界添加交互式 NPC 和对话。读者将学习如何使用蓝图来定义当与对象或 NPC 交互时会发生什么，包括使用一组自定义蓝图节点来创建对话树。

第七章, *金币、物品和商店*，介绍了如何向游戏世界添加交互式 NPC 和对象。读者将学习如何使用蓝图来定义当与对象或 NPC 交互时会发生什么，包括使用一组自定义蓝图节点来创建对话树。用户还将创建可以使用敌人掉落金币购买的物品。

第八章, *库存填充和物品使用*，介绍了如何在非战斗状态下使用物品填充库存屏幕。

第九章，*装备*，涵盖了从装备屏幕创建装备以及装备武器和盔甲。

第十章，*等级提升、能力和保存进度*，涵盖了向游戏中添加能力、跟踪每个团队成员的经验、战斗后向团队成员颁发经验、为角色类定义等级和属性更新以及保存和加载玩家进度。

# 您需要为此书准备的内容

所需的软件：所有章节都需要 Unreal Engine 4 版本 4.12 或更高版本，以及 Visual Studio 2015 Enterprise/Community 或更高版本或 XCode 7.0 或更高版本。

所需的操作系统：Windows 7 64 位或更高版本，或 Mac OS X 10.9.2。

所需的硬件：四核 2.5 GHz 或更快，8 GB 的 RAM，以及 Nvidia GeForce 470 GTX 或 AMD Radeon 6870 HD 或更高。

# 本书面向的对象

如果您是 Unreal Engine 的新手，并且一直想编写 RPG 脚本，您就是本书的目标读者。课程假设您了解 RPG 游戏的约定，并对使用 Unreal 编辑器构建等级的基础知识有所了解。本书结束时，您将能够构建核心 RPG 框架元素，以创建您自己的游戏体验。

# 术语约定

在本书中，您将找到许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码词汇、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称将如下所示：“我们可以通过使用`include`指令来包含其他上下文。”

代码块设置如下：

```cpp
if( DataTable != NULL )
{
  FTestCustomData* row = DataTable->FindRow<FTestCustomData>( TEXT( "2" ), TEXT(" LookupTestCustomData"  ) );
  FString someString = row->SomeString;
  UE_LOG( LogTemp, Warning, TEXT( "%s" ), *someString );
}
```

任何命令行输入或输出将如下所示：

```cpp
LogTemp: Combat started

```

**新术语**和**重要词汇**将以粗体显示。屏幕上显示的词汇，例如在菜单或对话框中，将以如下方式显示：“编译并保存蓝图，然后按**播放**。”

### 注意

警告或重要注意事项将以如下方式显示在框中。

### 小贴士

小贴士和技巧将以如下方式显示。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢或不喜欢的地方。读者反馈对我们非常重要，因为它帮助我们开发出您真正能从中受益的书籍。

要发送给我们一般反馈，只需发送电子邮件至 `<feedback@packtpub.com>`，并在邮件主题中提及书籍的标题。

如果你在某个领域有专业知识，并且对撰写或参与一本书籍感兴趣，请参阅我们的作者指南，网址为 [www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 图书的骄傲拥有者，我们有一些东西可以帮助您充分利用您的购买。

## 下载示例代码

您可以从[`www.packtpub.com`](http://www.packtpub.com)下载您购买的所有 Packt 出版物的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 下载本书的彩色图像

我们还为您提供了一个包含本书中使用的截图/图表彩色图像的 PDF 文件。这些彩色图像将帮助您更好地理解输出中的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/BuildingAnRPGWithUnreal_ColorImages.pdf`](http://www.packtpub.com/sites/default/files/downloads/BuildingAnRPGWithUnreal_ColorImages.pdf)下载此文件。

## 勘误

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然可能发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告，我们将不胜感激。这样做可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误表，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入本书的名称。所需信息将出现在**勘误**部分下。

## 盗版

互联网上版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现任何形式的非法复制我们的作品，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过电子邮件联系我们的 `<copyright@packtpub.com>` 并附上疑似盗版材料的链接。

我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。

## 问题和建议

如果您本书的任何方面有问题，您可以通过电子邮件联系我们的 `<questions@packtpub.com>`，我们将尽力解决问题。
