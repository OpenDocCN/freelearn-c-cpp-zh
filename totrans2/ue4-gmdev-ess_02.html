<html><head></head><body><div class="chapter" title="Chapter&#xA0;2.&#xA0;Importing Assets"><div class="titlepage"><div><div><h1 class="title"><a id="ch02"/>Chapter 2. Importing Assets</h1></div></div></div><p>In the previous chapter, you learned the basics of Unreal Engine. In this chapter, you will learn about importing assets from Autodesk 3ds Max.</p><div class="section" title="Creating asset in a DCC application"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec13"/>Creating asset in a DCC application</h1></div></div></div><p>In the previous <a id="id54" class="indexterm"/>chapter, you learned how to use BSP to block out a level. However, we need to replace them with static meshes for <a id="id55" class="indexterm"/>better performance and more control of materials, collisions, and so on. We will create models in the <span class="strong"><strong>Digital Content Creation</strong></span> (<span class="strong"><strong>DCC</strong></span>) application (such as Autodesk 3ds Max, Autodesk Maya, Blender, and so on) that are imported into Unreal Engine through Content Browser. Unreal Engine supports the import of both FBX and OBJ but its recommended to use the FBX format.</p><p>The following screenshot is an example asset that I will use in this chapter:</p><div class="mediaobject"><img src="graphics/B03950_02_01.jpg" alt="Creating asset in a DCC application"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>Note that at the time of writing this book, Unreal Engine import pipeline uses FBX 2014. Trying to import using a different version might result in incompatibilities.</p></div></div><p>A few things that <a id="id56" class="indexterm"/>you need to keep in mind when modeling are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Units</strong></span>: <span class="strong"><strong>Unreal Units</strong></span> (<span class="strong"><strong>UU</strong></span>) are critical <a id="id57" class="indexterm"/>when modeling assets for games. Incorrect units will result in assets looking larger or smaller than they are supposed to look. 1 Unreal Unit is equal to 1 cm. The sample character that comes with Unreal Engine 4 is 196 cm high. So when you are modeling assets for Unreal Engine 4, it's best to use a box that is 196 cm high as reference.<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>To learn how to change<a id="id58" class="indexterm"/> units for Autodesk 3ds Max, you can refer to <a class="ulink" href="https://knowledge.autodesk.com/support/3ds-max/learn-explore/caas/CloudHelp/cloudhelp/2015/ENU/3DSMax/files/GUID-69E92759-6CD9-4663-B993-635D081853D2-htm.html">https://knowledge.autodesk.com/support/3ds-max/learn-explore/caas/CloudHelp/cloudhelp/2015/ENU/3DSMax/files/GUID-69E92759-6CD9-4663-B993-635D081853D2-htm.html</a>.</p><p>To learn how to change units for Blender, you can refer to <a class="ulink" href="http://www.katsbits.com/tutorials/blender/metric-imperial-units.php">http://www.katsbits.com/tutorials/blender/metric-imperial-units.php</a>.</p></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Pivot Point</strong></span>: This represents the local center and local coordinate system of an object. When you import a mesh into Unreal Engine, the pivot point of that mesh (as it was in your DCC application) determines the point where any transformation (such as move, rotate, and scale) will be performed. Generally, it is best to keep your meshes at origin (0, 0, 0) and set your pivot point to one corner of the mesh for proper alignment in Unreal Engine.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Triangulation</strong></span>: Remember that, the Unreal Engine importer will automatically convert the <a id="id59" class="indexterm"/>quads to triangles so there is no skipping from triangles.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>UV</strong></span>: When you do <a id="id60" class="indexterm"/>UVs for assets, you can go beyond the 0-1 space, especially when you are dealing with big objects. UV channel 1 (which is channel 0 in Unreal) is used for texturing and UV channel 2 (which is channel 1 in Unreal) is used for lightmaps.</li></ul></div></li></ul></div></div></div>
<div class="section" title="Creating collision meshes"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec14"/>Creating collision meshes</h1></div></div></div><p>You can create <a id="id61" class="indexterm"/>collision meshes and export them with your asset. Unreal Engine 4 provides a collision generator for static meshes but there are times when we have to create our own custom collision shapes especially if the mesh has an opening (such as doors or walls with window cutouts). In this section, we will see both options.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip10"/>Tip</h3><p>Collision shapes should always stay simple because it is much faster to calculate simple shapes.</p></div></div><div class="section" title="Custom collision shapes"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec15"/>Custom collision shapes</h2></div></div></div><p>Collision meshes are identified by <a id="id62" class="indexterm"/>Unreal importer based on their names. There are three types of collision shapes that you can define. They are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>UBX_MeshName</strong></span>: UBX stands for<a id="id63" class="indexterm"/> Unreal Box and as<a id="id64" class="indexterm"/> the name says, it should be in a box shape. You cannot move the vertices in any way or else it will not work.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>USP_MeshName</strong></span>: USP stands <a id="id65" class="indexterm"/>for Unreal Sphere and as the name says, it should be in the sphere shape. The number <a id="id66" class="indexterm"/>of segments of this sphere does not matter (although somewhere around 6-10 seems to be good) but you cannot move any vertices around.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>UCX_MeshName</strong></span>: UCX stands for <a id="id67" class="indexterm"/>Unreal Convex and as the name says, it should be a convex shape and should <a id="id68" class="indexterm"/>not be hollow or dented. This is the most commonly used collision shape because basic shapes such as boxes and spheres can be generated right inside Unreal.</li></ul></div><p>In the following screenshot, you can see the red wireframe object, which is what I created for the collision shape:</p><div class="mediaobject"><img src="graphics/B03950_02_02.jpg" alt="Custom collision shapes"/></div></div><div class="section" title="Unreal Engine 4 collision generator"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec16"/>Unreal Engine 4 collision generator</h2></div></div></div><p>Collision shapes for <a id="id69" class="indexterm"/>static meshes can be generated inside the static mesh editor. To open this editor, double-click on a static mesh asset in <span class="strong"><strong>Content Browser</strong></span> and<a id="id70" class="indexterm"/> click on the <span class="strong"><strong>Collision</strong></span> menu, which will then list all the options for <span class="strong"><strong>Collision</strong></span>.</p><div class="mediaobject"><img src="graphics/B03950_02_03.jpg" alt="Unreal Engine 4 collision generator"/></div></div></div>
<div class="section" title="Simple shapes"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec15"/>Simple shapes</h1></div></div></div><p>The first three options in this <a id="id71" class="indexterm"/>menu are simple shapes and they are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Sphere Collision</strong></span>: This creates a simple sphere collision shape</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Capsule Collision</strong></span>: This creates a simple capsule collision shape</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Box Collision</strong></span>: This creates a<a id="id72" class="indexterm"/> simple box collision shape<div class="mediaobject"><img src="graphics/B03950_02_04.jpg" alt="Simple shapes"/></div></li></ul></div><div class="section" title="K-DOP shapes"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec17"/>K-DOP shapes</h2></div></div></div><p>
<span class="strong"><strong>K Discrete Oriented Polytope</strong></span> (<span class="strong"><strong>K-DOP</strong></span>) shapes <a id="id73" class="indexterm"/>are basically bounding <a id="id74" class="indexterm"/>volumes. The numbers (10, 18, and 26) represents the K-axis aligned planes.</p></div></div>
<div class="section" title="Auto convex collision"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec16"/>Auto convex collision</h1></div></div></div><p>This option is used to create<a id="id75" class="indexterm"/> much more accurate collision shapes for your models. Once you click on this option, a new dock window appears at the bottom-right corner of static mesh editor; using <span class="strong"><strong>Max Hulls</strong></span> (the number of hulls to be created to best match the shape of the object) and <span class="strong"><strong>Max Hull Verts</strong></span> (which determines the complexity of the collision hulls) you can create more complex collision shapes for your <span class="strong"><strong>Static Mesh</strong></span>.</p><p>As you can see in the following screenshot, the auto convex result is reasonably accurate:</p><div class="mediaobject"><img src="graphics/B03950_02_05.jpg" alt="Auto convex collision"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip11"/>Tip</h3><p>Collision shapes<a id="id76" class="indexterm"/> support transformation (move, rotate, and scale) and you can duplicate them to have multiple collisions. Click on the collision shape inside static mesh editor and you can switch between move, rotate, and scale using <span class="emphasis"><em>W</em></span>, <span class="emphasis"><em>E</em></span>, and <span class="emphasis"><em>R</em></span>. You can use <span class="emphasis"><em>Alt</em></span> + left click drag (or <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>W</em></span>) to duplicate an existing collision.</p></div></div></div>
<div class="section" title="Materials"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec17"/>Materials</h1></div></div></div><p>Unreal Engine can import <a id="id77" class="indexterm"/>materials and textures to apply to the mesh while exporting from 3D application. From Autodesk 3ds Max, only the basic materials are supported. They are <span class="strong"><strong>Standard</strong></span> and <span class="strong"><strong>Multi/Sub-Object</strong></span>. In those basic materials, only specific features are supported. This means FBX will not export all settings but it supports certain maps or textures used in that material type.</p><p>In the following example, you can see a model with multiple materials assigned.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note06"/>Note</h3><p>Note that it is very important to have unique names for each sub material in the <span class="strong"><strong>Multi/Sub-Object</strong></span> material. Each sub material has a unique name as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/B03950_02_06.jpg" alt="Materials"/></div></div></div></div>
<div class="section" title="LOD"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec18"/>LOD</h1></div></div></div><p>
<span class="strong"><strong>Level of Detail</strong></span> (<span class="strong"><strong>LOD</strong></span>) is a way to limit the impact of meshes as they get farther away from the camera. Each LOD will have reduced triangles and vertices compared to the previous one and can have simpler materials. That means base LOD (<span class="strong"><strong>LOD 0</strong></span>) will be the high quality mesh that appears when<a id="id78" class="indexterm"/> the player is near. As the player goes farther from that object, it will change to <span class="strong"><strong>LOD 1</strong></span> with reduced triangles and vertices than <span class="strong"><strong>LOD 0</strong></span> and as the player goes even farther away it will switch to <span class="strong"><strong>LOD 2</strong></span>, which has much fewer triangles and vertices than <span class="strong"><strong>LOD 1</strong></span>.</p><p>The following figure should give you an idea about what LOD does. The mesh on the left is base LOD (<span class="strong"><strong>LOD 0</strong></span>), the middle is <span class="strong"><strong>LOD 1</strong></span>, and the right is <span class="strong"><strong>LOD 2</strong></span>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note07"/>Note</h3><p>More information about LODs can be found at <a class="ulink" href="https://docs.unrealengine.com/latest/INT/Engine/Content/Types/StaticMeshes/HowTo/LODs/index.html">https://docs.unrealengine.com/latest/INT/Engine/Content/Types/StaticMeshes/HowTo/LODs/index.html</a>.</p></div></div><div class="mediaobject"><img src="graphics/B03950_02_07.jpg" alt="LOD"/></div></div>
<div class="section" title="Exporting and importing"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec19"/>Exporting and importing</h1></div></div></div><p>We will now cover how to export <a id="id79" class="indexterm"/>and import a mesh into Unreal.</p><div class="section" title="Exporting"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec18"/>Exporting</h2></div></div></div><p>Exporting a mesh is a<a id="id80" class="indexterm"/> pretty straightforward process. You can export multiple meshes in a single FBX file or export each mesh individually. Unreal importer can import multiple meshes as separate assets or combine them as a single asset by enabling the <span class="strong"><strong>Combine Meshes</strong></span> option at import time.</p><p>In the following screenshot, you can see that I have selected both the collision mesh and the model for exporting:</p><div class="mediaobject"><img src="graphics/B03950_02_08.jpg" alt="Exporting"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note08"/>Note</h3><p>
<span class="strong"><strong>Smoothing Groups</strong></span> should <a id="id81" class="indexterm"/>be turned on when exporting, otherwise Unreal Engine will show a warning when importing.</p></div></div></div><div class="section" title="Importing"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec19"/>Importing</h2></div></div></div><p>Importing a mesh into <a id="id82" class="indexterm"/>Unreal is simple. There are three ways you can import. They are explained here.</p><div class="section" title="Context menu"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec05"/>Context menu</h3></div></div></div><p>You can right-click<a id="id83" class="indexterm"/> inside <span class="strong"><strong>Content Browser</strong></span> and select <span class="strong"><strong>Import to &lt;Your folder name&gt;</strong></span>.</p><div class="mediaobject"><img src="graphics/B03950_02_09.jpg" alt="Context menu"/></div></div><div class="section" title="Drag and drop"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec06"/>Drag and drop</h3></div></div></div><p>As the name states, you <a id="id84" class="indexterm"/>can easily drag a FBX or OBJ model from <span class="strong"><strong>Windows Explorer</strong></span> to <span class="strong"><strong>Content Browser</strong></span> to import.</p></div><div class="section" title="Content Browser import"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec07"/>Content Browser import</h3></div></div></div><p>
<span class="strong"><strong>Content Browser</strong></span>
<a id="id85" class="indexterm"/> has an <span class="strong"><strong>Import</strong></span> button that you can use to import meshes.</p><div class="mediaobject"><img src="graphics/B03950_02_10.jpg" alt="Content Browser import"/></div></div><div class="section" title="Automatic import"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec08"/>Automatic import</h3></div></div></div><p>If you place FBX files in <a id="id86" class="indexterm"/>your project's <span class="strong"><strong>Content</strong></span> folder (including any subfolders), Unreal will automatically detect this and trigger the import process (if you have the editor open. Otherwise, the next time you run it).</p></div><div class="section" title="Configuring automatic import"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec09"/>Configuring automatic import</h3></div></div></div><p>You can choose <a id="id87" class="indexterm"/>whether you want this option enabled or disabled. To configure, go to <span class="strong"><strong>Edit</strong></span> | <span class="strong"><strong>Editor Preferences</strong></span> | <span class="strong"><strong>Loading &amp; Saving</strong></span> | <span class="strong"><strong>Auto Reimport</strong></span>.</p><div class="mediaobject"><img src="graphics/B03950_02_11.jpg" alt="Configuring automatic import"/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Monitor Content Directories</strong></span>: This enables or disables automatic importing of assets.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Directories to Monitor</strong></span>: This adds or removes a path (it can be a virtual package path such as <code class="literal">\Game\MyContent\</code> or an absolute path such as <code class="literal">C:\My Contents</code>) for the<a id="id88" class="indexterm"/> engine to monitor new content.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Auto Create Assets</strong></span>: If enabled, any new FBX files will not be automatically imported.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Auto Delete Assets</strong></span>: If enabled, and you delete the FBX file from Explorer, Unreal Engine will <a id="id89" class="indexterm"/>prompt whether you want to delete the asset file as well.</li></ul></div></div><div class="section" title="Result"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec10"/>Result</h3></div></div></div><p>When you import your <a id="id90" class="indexterm"/>asset, you will see the <span class="strong"><strong>Import Options</strong></span> dialog. You can read all about the import settings here:</p><div class="mediaobject"><img src="graphics/B03950_02_12.jpg" alt="Result"/></div><p>Once you click on <span class="strong"><strong>Import</strong></span> (or <span class="strong"><strong>Import All</strong></span> if you're importing multiple FBX files) you will see the asset in <span class="strong"><strong>Content Browser</strong></span>. In the following screenshot, see how Unreal automatically imported the <a id="id91" class="indexterm"/>material from Autodesk 3ds Max:</p><div class="mediaobject"><img src="graphics/B03950_02_13.jpg" alt="Result"/></div><p>If you double-click on the static mesh (<span class="strong"><strong>Tower_Example</strong></span>), you will see the static mesh editor. In the following screenshot, you can see that Unreal successfully imported my custom collision shape too.</p><div class="mediaobject"><img src="graphics/B03950_02_14.jpg" alt="Result"/></div></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec20"/>Summary</h1></div></div></div><p>In the next chapter, you will learn more about <span class="strong"><strong>Materials</strong></span> and <span class="strong"><strong>Textures</strong></span>.</p></div></body></html>