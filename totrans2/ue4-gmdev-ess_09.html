<html><head></head><body><div class="chapter" title="Chapter&#xA0;9.&#xA0;Particles"><div class="titlepage"><div><div><h1 class="title"><a id="ch09"/>Chapter 9. Particles</h1></div></div></div><p>Particles in Unreal Engine 4 are created using cascade particle editor, which is a powerful and robust editor that allows artists to create visual effects. Cascade editor lets you add and edit various modules that make up the final effect. The primary job of the particle editor is to control the behavior of the particle system itself whereas the look and feel is often controlled by the material.</p><p>In this chapter you will learn about the cascade particle editor and create a simple particle system.</p><div class="section" title="Cascade particle editor"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec43"/>Cascade particle editor</h1></div></div></div><p>To access <a id="id380" class="indexterm"/>cascade particle editor, you need to create a <span class="strong"><strong>Particle System</strong></span> in <span class="strong"><strong>Content Browser</strong></span> by right-clicking on the <span class="strong"><strong>Content Browser</strong></span> and selecting <span class="strong"><strong>Particle System</strong></span>. When you select it, a new <span class="strong"><strong>Particle System</strong></span> will be created and it prompts you to rename it. Give it a name and double-click on it to open cascade particle editor.</p><p>Once you open it you will see a window like this:</p><div class="mediaobject"><img src="graphics/B03950_09_01.jpg" alt="Cascade particle editor"/><div class="caption"><p>Cascade Editor User Interface</p></div></div><p>Cascade particle <a id="id381" class="indexterm"/>editor consists of five primary areas and they are: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Toolbar</strong></span>: This contains visualization and navigation tools</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Viewport</strong></span>: This shows the current particle system</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Details</strong></span>: This lets you edit the current particle system, emitter, or modules</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Emitters</strong></span>: These are the actual particle emitters and contain modules that are associated with the emitter</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Curve Editor</strong></span>: This is the editor that lets you modify properties in either relative or absolute time</li></ul></div><div class="section" title="Toolbar"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec72"/>Toolbar</h2></div></div></div><p>Toolbar contains <a id="id382" class="indexterm"/>various buttons. Let's take a quick look at<a id="id383" class="indexterm"/> them:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Save</strong></span>: This saves the particle system</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Find in CB</strong></span>: This locates the current particle system in Content Browser</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Restart Sim</strong></span>: This restarts (resets) the current simulation</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Restart Level</strong></span>: This is the same as Restart Sim but will also update all the instances placed in level</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Thumbnail</strong></span>: This saves the viewport view as a thumbnail for Content Browser</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Bounds</strong></span>: This enables or disables rendering of particle bounds</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Origin Axis</strong></span>: This displays the origin axis in viewport</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Regen LOD</strong></span>: Clicking on this generates the lowest LOD duplicating the highest LOD</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Regen LOD</strong></span>: Clicking on this generates the lowest LOD using values based on the highest LOD</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Lowest LOD</strong></span>: This switches<a id="id384" class="indexterm"/> to the lowest LOD</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Lower LOD</strong></span>: This switches to the next lowest LOD</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Add LOD</strong></span>: This adds a new LOD before the current LOD</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Add LOD</strong></span>: This adds a <a id="id385" class="indexterm"/>new LOD after the current LOD</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Higher LOD</strong></span>: This selects a higher LOD</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Highest LOD</strong></span>: This selects the highest LOD</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Delete LOD</strong></span>: This deletes the current LOD</li></ul></div><p>LODs are ways to update the particle effects to use efficient screen space depending on player distance. Based on the effect, there can be modules in a particle system that can be too small to render if the player is far away. Imagine fire embers. If the player is far away, the particle system will <a id="id386" class="indexterm"/>still process and calculate these effects which we don't need. This is where we use LODs. <span class="strong"><strong>Level of Detail</strong></span> (<span class="strong"><strong>LODs</strong></span>) can turn off specific modules or even shut down the emitter based on player distance.</p></div><div class="section" title="Viewport"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec73"/>Viewport</h2></div></div></div><p>Viewport shows <a id="id387" class="indexterm"/>you the real-time changes made to the particle system as well as <a id="id388" class="indexterm"/>other information's, such as total particle count, bounds, and so on. On the top left corner, you can click on the <span class="strong"><strong>View</strong></span> button to switch between various view modes, such as <span class="strong"><strong>Unlit</strong></span>, <span class="strong"><strong>Texture Density</strong></span>, <span class="strong"><strong>Wireframe mode</strong></span>, and so on.</p><div class="section" title="Navigation"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec28"/>Navigation</h3></div></div></div><p>Using the following<a id="id389" class="indexterm"/> mouse buttons you can navigate inside the<a id="id390" class="indexterm"/> viewport:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Left Mouse Button</strong></span>: This moves the camera around the particle system.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Middle Mouse Button</strong></span>: This pans the camera.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Right Mouse Button</strong></span>: This rotates the camera.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Alt + Left Mouse Button</strong></span>: This orbits the particle system.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Alt + Right Mouse Button</strong></span>: This dollies the camera forward and backward from a particle system.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>F</strong></span>: This focus on the particle system.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>L + Left Mouse</strong></span>: This rotates the light and only affects particles using <span class="strong"><strong>Lit</strong></span> material. <span class="strong"><strong>Unlit</strong></span> materials have no effect.</li></ul></div><p>Inside the <span class="strong"><strong>Viewport</strong></span>, you <a id="id391" class="indexterm"/> can play/pause the particle<a id="id392" class="indexterm"/> simulation as well as adjust the simulation speed. You can access these settings under the <span class="strong"><strong>Time</strong></span> option in <span class="strong"><strong>Viewport</strong></span>.</p><div class="mediaobject"><img src="graphics/B03950_09_02.jpg" alt="Navigation"/></div></div></div><div class="section" title="Details"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec74"/>Details</h2></div></div></div><p>
<span class="strong"><strong>The Details</strong></span> panel is <a id="id393" class="indexterm"/>populated by the currently selected module or <a id="id394" class="indexterm"/>emitter. The main properties of the particle system can be accessed by selecting nothing in the <span class="strong"><strong>Emitters</strong></span> panel or by right-clicking on the <span class="strong"><strong>Emitter</strong></span> list and navigating to <span class="strong"><strong>Particle System</strong></span> | <span class="strong"><strong>Select Particle System</strong></span>.</p><div class="mediaobject"><img src="graphics/B03950_09_03.jpg" alt="Details"/></div></div><div class="section" title="Emitter"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec75"/>Emitter</h2></div></div></div><p>The <span class="strong"><strong>Emitter</strong></span> panel is<a id="id395" class="indexterm"/> the heart of the particle system, and contains a horizontal arrangement of all the emitters. In each emitter column, you can add different <a id="id396" class="indexterm"/>modules to change the look and feel of the particles. You can add as many emitters as you want and each emitter will handle different aspects of the final effect.</p><div class="mediaobject"><img src="graphics/B03950_09_04.jpg" alt="Emitter"/></div><p>An <span class="strong"><strong>Emitter</strong></span> contains<a id="id397" class="indexterm"/> three primary areas, and they are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">On top of the emitter block<a id="id398" class="indexterm"/> are the primary properties of the emitter, such as name, type, and so on. You can double-click on the gray area to collapse or expand the emitter column.</li><li class="listitem" style="list-style-type: disc">Below that, you can define the type of emitter. If you leave it blank (as in the preceding screenshot), then particles are simulated on the CPU.</li><li class="listitem" style="list-style-type: disc">Finally, you can add modules to define how particles look.</li></ul></div><div class="section" title="Emitter types"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec29"/>Emitter types</h3></div></div></div><p>Cascade editor has four<a id="id399" class="indexterm"/> different emitter types, and they are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Beam Type</strong></span>: When using<a id="id400" class="indexterm"/> this type, the particle will output beams connecting two points. This means you have to define a source point (for example, the emitter itself) and a target point (for example, an actor).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>GPU Sprite</strong></span>: Using this type lets you simulate particles on the GPU. Using this emitter lets you simulate and render thousands of particles efficiently.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Mesh Type</strong></span>: When using this, the particle will use actual <span class="strong"><strong>Static Mesh</strong></span> instances for particles. This is pretty<a id="id401" class="indexterm"/> useful for simulating destruction effects (for example, debris).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Ribbon</strong></span>: This type indicates that the particle should be like a trail. This means, all <a id="id402" class="indexterm"/>particles (in order of their birth) are connected to each other to form ribbons.</li></ul></div></div></div><div class="section" title="Curve editor"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec76"/>Curve editor</h2></div></div></div><p>This is the standard curve <a id="id403" class="indexterm"/>editor that lets the user adjust any values that need to change during the <a id="id404" class="indexterm"/>particle's lifetime or across the life of an emitter. To learn more<a id="id405" class="indexterm"/> about curve editor, you can visit the official documentation available at <a class="ulink" href="https://docs.unrealengine.com/latest/INT/Engine/UI/CurveEditor/index.html">https://docs.unrealengine.com/latest/INT/Engine/UI/CurveEditor/index.html</a>.</p></div></div></div>
<div class="section" title="Creating a simple particle system"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec44"/>Creating a simple particle system</h1></div></div></div><p>To create <a id="id406" class="indexterm"/>a particle system:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Right-click on <span class="strong"><strong>Content Browser</strong></span>.</li><li class="listitem">Select <span class="strong"><strong>Particle</strong></span> from the resulting context menu.</li><li class="listitem">A new particle system asset will be created in <span class="strong"><strong>Content Browser</strong></span> and prompts you to rename it.</li><li class="listitem">For this example, let's call it <span class="strong"><strong>MyExampleParticleSystem</strong></span>.</li><li class="listitem">Now, double-click on it to open the <span class="strong"><strong>Particle</strong></span> editor.</li></ol></div><p>By default, Unreal creates a default emitter for you to work with. This emitter contains six modules, and they are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Required</strong></span>: This<a id="id407" class="indexterm"/> contains all the properties required by the emitter, such as the material used to render, how long the emitter should run before looping, can this emitter loop, and so on. You cannot delete this module.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Spawn</strong></span>: This module contains the properties that determine how the particles are spawned. For example, how many particles to spawn per second. You cannot delete this module.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Lifetime</strong></span>: This is the lifetime of the spawned particles.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Initial Size</strong></span>: This sets the initial size of particles when spawning. To modify the size after spawning, use <span class="strong"><strong>Size by Life</strong></span> or <span class="strong"><strong>Size by Speed</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Initial Velocity</strong></span>: This sets the initial velocity (speed) of particles when spawning. To modify the <a id="id408" class="indexterm"/>velocity after spawning, use <span class="strong"><strong>Velocity/Life</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Color over Life</strong></span>: This sets the color of a particle over its lifetime.</li></ul></div><p>For this example, we will modify the existing emitter and make it a GPU particle system that looks like sparks. We <a id="id409" class="indexterm"/>will also add collisions so that our particles collide with the world.</p><div class="section" title="Creating a simple material"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec77"/>Creating a simple material</h2></div></div></div><p>Before we <a id="id410" class="indexterm"/>start working with particles, we need to create a simple material that we can apply to the particles. To create a new material:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Right-click on <span class="strong"><strong>Content Browser</strong></span> and select <span class="strong"><strong>Material</strong></span>. Feel free to name it anything.</li><li class="listitem">Open <span class="strong"><strong>Material</strong></span> editor and change <span class="strong"><strong>Blend Mode</strong></span> to <span class="strong"><strong>Translucent</strong></span>. This is required because GPU particle collision will not work on opaque materials.</li><li class="listitem">Then, change <span class="strong"><strong>Shading Model</strong></span> to <span class="strong"><strong>Unlit</strong></span>. This is because we don't want the sparks to be affected by any kind of light since they are emissive.</li><li class="listitem">Finally, create a graph like this:<div class="mediaobject"><img src="graphics/B03950_09_05.jpg" alt="Creating a simple material"/></div></li></ol></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note25"/>Note</h3><p>Note that the circular gradient texture in the <span class="strong"><strong>Texture Sample</strong></span> node comes with the Engine itself. It's called <span class="strong"><strong>Greyscale</strong></span>.</p></div></div><p>Now that we have our material, it's time to customize our particle system:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Select the <span class="strong"><strong>Required</strong></span> module and under the <span class="strong"><strong>Emitters</strong></span> group, apply our material created in the previous step.</li><li class="listitem">Right-click on the black area below the emitter and select <span class="strong"><strong>New GPU Sprites</strong></span> under <span class="strong"><strong>Type Data</strong></span>. This will make our emitter simulate particles on GPU.<div class="mediaobject"><img src="graphics/B03950_09_06.jpg" alt="Creating a simple material"/></div></li><li class="listitem">Select the <span class="strong"><strong>Spawn</strong></span> module and under the <span class="strong"><strong>Spawn</strong></span> group, set <span class="strong"><strong>Rate</strong></span> to <span class="strong"><strong>0</strong></span>. This is because instead of spawning a certain amount of particles per second, we want to burst hundreds of<a id="id411" class="indexterm"/> them in one frame.</li><li class="listitem">Under the <span class="strong"><strong>Burst</strong></span> group, add a new entry in <span class="strong"><strong>Burst List</strong></span> and set <span class="strong"><strong>Count</strong></span> to <span class="strong"><strong>100</strong></span> and <span class="strong"><strong>Count Low</strong></span> to <span class="strong"><strong>10</strong></span>. This will select a random value between <span class="strong"><strong>100</strong></span> and <span class="strong"><strong>10</strong></span> and will spawn that many particles.<p>The final <span class="strong"><strong>Spawn</strong></span> settings will look like this:</p><div class="mediaobject"><img src="graphics/B03950_09_07.jpg" alt="Creating a simple material"/></div></li><li class="listitem">After adjusting the <span class="strong"><strong>Spawn</strong></span> settings, we set the <span class="strong"><strong>Lifetime</strong></span> of the particles to <span class="strong"><strong>0.4</strong></span> and <span class="strong"><strong>3.0</strong></span>, so each<a id="id412" class="indexterm"/> spawned particles' lifetime is between <span class="strong"><strong>0.4</strong></span> and <span class="strong"><strong>3.0</strong></span>. Now that we have particles spawning, it's time to adjust their size. To do so, select the <span class="strong"><strong>Initial Size</strong></span> module and set <span class="strong"><strong>Max</strong></span> to <span class="strong"><strong>1.0</strong></span>, <span class="strong"><strong>10.0</strong></span>, <span class="strong"><strong>0.0</strong></span> and <span class="strong"><strong>Min</strong></span> to <span class="strong"><strong>0.5</strong></span>, <span class="strong"><strong>8.0</strong></span>, <span class="strong"><strong>0.0</strong></span>.<div class="mediaobject"><img src="graphics/B03950_09_08.jpg" alt="Creating a simple material"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note26"/>Note</h3><p>Note that since GPU sprites are 2D, you can ignore the <span class="strong"><strong>Z</strong></span> value. That's why we set them to <span class="strong"><strong>0.0</strong></span>.</p></div></div></li><li class="listitem">After that, select the <span class="strong"><strong>Initial Velocity</strong></span> module and set <span class="strong"><strong>Max</strong></span> to <span class="strong"><strong>100.0</strong></span>, <span class="strong"><strong>200.0</strong></span>, <span class="strong"><strong>200.0</strong></span> and <span class="strong"><strong>Min</strong></span> to <span class="strong"><strong>-100.0</strong></span>, <span class="strong"><strong>-10.0</strong></span>, <span class="strong"><strong>100.0</strong></span>.</li><li class="listitem">Now, if you <a id="id413" class="indexterm"/>drag and drop this particle into the world, you will see the particles bursting into the air.<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note27"/>Note</h3><p>Note that if you see nothing happening, make sure <span class="strong"><strong>Real-Time</strong></span> is turned on for the editor (<span class="emphasis"><em>Ctrl</em></span>+<span class="emphasis"><em>R</em></span>).</p></div></div></li></ol></div><div class="mediaobject"><img src="graphics/B03950_09_09.jpg" alt="Creating a simple material"/></div></div><div class="section" title="Adding gravity"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec78"/>Adding gravity</h2></div></div></div><p>In order to <a id="id414" class="indexterm"/>make things a bit more real, we will simulate gravity on these particles. Go back to your particle editor and follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Right-click on the module area.</li><li class="listitem">Select <span class="strong"><strong>Const Acceleration</strong></span> from the <span class="strong"><strong>Acceleration</strong></span> menu. This module will add the given acceleration to the existing acceleration of particles and updates the current and base velocity.<div class="mediaobject"><img src="graphics/B03950_09_10.jpg" alt="Adding gravity"/></div></li><li class="listitem">For the <span class="strong"><strong>Acceleration</strong></span> value, use <span class="strong"><strong>0.0</strong></span>, <span class="strong"><strong>0.0</strong></span>, <span class="strong"><strong>-450.0</strong></span>. A negative value of <span class="strong"><strong>Z</strong></span> (that is, <span class="strong"><strong>-450</strong></span>) will make the particles go down as if they are affected by gravity.</li></ol></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note28"/>Note</h3><p>Note that the default gravity value is <span class="strong"><strong>-980.0</strong></span>. You can try this value as well.</p></div></div><p>Now, if you look at the<a id="id415" class="indexterm"/> particle in world, you can see them going down as if they are affected by gravity.</p><div class="mediaobject"><img src="graphics/B03950_09_11.jpg" alt="Adding gravity"/></div></div><div class="section" title="Applying the color over life module"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec79"/>Applying the color over life module</h2></div></div></div><p>Now that <a id="id416" class="indexterm"/>we have something like sparks, let's apply some color to it. Select the Color Over Life module and apply the settings shown here:</p><div class="mediaobject"><img src="graphics/B03950_09_12.jpg" alt="Applying the color over life module"/></div><p>
<span class="strong"><strong>Color Over Life</strong></span> is a curve value. It means you can define what color to apply at a certain point in the lifetime of particle. The <span class="strong"><strong>0.0</strong></span> value is the beginning and <span class="strong"><strong>1.0</strong></span> is the end. In the preceding screenshot, you can see I have applied a bright reddish orange color (<span class="strong"><strong>50.0</strong></span>, <span class="strong"><strong>20.0</strong></span>, <span class="strong"><strong>8.0</strong></span>) when the particle<a id="id417" class="indexterm"/> is spawning (<span class="strong"><strong>In Val</strong></span> = <span class="strong"><strong>0.0</strong></span>) and bright white color at the end (<span class="strong"><strong>In Val</strong></span> = <span class="strong"><strong>1.0</strong></span>).</p></div><div class="section" title="Adding collision module"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec80"/>Adding collision module</h2></div></div></div><p>To complete this<a id="id418" class="indexterm"/> effect, we will add a <span class="strong"><strong>Collision</strong></span> module so that our particles will collide with the world. To add the <span class="strong"><strong>Collision</strong></span> module, go through the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Right-click on the modules area and select <span class="strong"><strong>Collision</strong></span> from the <span class="strong"><strong>Collision</strong></span> menu.</li><li class="listitem">Select the <span class="strong"><strong>Collision</strong></span> module.</li><li class="listitem">Set the <span class="strong"><strong>Resilience</strong></span> value to <span class="strong"><strong>0.25</strong></span>. This will make the collided particles less bouncy. Higher resilience means more bouncy particles.</li><li class="listitem">Set <span class="strong"><strong>Friction</strong></span> to <span class="strong"><strong>0.2</strong></span>. This will make the particles stick to the ground. A higher friction value (<span class="strong"><strong>1.0</strong></span>) will not let the particle move after colliding, whereas lower values make the particle slide along the surface.</li></ol></div><p>Now, if you simulate or play the game with this particle in the world, you can see it bursting and colliding with the world but it's very unrealistic. You can easily notice that every second this particle keeps repeating. So to prevent this, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the particle editor.</li><li class="listitem">Select the <span class="strong"><strong>Required</strong></span> module.</li><li class="listitem">Under the <span class="strong"><strong>Duration</strong></span> settings, set <span class="strong"><strong>Emitter Loops</strong></span> to <span class="strong"><strong>1</strong></span>. By default, this is set to <span class="strong"><strong>0</strong></span>, which means it will loop forever.<div class="mediaobject"><img src="graphics/B03950_09_13.jpg" alt="Adding collision module"/></div></li></ol></div></div></div>
<div class="section" title="Playing particle in Blueprints"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec45"/>Playing particle in Blueprints</h1></div></div></div><p>Now that<a id="id419" class="indexterm"/> our particle effect is ready, let's play it using Blueprints:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Right-click <a id="id420" class="indexterm"/>on <span class="strong"><strong>Content Browser</strong></span>.</li><li class="listitem">Select the <span class="strong"><strong>Blueprint</strong></span> class.</li><li class="listitem">From the resulting window, select <span class="strong"><strong>Actor</strong></span>.</li><li class="listitem">Double-click on the <span class="strong"><strong>Blueprint</strong></span> to open the editor.</li><li class="listitem">Select your bursting particles in <span class="strong"><strong>Content Browser</strong></span>.</li><li class="listitem">Open the <span class="strong"><strong>Blueprint</strong></span> editor and add a new <span class="strong"><strong>Particle System Component</strong></span> (if you select the particle in <span class="strong"><strong>Content Browser</strong></span>, it will automatically set that particle as the template for the <span class="strong"><strong>Particle System Component</strong></span>).</li><li class="listitem">Go to the <span class="strong"><strong>Event Graph</strong></span> tab.</li><li class="listitem">Right-click anywhere on the graph and select <span class="strong"><strong>Add Custom Event…</strong></span> from the <span class="strong"><strong>Add Event</strong></span> category.<div class="mediaobject"><img src="graphics/B03950_09_14.jpg" alt="Playing particle in Blueprints"/></div></li><li class="listitem">Rename that <span class="strong"><strong>Custom Event</strong></span> with any name you like. For this example, I renamed<a id="id421" class="indexterm"/> it <span class="strong"><strong>ActivateParticle</strong></span>.</li><li class="listitem">Create a graph<a id="id422" class="indexterm"/> like this:<div class="mediaobject"><img src="graphics/B03950_09_15.jpg" alt="Playing particle in Blueprints"/></div></li></ol></div><p>This Blueprint will first execute <span class="strong"><strong>ActivateParticle</strong></span> when the game begins and when the event is executed, it randomly selects a time (in seconds) between <span class="strong"><strong>0.2</strong></span> and <span class="strong"><strong>2</strong></span>. When the time runs out, it activates<a id="id423" class="indexterm"/> the particle and calls this event again.</p><p>Now, if you drag and drop<a id="id424" class="indexterm"/> this particle into the world and start playing, you will see the particles randomly bursting:</p><div class="mediaobject"><img src="graphics/B03950_09_16.jpg" alt="Playing particle in Blueprints"/></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec46"/>Summary</h1></div></div></div><p>From here, you can extend this particle and add some lights to make it look even more real. Note that the <span class="strong"><strong>Light</strong></span> module cannot be used with GPU particles so you need to create another emitter and add a light module there. Since you learned about the GPU particle data type, you can add more and more emitters that use other data types, such as beam type, mesh type, ribbon type, and so on. From what you learned in this chapter and other chapters, you can create a Blueprint that includes a light mesh that emits this spark particle effect when it receives damage.</p><p>In the next chapter, we will dive into the world of C++.</p></div></body></html>