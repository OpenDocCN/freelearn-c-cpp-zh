<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Building the Foundation"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Building the Foundation</h1></div></div></div><p>Building a game is like building a house. Except this is a crazy house with rooms sticking out everywhere, and at any time someone might decide to add another room just <span class="emphasis"><em>here</em></span>, and remove a room over <span class="emphasis"><em>there</em></span>. You had better have a good foundation!</p><p>This chapter will take you through the process of setting up the foundation to build your game. You will learn, how to set up a development environment using Visual Studio. Next, you will set up the game loop, which is the foundation for every game ever created. Finally, you will set up the development environment to use OpenGL as your rendering engine.</p><div class="section" title="Introducing the development environment"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Introducing the development environment</h1></div></div></div><p>The <span class="strong"><strong>development environment</strong></span> is the set of tools that you use to edit, compile, and run your program. There are<a id="id0" class="indexterm"/> many development tools out there; some tools are glorified text editors, while others are entire suites of tools that are integrated into a single application. These more advanced suites are known as <span class="strong"><strong>Integrated Development </strong></span><a id="id1" class="indexterm"/>
<span class="strong"><strong>Environments</strong></span> (<span class="strong"><strong>IDEs</strong></span>).</p><p>Microsoft's Visual Studio is by far the most widely used IDE, and the good news is that you can obtain and use it <a id="id2" class="indexterm"/>for free. Go to <a class="ulink" href="https://www.visualstudio.com/en-us/products/visual-studio-express-vs.aspx">https://www.visualstudio.com/en-us/products/visual-studio-express-vs.aspx</a> and follow the links to download the latest version of <a id="id3" class="indexterm"/>
<span class="strong"><strong>Visual Studio Community</strong></span>, previously known as <span class="strong"><strong>Visual Studio Express</strong></span>. Visual Studio Community is not a trial version and will not expire. You will probably see trial versions of Visual Studio being offered, so make sure you download the free version of Visual Studio Community.</p><p>Visual Studio <a id="id4" class="indexterm"/>offers several languages to program in. We will be using C++ throughout this book. When you first use Visual Studio, you may be asked which language you want to set up the development environment for. I recommend that you choose the C++ settings. However, you will still be able to use Visual Studio for C++ even if you choose a different default programming language.</p><p>Visual Studio Community 2013 was the current version at the time this book was written. All of the screenshots you see in the book are from that version. It is quite likely that a later version of Visual Studio will have come<a id="id5" class="indexterm"/> out by the time you get your hands on this book. The general functionality stays the same from one version to another, so this should not be a problem. If you are using a different version of Visual Studio, then the exact location of some commands may not be the same as in the screenshots in this book.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>Microsoft differentiates between programs written for Windows Desktop and those written for Windows Universal. <a id="id6" class="indexterm"/>Ensure that you download Visual Studio Community Express for Desktop.<a id="id7" class="indexterm"/>
</p></div></div><p>When you first start Visual Studio, you will be asked for a few options, so I thought I'd cover them here:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">If you are asked which programming language you would like to set up as your default development environment, it really doesn't matter which language you choose. If you think you will be using C++ a lot, then pick C++. If you pick another<a id="id8" class="indexterm"/> language as your default you will still be able to code in C++.</li><li class="listitem" style="list-style-type: disc">You will be asked to sign into your Microsoft account. If you have ever used MSN, Hotmail, or Windows Messenger, then you already have a Microsoft account. At any rate, if you don't have a Microsoft account you can use your own e-mail address to create one, and it doesn't cost anything.</li><li class="listitem" style="list-style-type: disc">You may be asked to set up a developer license for Windows. Just click <span class="strong"><strong>I Agree</strong></span> and it will be done. Again, no charge!</li></ul></div><div class="section" title="A quick look at Visual Studio"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec07"/>A quick look at Visual Studio</h2></div></div></div><p>As Visual Studio <a id="id9" class="indexterm"/>can do so many things, it may be a <a id="id10" class="indexterm"/>bit intimidating the first time you use it. I have been using Visual Studio for over 20 years and there are still parts of it that I have never needed! Let's take a look at the key components, in the following screenshot, that you will use every day:</p><div class="mediaobject"><img src="graphics/8199OS_01_01.jpg" alt="A quick look at Visual Studio"/></div><div class="section" title="Start screen"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec01"/>Start screen</h3></div></div></div><p>The start screen, as shown in the <a id="id11" class="indexterm"/>preceding screenshot, allows you to quickly start a new project or open an existing project. The most recent projects that you have worked with can be quickly accessed from the list of recent projects.</p></div><div class="section" title="The Solution Explorer panel"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec02"/>The Solution Explorer panel</h3></div></div></div><p>The <span class="strong"><strong>Solution Explorer</strong></span> panel <a id="id12" class="indexterm"/>allows you to navigate and work with all of the code and other resources in your project. If you do not see the <span class="strong"><strong>Solution Explorer</strong></span> window on your screen, click <span class="strong"><strong>View</strong></span> | <span class="strong"><strong>Solution Explorer</strong></span>.</p><div class="mediaobject"><img src="graphics/8199OS_01_02.jpg" alt="The Solution Explorer panel"/></div><p>From this window you can:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Double-click on any item to open it</li><li class="listitem" style="list-style-type: disc">Right-click to add existing items to the project</li><li class="listitem" style="list-style-type: disc">Right-click to add new items to the project</li><li class="listitem" style="list-style-type: disc">Create folders to organize your code</li></ul></div></div><div class="section" title="The Standard Toolbar panel"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec03"/>The Standard Toolbar panel</h3></div></div></div><p>The <span class="strong"><strong>Standard Toolbar</strong></span> <a id="id13" class="indexterm"/>panel contains buttons for the most common tasks:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Save the current file</li><li class="listitem" style="list-style-type: disc">Save all modified files</li><li class="listitem" style="list-style-type: disc">Undo and Redo</li><li class="listitem" style="list-style-type: disc">Run the program</li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip03"/>Tip</h3><p>There are basically two ways to run your program. You can run the program with or without debugging. Debugging mode allows you to set checkpoints that stop the program and let you view the state of variables, and perform other operations while the code is running. If you run the program without debugging, you will not be able to do these things.</p></div></div><div class="mediaobject"><img src="graphics/8199OS_01_03.jpg" alt="The Standard Toolbar panel"/></div></div><div class="section" title="The code window"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec04"/>The code window</h3></div></div></div><p>The center of the IDE is<a id="id14" class="indexterm"/> dominated by the code window. This is where you type and edit your code. You can have several code windows open at once. Each code window will add a tab across the top, allowing you to switch from one piece of code to another with a single click:</p><div class="mediaobject"><img src="graphics/8199OS_01_04.jpg" alt="The code window"/></div><p>You will notice that the text is color-coded. This allows you to easily see different types of code. For example, the comments in the code in the preceding screenshot are in green, while the C++ objects are<a id="id15" class="indexterm"/> in blue. You can also zoom in and out of the code by holding down the <span class="emphasis"><em>Ctrl</em></span> button and using the scroll wheel on the mouse.</p></div><div class="section" title="The output window"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec05"/>The output window</h3></div></div></div><p>The output window is<a id="id16" class="indexterm"/> typically at the bottom of the IDE. This window is where you will look at to see the status of the current run, and where you will find errors when you try to compile run your program.</p><p>If you see an error in the output window, you can usually double-click on it, and Visual Studio will take you to the line in code that caused the error:</p><div class="mediaobject"><img src="graphics/8199OS_01_05.jpg" alt="The output window"/></div></div></div><div class="section" title="Starting your project"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec08"/>Starting your project</h2></div></div></div><p>It's time to<a id="id17" class="indexterm"/> stop reading and start doing! We are going to use Visual Studio to start our game project.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open Visual Studio and click the <span class="strong"><strong>New Project</strong></span> link in the start window.</li><li class="listitem">Navigate to the left-hand side panel and select <span class="strong"><strong>Win32</strong></span> under the <span class="strong"><strong>Visual C++</strong></span> branch of <span class="strong"><strong>Templates</strong></span>.<div class="mediaobject"><img src="graphics/8199OS_01_06.jpg" alt="Starting your project"/></div></li><li class="listitem">Select <span class="strong"><strong>Win32 Project</strong></span> in the center area.</li><li class="listitem">Give the project a name. The first game we will be working on is a 2D robot racing game that we'll call <code class="literal">RoboRacer2D</code>.</li><li class="listitem">Choose a folder location to store the project, or just leave the default location.</li><li class="listitem">The solution<a id="id18" class="indexterm"/> name is almost always the same as the project name, so leave that as it is.</li><li class="listitem">Leave <span class="strong"><strong>Create directory for solution</strong></span> checked.</li><li class="listitem">Click <span class="strong"><strong>OK</strong></span>.</li><li class="listitem">On the next screen click <span class="strong"><strong>Finish</strong></span>.</li></ol></div><p>We need to tell Visual Studio how to work with Unicode characters. Right-click on the project name in the Solution Explorer panel and choose Properties. Then select General. Change the Character Set property to Not Set. </p><p>Congratulations! You have now created your Windows application and set up your development environment. It's time to move on to creating the framework for your game.</p></div></div></div>
<div class="section" title="The game loop"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>The game loop</h1></div></div></div><p>The game loop is the primary mechanism that moves the game forward in time. Before we learn<a id="id19" class="indexterm"/> how to create this important component, let's briefly take a look at the structure of most games.</p><div class="section" title="The game structure"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec09"/>The game structure</h2></div></div></div><p>There are three phases<a id="id20" class="indexterm"/> to most games: the initialization phase, the game loop, and the shutdown phase. The core of any game is the game loop.</p><div class="mediaobject"><img src="graphics/8199OS_01_07.jpg" alt="The game structure"/></div><p>The game loop is a sequence of processes that run continuously as long as the game is running. The three main processes that occur in the game loop are input, update, and render.</p><p>The input process is how<a id="id21" class="indexterm"/> the player controls the game. This could be any combination of keyboard, mouse, or control pad. Newer technologies allow the game to be controlled via a sensing device that detects gestures, while mobile devices detect touch, acceleration, and even GPS.</p><p>The update process encompasses all of the tasks required to update the game: calculating where characters and game objects have moved, determining whether items in the game have collided, and applying physics and other forces in the game.</p><p>Once the preceding calculations have been completed, then it is time to draw results. This is known as the<a id="id22" class="indexterm"/> <span class="strong"><strong>render process</strong></span>. OpenGL is the library of code that handles the rendering for your game.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip04"/>Tip</h3><p>Many people think<a id="id23" class="indexterm"/> that OpenGL is a <span class="strong"><strong>game engine</strong></span>. This is not accurate. OpenGL—the open<a id="id24" class="indexterm"/> graphics language—is a <span class="strong"><strong>rendering library</strong></span>. As you can see, rendering is only one process involved in the execution of a game.</p></div></div><p>Let's take a closer look<a id="id25" class="indexterm"/> at each stage of the game so that we can get a better idea of how OpenGL fits in.</p><div class="section" title="Initialization"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec06"/>Initialization</h3></div></div></div><p>There are certain parts <a id="id26" class="indexterm"/>of the game that must be set up only once before the game can run. This typically includes initializing variables and loading resources. There are certain parts of OpenGL that must be initialized during this phase as well.</p></div><div class="section" title="The game loop"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec07"/>The game loop</h3></div></div></div><p>Once the initialization is<a id="id27" class="indexterm"/> complete, the game loop takes over. The game loop is literally an endless loop that cycles until something tells it to stop. This is often the player telling the game to end.</p><p>In order to create the illusion of movement, the render phase must occur several times a second. In general, games strive to render at least 30 frames to the screen every second, and 60 frames per second (<span class="strong"><strong>fps</strong></span>) is<a id="id28" class="indexterm"/> even better.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip05"/>Tip</h3><p>It turns out that 24 fps is the threshold at which the human eye begins to see continuous motion instead of individual frames. This is why we want the slowest speed for our game to be 30 fps.</p></div></div></div><div class="section" title="Shutdown"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec08"/>Shutdown</h3></div></div></div><p>When the game does end, it isn't enough to just exit the program. Resources that are taking up precious computer <a id="id29" class="indexterm"/>memory must be properly released to the reclaim that memory. For example, if you have allocated memory for an image, you will want to release that memory by the end of the game. OpenGL has to be properly shut down so that it doesn't continue to<a id="id30" class="indexterm"/> control the <span class="strong"><strong>Graphics Processing Unit</strong></span> (<span class="strong"><strong>GPU</strong></span>). The final phase of the game is to return control to the device so that it will continue working properly in its normal, nongaming mode.</p></div></div><div class="section" title="Creating the game structure"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Creating the game structure</h2></div></div></div><p>Now that we created our <code class="literal">RoboRacer2D</code> project in Visual Studio project, let's learn how to modify this code to create our game structure. Start Visual Studio and open the project we just created.</p><p>You should now see a window with code in it. The name of the code file should be <code class="literal">RoboRacer2D.cpp</code>. If you don't see this code window, then find <span class="strong"><strong>Solution Explorer</strong></span>, navigate to <code class="literal">RoboRacer2D.cpp</code>, and open it up.</p><p>I'll be the first <a id="id31" class="indexterm"/>person to admit that the Windows C++ code is both ugly and intimidating! There is a lot of code created from you by Visual Studio when you choose the Windows desktop template to create your project. In fact, you can run this code right now by clicking <span class="strong"><strong>DEBUG</strong></span> from the menu bar and then choosing <span class="strong"><strong>Start Debugging</strong></span>. You can also press the <span class="emphasis"><em>F5</em></span> key.</p><p>Go ahead and do it!</p><div class="mediaobject"><img src="graphics/8199OS_01_08.jpg" alt="Creating the game structure"/></div><p>You will see a window telling you that the project is out of date. This simply means that Visual Studio needs to process your code and turn it into an executable—a process called building the project. For the computer science majors out there, this is where your code is compiled, linked, and<a id="id32" class="indexterm"/> then executed by the operating system.</p><p>Click <span class="strong"><strong>Yes</strong></span> to continue.</p><div class="mediaobject"><img src="graphics/8199OS_01_09.jpg" alt="Creating the game structure"/></div><p>Congratulations! You have now created and run your first program in Visual Studio. It may not look like much, but there is a lot going on here:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A fully sizeable and moveable window</li><li class="listitem" style="list-style-type: disc">A working menu system with <span class="strong"><strong>File</strong></span> and <span class="strong"><strong>Help</strong></span> choices</li><li class="listitem" style="list-style-type: disc">A title bar with <span class="strong"><strong>RoboRacer2D</strong></span></li><li class="listitem" style="list-style-type: disc">Working minimize, maximize, and close buttons</li></ul></div><p>Keep in mind that you haven't written a single line of code yet!</p><p>Now that you see it, feel free to use the close button to close the window and return to Visual Studio.</p><p>
<span class="emphasis"><em>But wait, this doesn't look like a game!</em></span>
</p><p>If you are thinking the RoboRacer2D program doesn't look much like a game, you are correct! In fact, to make a game we typically strip away about everything that you now see! However, for this demonstration, we are going to keep the window just like it is, and worry more about the <a id="id33" class="indexterm"/>code than the appearance.</p><div class="section" title="Port of access"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec09"/>Port of access</h3></div></div></div><p>Every program has a<a id="id34" class="indexterm"/> starting point, and for a Windows program the entry point is the <code class="literal">_tWinMain</code> function. Look for the following line of code:</p><div class="informalexample"><pre class="programlisting">int APIENTRY wWinMain</pre></div><p>The<code class="literal"> _wWinMain</code> function will<a id="id35" class="indexterm"/> start running and will set up everything required to run a Windows desktop program. It is beyond the scope of this book to go into everything that is going on here. We will just take it for granted that the code we are looking at sets things up to run in Windows, and we will focus on the things that we need to modify to make a game.</p></div><div class="section" title="The Windows message loop"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec10"/>The Windows message loop</h3></div></div></div><p>It turns out that <code class="literal">_wWinMain</code> already sets up a loop. In a similar manner to games, Windows programs actually<a id="id36" class="indexterm"/> run in an endless loop, until they receive some kind of event that tells them to stop. Here's the code:</p><div class="informalexample"><pre class="programlisting">// Main message loop:
while (GetMessage(&amp;msg, nullptr, 0, 0))
{
  if (!TranslateAccelerator(msg.hwnd, hAccelTable, &amp;msg))
  {
    TranslateMessage(&amp;msg);
    DispatchMessage(&amp;msg);
  }
}</pre></div><p>As you can see, these lines of code set up a while loop that will continue to run until the result of the <code class="literal">GetMessage</code> call is <code class="literal">false</code>.</p><p>Again, we won't worry about the exact details, but suffice to say that <code class="literal">GetMessage</code> constantly checks for messages, or events, that are sent by Windows. One particular message is the quit event, which will return a result of false, ending the <code class="literal">while</code> loop, exiting the<code class="literal"> _tWinMain</code> function, and ending the program.</p><p>Our goal is to modify the Windows message loop and turn this block of code into a game loop:</p><div class="informalexample"><pre class="programlisting">StartGame();
//Game Loop
bool done = false;
while (!done)
{
  if (PeekMessage(&amp;msg, NULL, 0, 0, PM_REMOVE))
  {
    if (msg.message == WM_QUIT)
    {
      done = true;
    }
    else
    {
      TranslateMessage(&amp;msg);
      DispatchMessage(&amp;msg);
    }
  }
  else
  {
    GameLoop();
  }
}
EndGame();</pre></div><p>Study the preceding <a id="id37" class="indexterm"/>code. You will see that we have added three new functions: <code class="literal">StartGame</code>, <code class="literal">GameLoop</code>, and <code class="literal">EndGame</code>.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">StartGame</code> comes before the Windows<a id="id38" class="indexterm"/> message loop, which means that everything in <code class="literal">StartGame</code> will run once before Windows enters its loop. We will put all of the game initialization code in the <code class="literal">StartGame</code> function.</li><li class="listitem" style="list-style-type: disc"><code class="literal">EndGame</code> comes after the <a id="id39" class="indexterm"/>Windows message loop. This means that the code in <code class="literal">EndGame</code> will only execute one time after the Windows message loop has exited. This is the perfect place for us to release resources and shut the game down.</li><li class="listitem" style="list-style-type: disc"><code class="literal">GameLoop</code> is interleaved in the Windows message loop. Basically, the code is saying, "<span class="emphasis"><em>Keep running until you receive a Windows message to quit. While you are running, check to see if Windows has passed any events that need to be handled. If there are no messages to handle, then run our game.</em></span>"</li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip06"/>Tip</h3><p>Order is important. For example, you<a id="id40" class="indexterm"/> have to declare these functions before the <code class="literal">wWinMain</code> function. This is because they are called by <code class="literal">wWinMain</code>, so they have to exist before <code class="literal">tWinMain</code> uses them. In general, a function has to be declared before the code that uses it.</p></div></div><p>In order for these new<a id="id41" class="indexterm"/> functions to be valid, go to the line just before the <code class="literal">_tWinMain</code> and enter some stubs for these three functions:</p><div class="informalexample"><pre class="programlisting">void StartGame()
{
}

void GameLoop()
{
}

void EndGame()
{
}</pre></div><p>The idea here is to help you see how easy it is to convert the standard Windows message loop into a game loop.</p></div></div></div>
<div class="section" title="Introducing OpenGL"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Introducing OpenGL</h1></div></div></div><p>We have spent a lot of time so far talking about game loops and Visual Studio. We are finally going to <a id="id42" class="indexterm"/>discuss the main topic of this book: <span class="strong"><strong>OpenGL</strong></span>!</p><div class="section" title="What is OpenGL?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec11"/>What is OpenGL?</h2></div></div></div><p>OpenGL makes it possible to<a id="id43" class="indexterm"/> render sophisticated 2D and 3D graphics on your computer screen. In fact, OpenGL is also the technology behind most mobile devices and tablet devices.</p><p>OpenGL works in conjunction with your device's graphics device to draw graphics on the screen. Most modern computing devices<a id="id44" class="indexterm"/> have two processors: the <span class="strong"><strong>Central Processing Unit</strong></span> (<span class="strong"><strong>CPU</strong></span>) and the<a id="id45" class="indexterm"/> <span class="strong"><strong>Graphics Processing Unit</strong></span> (<span class="strong"><strong>GPU</strong></span>).</p><p>Drawing modern 2D and 3D graphics is a very processor intensive task. In order to free the computer's main processor (the CPU) to do its job, the GPU takes on the task of rendering to the screen. OpenGL<a id="id46" class="indexterm"/> is a language that tells the GPU what to do and how to do it.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip07"/>Tip</h3><p>Technically, OpenGL is an API, or application programming interface. Another way to understand this is that OpenGL is a library of code that you can access once you have included the proper headers in your code. There are different versions of OpenGL. This book uses OpenGL 1.1. Although this is the very first version of OpenGL, it is included in all versions of Windows and provides the building blocks for all future versions.</p></div></div></div><div class="section" title="The other GL"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>The other GL</h2></div></div></div><p>By the way, you have probably heard of the "other" graphics engine—Microsoft's DirectX. Similar to OpenGL, DirectX<a id="id47" class="indexterm"/> allows programmers to talk to the GPU. A lot of people want to know the differences between OpenGL and DirectX, and which is the best choice.</p><p>Although there are certainly going to be fans and defenders of both technologies, the only real difference between DirectX and OpenGL is the specific way that you code them. Both technologies are about the same when it comes to features and abilities.</p><p>There is one advantage that OpenGL has over <a id="id48" class="indexterm"/>DirectX. DirectX only works on Microsoft technologies, while OpenGL works on Microsoft technologies and many others, including most modern cell phones, and the Apple Mac line of computers.</p></div><div class="section" title="Downloading OpenGL"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>Downloading OpenGL</h2></div></div></div><p>I remember when I was<a id="id49" class="indexterm"/> first learning OpenGL. I searched in vain, looking for the link to download the OpenGL SDK. It turns out that you don't have to download the OpenGL SDK because it is already installed when you install Visual Studio.</p><p>You do want to make sure that you have the latest OpenGL driver for your video card. To do that, go to <a class="ulink" href="http://www.opengl.org/wiki/Getting_started#Downloading_OpenGL">http://www.opengl.org/wiki/Getting_started#Downloading_OpenGL</a> and follow the appropriate<a id="id50" class="indexterm"/> link.</p></div><div class="section" title="Adding OpenGL to the project"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>Adding OpenGL to the project</h2></div></div></div><p>In order to use OpenGL in our<a id="id51" class="indexterm"/> program, we will need to add some code. Open the <code class="literal">RoboRacer2D</code> project that we have been working on, and let's do this!</p><div class="section" title="Linking to the OpenGL library"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec11"/>Linking to the OpenGL library</h3></div></div></div><p>Everything that <a id="id52" class="indexterm"/>you need to use OpenGL is found in the <code class="literal">OpenGL32.dll</code> lib file. It's up to you to tell Visual Studio that you want to use the OpenGL library in your project.</p><p>Right-click on <span class="strong"><strong>Project</strong></span> | <span class="strong"><strong>RoboRacer2D properties</strong></span>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip08"/>Tip</h3><p>By the way, Visual Studio first<a id="id53" class="indexterm"/> creates a <span class="strong"><strong>solution</strong></span>, and then puts a <span class="strong"><strong>project</strong></span> in the <a id="id54" class="indexterm"/>solution. The solution is the top entry in the <span class="strong"><strong>Solution Explorer</strong></span> hierarchy, and the project is the first child. In this case, make sure you right-click on the project, not the solution.</p></div></div><div class="mediaobject"><img src="graphics/8199OS_01_10.jpg" alt="Linking to the OpenGL library"/></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">For the <span class="strong"><strong>Configuration</strong></span> drop-down box, make sure you select <span class="strong"><strong>All Configurations</strong></span>.</li><li class="listitem">Open the <span class="strong"><strong>Configuration Properties</strong></span> branch, then the <span class="strong"><strong>Linker</strong></span> branch.</li><li class="listitem">Select the<a id="id55" class="indexterm"/> <span class="strong"><strong>Input</strong></span> option.</li><li class="listitem">Click the dropdown for <span class="strong"><strong>Additional Dependencies</strong></span> and choose <span class="strong"><strong>&lt;Edit…&gt;</strong></span>.</li><li class="listitem">Enter <code class="literal">OpenGL32.lib</code> into the dialog window and click <span class="strong"><strong>OK</strong></span>.<div class="mediaobject"><img src="graphics/8199OS_01_11.jpg" alt="Linking to the OpenGL library"/></div></li><li class="listitem">Close the <span class="strong"><strong>Property Pages</strong></span> window.</li></ol></div><p>Even if you are writing a 64 bit application, you will use the OpenGL 32 bit library.</p><p>Next, we need to tell <a id="id56" class="indexterm"/>Visual Studio that you want to include the OpenGL headers in your program. If you take a look at the top of your code, you will see several headers already being loaded:</p><div class="informalexample"><pre class="programlisting">#include "stdafx.h"
#include "RoboRacer2D.h"</pre></div><p>Just below these lines, add the following:</p><div class="informalexample"><pre class="programlisting">#include &lt;Windows.h&gt;
#include &lt;gl\GL.h&gt;
#include &lt;gl\GLU.h&gt;</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip09"/>Tip</h3><p>GL.h is the main header for the OpenGL library. <code class="literal">GLU.h</code> stands for GL Utility and is an additional library of features that make OpenGL a little easier to use. These headers correspond to the <code class="literal">OpenGL32.lib</code> and <code class="literal">Glu32.lib</code> libraries that we added to the project.</p></div></div><p>Congratulations! You<a id="id57" class="indexterm"/> have set up the development environment to use OpenGL and you are now ready to program your first game.</p></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Summary</h1></div></div></div><p>We covered a lot of ground in this chapter. We learned how to set up your development environment by downloading and installing Visual Studio. Next, we created a C++ Windows Desktop application.</p><p>We discussed the structure of most games and the importance of the game loop. Recall that an average game should run at 30 fps, while top-end games shoot for 60 fps to provide smooth animations.</p><p>Finally, we learned about OpenGL and how to initialize OpenGL in your project. Remember, OpenGL is the graphics engine that will be responsible for drawing every image and piece of text to your screen using the power of your GPU.</p><p>After all this work, there still isn't a lot to see. In the next chapter, we will go into all of the details of how to render your first image to the screen. Believe it or not, getting your development environment properly set up means you have already accomplished a great deal toward creating your first game using OpenGL.</p></div></body></html>