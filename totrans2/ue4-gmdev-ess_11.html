<html><head></head><body><div class="chapter" title="Chapter&#xA0;11.&#xA0;Packaging Project"><div class="titlepage"><div><div><h1 class="title"><a id="ch11"/>Chapter 11. Packaging Project</h1></div></div></div><p>Throughout this book, you learned the basics of Unreal Engine 4. In this final chapter, we will recap all that, as well as see how to package your project into a standalone game. You will also learn how to package the game for quick distribution and package a game as a release version.</p><div class="section" title="Recap"><div class="titlepage"><div><div><h1 class="title"><a id="ch11lvl1sec51"/>Recap</h1></div></div></div><p>In the first chapter, you learned the difference between Unreal Engine versions. As I have mentioned, the launcher <a id="id457" class="indexterm"/>version is a binary version compiled by Epic and is ready for you to use. But, if you want to get the latest build that is not yet available through launcher, then your only choice is getting the source code from GitHub. If you are going for the source code <a id="id458" class="indexterm"/>version of Unreal Engine then I recommend getting the source from the promoted branch. Epic works hard on the promoted build for their artists and designers, so most of the time it is updated daily and you get the latest stuff too! if you really want to get your hands dirty or you have that urge to grab the latest and the most cutting-edge build, then you should go for the master branch. Keep in mind that this branch tracks live changes directly from Epic, it might be buggy and it might even fail to compile.</p><p>Once you get the engine up and running, you can start importing your assets into <span class="strong"><strong>Content Browser</strong></span>. This is where you save and edit the assets that are used in your game. <span class="strong"><strong>Content Browser</strong></span> offers a lot<a id="id459" class="indexterm"/> of functionality such as searching based on keyword, tags, asset type, filters, etc. and you can use the <span class="strong"><strong>Collections</strong></span> feature in <span class="strong"><strong>Content Browser</strong></span> to add references to your most commonly used assets. When searching, you can exclude specific keywords by adding the hyphen (-) before the name. For example, if you want to exclude all assets that contain the name <code class="literal">floor</code>, then you can search in <span class="strong"><strong>Content Browser</strong></span> as <code class="literal">-floor</code>. This will show you all assets that do not contain the word floor.</p><p>Another great feature of <span class="strong"><strong>Content Browser</strong></span> is the <span class="strong"><strong>Developers</strong></span> folder. This is especially useful when you are working in a team where you want to try out different techniques or assets in your game without affecting other parts. One thing to remember is that you should only use this strictly for personal or experimental work and you should never include references to external assets outside this folder. For example, if you made an asset that you want to try out before adding it to the game, then you can create a test level inside your <span class="strong"><strong>Developers</strong></span> folder and test out everything there. Think of the <span class="strong"><strong>Developers</strong></span> folder as your own private playground where you can do whatever you want without affecting others work. The<a id="id460" class="indexterm"/> <span class="strong"><strong>Developers</strong></span> folder is not enabled by default. To enable it, click on <span class="strong"><strong>View Options</strong></span> at the bottom right corner of your <span class="strong"><strong>Content Browser</strong></span> and select <span class="strong"><strong>Show Developers Folder</strong></span>:</p><div class="mediaobject"><img src="graphics/B03950_11_01.jpg" alt="Recap"/></div><p>Once you enable that, you will see a new folder called <span class="strong"><strong>Developers</strong></span> under your <span class="strong"><strong>Content</strong></span> folder in <span class="strong"><strong>Content Browser</strong></span>:</p><div class="mediaobject"><img src="graphics/B03950_11_02.jpg" alt="Recap"/></div><p>The name of the folder<a id="id461" class="indexterm"/> inside the <span class="strong"><strong>Developers</strong></span> folder is automatically set to your Windows username. If you are using <span class="strong"><strong>Source Control</strong></span> (for example, Perforce or Subversion), then you can see the <code class="literal">Other</code> <span class="strong"><strong>Developers</strong></span> folder by enabling the <span class="strong"><strong>Other Developers</strong></span> checkbox available under <span class="strong"><strong>Filters</strong></span> | <span class="strong"><strong>Other Filters</strong></span>:</p><div class="mediaobject"><img src="graphics/B03950_11_03.jpg" alt="Recap"/></div><p>Knowing this will help you a lot when you are working with a team or when you have lots of assets.</p><p>Just like how you use <span class="strong"><strong>Content Browser</strong></span> to find assets that are imported, you use <span class="strong"><strong>World Outliner</strong></span> to find assets that are placed in your level. You can also use <span class="strong"><strong>Layers</strong></span> to organize assets that are placed in the level. Both of these windows can be summoned from <span class="strong"><strong>Window</strong></span> in the menu bar:</p><div class="mediaobject"><img src="graphics/B03950_11_04.jpg" alt="Recap"/></div><p>In <a class="link" href="ch03.html" title="Chapter 3. Materials">Chapter 3</a>, <span class="emphasis"><em>Materials</em></span>, you learned<a id="id462" class="indexterm"/> about the awesome <span class="strong"><strong>Material Editor</strong></span> and the common nodes that we will use. A good material artist can totally change the realism of your game. Mainly materials and post processing gives you the power to make the game look realistic or cartoony. The common material expressions that we learned are not just used for coloring your assets. For example, create the following material network and apply to a simple mesh (for example, a sphere) and see what happens:</p><div class="mediaobject"><img src="graphics/B03950_11_05.jpg" alt="Recap"/></div><p>If you find yourself using a specific network multiple times, then it's better for you to create a material function which can tidy up your graph and make it more organized.</p><p>As you continue developing your <a id="id463" class="indexterm"/>game, you will eventually start tweaking with <span class="strong"><strong>Post Process Volume</strong></span>. This lets you modify the overall look and feel of your game. By combining <span class="strong"><strong>Post Process</strong></span> in blueprints or C++ you can even use it to affect your game play too. A perfect example for this is the detective vision from the Batman Arkham series games. You can use materials in post process to highlight a specific object in world or even use it to render outlines for meshes that are behind other objects.</p><p>Another crucial part of the game that determines the final look is lighting. In this book, you learned about different light mobilities, the differences between them including common light settings and how it affects the game world. You also learned about Lightmass Global Illumination which is<a id="id464" class="indexterm"/> the static global illumination solver developed by Epic Games. </p><p>As you know by now, Lightmass is used to bake lighting and because of that, dynamic lights are not supported by Lightmass. When using Lightmass for your game, you need to make sure that you have a second UV channel for all your static meshes (that are not set to movable) to have proper shadows. If you want to use dynamic lights (that means lights that can change any of their properties at runtime-think of the day and night cycle as an example), Epic has included support for <span class="strong"><strong>Light Propagation Volume</strong></span> (<span class="strong"><strong>LPV</strong></span>). At<a id="id465" class="indexterm"/> the time of writing this book, LPV is in experimental stage and is not yet ready for production. One extra thing that is worth mentioning here is the ability to change bounced lighting color. Take a look at the following material network:</p><div class="mediaobject"><img src="graphics/B03950_11_06.jpg" alt="Recap"/></div><p>Using the <span class="strong"><strong>GIReplace</strong></span> material node, you can change the color of the bounced light. If you apply the preceding material to a mesh and use Lightmass to build lighting, the result of the bounced light will be red<a id="id466" class="indexterm"/> color instead of white. Even though we don't need to have a different color for bounced lights, we can still use this node to darken or brighten the bounced lighting without the need to adjust Lightmass settings.</p><p>Once we have all the base setups, we then jump to Blueprints. <span class="strong"><strong>Blueprint Visual Scripting</strong></span> is a powerful and flexible <a id="id467" class="indexterm"/>node-based editor that lets artists and designers quickly prototype their game. Mainly, we work with two common Blueprint types and they are <span class="strong"><strong>Level Blueprint</strong></span> and <span class="strong"><strong>Class Blueprint</strong></span>. Inside these Blueprints, we have Event Graph, Function Graph, and Macro Graph. In <span class="strong"><strong>Class Blueprints</strong></span>, we add components to define what that Blueprint is and how they behave. Nodes in Blueprint have<a id="id468" class="indexterm"/> various colors applied to them to indicate what kind of node they are. Once you start using Blueprints, you will get familiar with all the node colors and what they mean. We saw how to create a <span class="strong"><strong>Class Blueprint</strong></span> from an <code class="literal">Actor</code> class and how to spawn it dynamically in the game. We also saw how we can interact with objects in world through <span class="strong"><strong>Level Blueprint</strong></span>. We placed triggers in the level and in <span class="strong"><strong>Level Blueprint</strong></span> we created overlap events for these triggers and learned how to play a Matinee sequence.</p><p>Matinee is one of the powerful tools in <a id="id469" class="indexterm"/>Unreal Engine 4 that is mainly used to create cinematics. You learned about Matinee UI and how to create a basic cut scene. Since Matinee is similar to other nonlinear video editors, it is easy for video editing professionals to get familiar with Matinee. Even though Matinee is used for cinematics, you can also use it for gameplay-related elements such as opening doors, elevator movement etc.. You can even use it to export your existing cinematics as image sequences or in the AVI format.</p><p>After learning about Matinee, we continued to the next chapter to learn about <span class="strong"><strong>Unreal Motion Graphics</strong></span> (<span class="strong"><strong>UMG</strong></span>). UMG is a UI authoring tool developed by Epic. Using UMG, we created a simple HUD for the<a id="id470" class="indexterm"/> player and learned how to communicate with the player Blueprint to show a health bar for the player. We also made a 3D widget for the player that floats on top of the character's head.</p><p>Continuing from there, you learned more about the Cascade Particle System. You learned about Particle Editor and various other windows available inside Cascade Editor. After learning the basics, you created a basic particle system using GPU Sprites including collision. Lastly, we took the particle system to Blueprints and learned how to randomly burst the particles using Custom events and delay node.</p><p>Finally, we dived into the magic world of C++. There you learned about various versions of Visual Studio 2015 and how to download Visual Studio 2015 Community Edition. Once we have the IDE installed, we created a new C++ project based on the Third Person template. From there we extended it to include health and health regeneration for our character class. You also learned how to expose variables and functions to Blueprints and how to access them in Blueprints.</p></div></div>
<div class="section" title="Packaging the project"><div class="titlepage"><div><div><h1 class="title"><a id="ch11lvl1sec52"/>Packaging the project</h1></div></div></div><p>Now that you have learned most <a id="id471" class="indexterm"/>of the basics of Unreal Engine 4, let's see how to package your game. Before we package the game, we need to make sure that we set a default map for our game which will be loaded when your packaged game starts. You can set the <span class="strong"><strong>Game Default Map</strong></span> option from the <span class="strong"><strong>Project Settings</strong></span> window. For example, you can set the <span class="strong"><strong>Game Default Map</strong></span> option to your main menu map:</p><div class="mediaobject"><img src="graphics/B03950_11_07.jpg" alt="Packaging the project"/></div><p>To set a default map for the<a id="id472" class="indexterm"/> game, please follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Click on the <span class="strong"><strong>Edit</strong></span> menu.</li><li class="listitem">Click on <span class="strong"><strong>Project Settings</strong></span>.</li><li class="listitem">Select <span class="strong"><strong>Maps &amp; Modes</strong></span>.</li><li class="listitem">Choose your new map in <span class="strong"><strong>Game Default Map</strong></span>.</li></ol></div><div class="section" title="Quick packaging"><div class="titlepage"><div><div><h2 class="title"><a id="ch11lvl2sec83"/>Quick packaging</h2></div></div></div><p>Once you set the<a id="id473" class="indexterm"/> <span class="strong"><strong>Game Default Map</strong></span> option, you need to select the <span class="strong"><strong>Build Configuration</strong></span>:</p><div class="mediaobject"><img src="graphics/B03950_11_08.jpg" alt="Quick packaging"/></div><p>There are three types of build configurations<a id="id474" class="indexterm"/> available Packaging the project:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">DebugGame</code>: This configuration<a id="id475" class="indexterm"/> will include all the debug information. For testing purposes, you can use this configuration.</li><li class="listitem" style="list-style-type: disc"><code class="literal">Development</code>: This configuration<a id="id476" class="indexterm"/> offers better performance compared to the <code class="literal">DebugGame</code> configuration build because of minimal debugging support.</li><li class="listitem" style="list-style-type: disc"><code class="literal">Shipping</code>: This should be the<a id="id477" class="indexterm"/> setting you should choose when you want to distribute the game.</li></ul></div><p>Once you have selected your build <a id="id478" class="indexterm"/>configuration, you can package your game from <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Package Project</strong></span> and then select your platform. For example, here is the option to package your game for <span class="strong"><strong>Windows 64-bit</strong></span>:</p><div class="mediaobject"><img src="graphics/B03950_11_09.jpg" alt="Quick packaging"/></div><p>Once you select that option, editor might prompt you to select a target directory to save the packaged game. Once you set the path, editor will start building and cooking the content for the selected platform. If the packaging is successful, you will see the packaged game under the<a id="id479" class="indexterm"/> target directory you set earlier.</p></div><div class="section" title="Packaging the release version"><div class="titlepage"><div><div><h2 class="title"><a id="ch11lvl2sec84"/>Packaging the release version</h2></div></div></div><p>The previously mentioned<a id="id480" class="indexterm"/> method is for quickly packaging and distributing the game to end users. However the preceding method cannot build DLCs or patches for your game so in this section, you will learn how to create a release <a id="id481" class="indexterm"/>version for your game.</p><p>To start let's first open the <span class="strong"><strong>Project Launcher</strong></span> window. <span class="strong"><strong>Project Launcher</strong></span> provides advanced workflows to packaging your game:</p><div class="mediaobject"><img src="graphics/B03950_11_10.jpg" alt="Packaging the release version"/></div><p>To create a custom launch profile, click on the plus (<span class="strong"><strong>+</strong></span>) button as shown in the preceding screenshot. Once you click on that you will see a new window with new settings as follows:</p><div class="mediaobject"><img src="graphics/B03950_11_11.jpg" alt="Packaging the release version"/></div><p>In the preceding window, do<a id="id482" class="indexterm"/> the following:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Enable the <span class="strong"><strong>Build</strong></span> checkbox.</li><li class="listitem">Set the <span class="strong"><strong>Build Configuration</strong></span> option to <span class="strong"><strong>Shipping</strong></span>.</li><li class="listitem">Set the dropdown to <span class="strong"><strong>By the book</strong></span>.</li><li class="listitem">In this example we <a id="id483" class="indexterm"/>selected <span class="strong"><strong>WindowsNoEditor</strong></span> to test on Windows.</li><li class="listitem">Select the culture. This is used for localization. By default, <span class="strong"><strong>en-US</strong></span> is selected.</li></ol></div><p>Once all those settings are done, expand the <span class="strong"><strong>Release/DLC/Patching Settings</strong></span> and <span class="strong"><strong>Advanced Settings</strong></span> sections:</p><div class="mediaobject"><img src="graphics/B03950_11_12.jpg" alt="Packaging the release version"/></div><p>Inside those sections do the following:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Enable <span class="strong"><strong>Create a release version of the game for distribution</strong></span>.</li><li class="listitem">Set the name of the new release to <span class="strong"><strong>1.0</strong></span>.</li><li class="listitem">Enable <span class="strong"><strong>Store all content in a single file (UnrealPak)</strong></span>.</li><li class="listitem">Set the <span class="strong"><strong>Cooker build</strong></span><a id="id484" class="indexterm"/><span class="strong"><strong> configuration</strong></span> section to <span class="strong"><strong>Shipping</strong></span>.</li><li class="listitem">Add the <code class="literal">–stage</code> command line as <span class="strong"><strong>Additional Cooker Option</strong></span>. Note that you do not press enter after typing it. Simply click anywhere else to apply that command.</li></ol></div><p>After setting this, set the<a id="id485" class="indexterm"/> last two options of <span class="strong"><strong>Package</strong></span> and <span class="strong"><strong>Deploy</strong></span> to <span class="strong"><strong>Do not package</strong></span> and <span class="strong"><strong>Do not deploy</strong></span> respectively:</p><div class="mediaobject"><img src="graphics/B03950_11_13.jpg" alt="Packaging the release version"/></div><p>Once all those are done, click on the <span class="strong"><strong>Back</strong></span> button on the top right corner of the <span class="strong"><strong>Project Launcher</strong></span> window and you will see your new profile ready to build:</p><div class="mediaobject"><img src="graphics/B03950_11_14.jpg" alt="Packaging the release version"/></div><p>Simply click on the <a id="id486" class="indexterm"/>
<span class="strong"><strong>Launch</strong></span> button, <span class="strong"><strong>ProjectLauncher</strong></span> will build, cook, and <a id="id487" class="indexterm"/>package your game. This might take time depending on the complexity of your game:</p><div class="mediaobject"><img src="graphics/B03950_11_15.jpg" alt="Packaging the release version"/></div><p>If the packaging was<a id="id488" class="indexterm"/> successful, then you can see that in<a id="id489" class="indexterm"/> the <span class="strong"><strong>ProjectLauncher</strong></span> window:</p><div class="mediaobject"><img src="graphics/B03950_11_16.jpg" alt="Packaging the release version"/></div><p>You can find your packaged game<a id="id490" class="indexterm"/> in your project folder under <span class="strong"><strong>Saved</strong></span> | <span class="strong"><strong>StagedBuilds</strong></span> | <span class="strong"><strong>WindowsNoEditor</strong></span> folder. Now you can distribute this <a id="id491" class="indexterm"/>packaged game to other users.</p></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch11lvl1sec53"/>Summary</h1></div></div></div><p>Throughout this book, you learned the basics of Unreal Engine 4. We started this journey with you learning how to download the engine and saw how to import your own assets. From there you learned about Material Editor and its common aspects. Then you learned about Post Process, how to use lights and the importance of lights in video games. You also learned about Blueprints which is the visual scripting language of Unreal Engine 4. We continued our journey from Blueprints to UMG which you can use to create any kind of menu in the game. Since a game is nothing without visual effects and cut scenes, you learned about Cascade Particle Editor and Matinee. From there we dived into the world of C++ to learn the basics of this awesome language. Finally you learned how to package the game and distribute it to others.</p></div>
<div class="section" title="References"><div class="titlepage"><div><div><h1 class="title"><a id="ch11lvl1sec54"/>References</h1></div></div></div><p>Your journey of learning Unreal Engine 4 does not stop here. You can extend your knowledge even further by visiting these links:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Unreal Engine</em></span><a id="id492" class="indexterm"/><span class="emphasis"><em> Community</em></span><p>
<a class="ulink" href="https://forums.unrealengine.com/">https://forums.unrealengine.com/</a>
</p></li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Unreal Engine </em></span><a id="id493" class="indexterm"/><span class="emphasis"><em>Official Twitch Streams</em></span><p> <a class="ulink" href="http://www.twitch.tv/unrealengine">http://www.twitch.tv/unrealengine</a>
</p></li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Unreal Engine</em></span><a id="id494" class="indexterm"/><span class="emphasis"><em> YouTube channel</em></span><p>
<a class="ulink" href="https://www.youtube.com/user/UnrealDevelopmentKit/videos">https://www.youtube.com/user/UnrealDevelopmentKit/videos</a>
</p></li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Unreal Engine</em></span><a id="id495" class="indexterm"/><span class="emphasis"><em> AnswerHub</em></span><p>
<a class="ulink" href="https://answers.unrealengine.com/index.html">https://answers.unrealengine.com/index.html</a>
</p></li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Unreal Engine </em></span><a id="id496" class="indexterm"/><span class="emphasis"><em>Documentation</em></span><p>
<a class="ulink" href="https://docs.unrealengine.com/latest/INT/GettingStarted/index.html">https://docs.unrealengine.com/latest/INT/GettingStarted/index.html</a>
</p></li></ul></div></div></body></html>