<html><head></head><body>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch04" class="calibre1"/>Chapter 4. Looping</h1></div></div></div><p class="calibre9">In the previous chapter, we discussed the <code class="email">if</code> statement. The <code class="email">if</code> statement<a id="id146" class="calibre1"/> enables you to put a condition on the execution of a block of code.</p><p class="calibre9">In this chapter, we will explore loops, which are code structures that enable you to repeat a block of code under certain conditions. We stop repeating that block of code once the condition becomes false.</p><p class="calibre9">In this chapter, we will explore the following topics:</p><div><ul class="itemizedlist"><li class="listitem">While loops</li><li class="listitem">Do/while loops</li><li class="listitem">For loops</li><li class="listitem">A simple example of a practical loop within Unreal Engine</li></ul></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_1"><a id="ch04lvl1sec24" class="calibre1"/>The while loop</h1></div></div></div><p class="calibre9">The <code class="email">while</code> loop<a id="id147" class="calibre1"/> is used to run a section of the code repeatedly. This is useful if you have a set of actions that must be done repeatedly to accomplish some goal. For example, the <code class="email">while</code> loop in the following code repeatedly prints the value of the variable <code class="email">x</code> as it is incremented from 1 to 5:</p><div><pre class="programlisting">int x = 1;
while( x &lt;= 5 ) // may only enter the body of the while when x&lt;=5
{
  cout &lt;&lt; "x is " &lt;&lt; x &lt;&lt; endl;
  x++;
}
cout &lt;&lt; "Finished" &lt;&lt; endl;</pre></div><p class="calibre9">This is the output of the preceding program:</p><div><pre class="programlisting">x is 1
x is 2
x is 3
x is 4
x is 5
Finished</pre></div><p class="calibre9">In the first line<a id="id148" class="calibre1"/> of code, an integer variable <code class="email">x</code> is created and set to 1. Then, we go the <code class="email">while</code> condition. The <code class="email">while</code> condition says that while <code class="email">x</code> is less than or equal to 5, you must stay in the block of code that follows.</p><p class="calibre9">Each iteration of the loop (an iteration means going once around the loop) gets a little more done from the task (of printing the numbers 1 to 5). We program the loop to automatically exit once the task is done (when <code class="email">x &lt;= 5</code> is no longer true).</p><p class="calibre9">Similar to the <code class="email">if</code> statement of the previous chapter, entry into the block below the <code class="email">while</code> loop is only allowed if you meet the condition within the brackets of the <code class="email">while</code> loop (in the preceding example, <code class="email">x &lt;= 5</code>). You can try mentally subbing an <code class="email">if</code> loop in the place of the <code class="email">while</code> loop, as shown in the following code:</p><div><pre class="programlisting">int x = 1;
if( x &lt;= 5 ) // you may only enter the block below when x&lt;=5
{
  cout &lt;&lt; "x is " &lt;&lt; x &lt;&lt; endl;
  x++;
}
cout &lt;&lt; "End of program" &lt;&lt; endl;</pre></div><p class="calibre9">The preceding code sample will only print <code class="email">x is 1</code>. So, a <code class="email">while</code> loop is exactly like an <code class="email">if</code> statement, only it has this special property of automatically repeating itself until the condition between the brackets of the <code class="email">while</code> loop becomes <code class="email">false</code>.</p><div><h3 class="title2"><a id="note09" class="calibre1"/>Note</h3><p class="calibre9">I'd like to explain the repetition of the <code class="email">while</code> loop using a video game. If you don't know Valve's <em class="calibre10">Portal</em>, you should play it, if only to understand loops. Check out <a class="calibre1" href="https://www.youtube.com/watch?v=TluRVBhmf8w">https://www.youtube.com/watch?v=TluRVBhmf8w</a> for a demo video.</p></div><p class="calibre9">The <code class="email">while</code> loops have a kind of magic <em class="calibre10">portal</em> at the bottom, which cause the loop to repeat. The following screenshot illustrates what I mean:</p><div><img src="img/00048.jpeg" alt="The while loop" class="calibre11"/><div><p class="calibre16">There is a portal at the end of the while loop that takes you back to the beginning</p></div></div><p class="calibre12"> </p><p class="calibre9">In the preceding <a id="id149" class="calibre1"/>screenshot, we loop back from the orange portal (marked <strong class="calibre2">O</strong>) to the blue portal (marked <strong class="calibre2">B</strong>). This is our first time of being able to go back in the code. It is like time travel, only for the code. How exciting!</p><p class="calibre9">The only way past a <code class="email">while</code> loop block is to not meet the entry condition. In the preceding example, once the value of <code class="email">x</code> becomes 6 (so, <code class="email">x &lt;= 5</code> becomes false), we will not enter the <code class="email">while</code> loop again. Since the orange portal is inside the loop, we'll be able to get to finished once <code class="email">x</code> becomes 6.</p></div></div>

<div><div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch04lvl2sec41" class="calibre1"/>Infinite loops</h2></div></div></div><p class="calibre9">You can <a id="id150" class="calibre1"/>get stuck inside the same loop forever. Consider the modified program in the following block of code (what do you think will be the output?):</p><div><pre class="programlisting">int x = 1;
while( x &lt;= 5 ) // may only enter the body of the while when x&lt;=5
{
  cout &lt;&lt; "x is " &lt;&lt; x &lt;&lt; endl;
}
cout &lt;&lt; "End of program" &lt;&lt; endl;</pre></div><p class="calibre9">This is how the output will look:</p><div><pre class="programlisting">x is 1
x is 1
x is 1
.
.
.
(repeats forever)</pre></div><p class="calibre9">The loop repeats forever because we removed the line of code that changed the value of <code class="email">x</code>. If the value of <code class="email">x</code> stays the same and is not allowed to increase, we will be stuck inside the body of the <code class="email">while</code> loop. This is because the loop's exit condition (the value of <code class="email">x</code> becomes 6) cannot be met if <code class="email">x</code> does not change inside the loop body.</p><p class="calibre9">The following exercises will use all the concepts from the previous chapters, such as the <code class="email">+=</code> and decrement operations. If you've forgotten something, go back and reread the previous sections.</p></div></div></div>

<div><div><div><div><div><div><h2 class="title1" id="calibre_pb_3"><a id="ch04lvl2sec42" class="calibre1"/>Exercises</h2></div></div></div><div><ol class="orderedlist"><li class="listitem" value="1">Write<a id="id151" class="calibre1"/> a <code class="email">while</code> loop that will print the numbers from 1 to 10.</li><li class="listitem" value="2">Write a <code class="email">while</code> loop that will print the numbers from 10 to 1 (backwards).</li><li class="listitem" value="3">Write a <code class="email">while</code> loop that will print numbers 2 to 20, incrementing by 2 (for example 2, 4, 6, and 8).</li><li class="listitem" value="4">Write a <code class="email">while</code> loop that will print the numbers 1 to 16 and their squares beside them.</li></ol><div></div><p class="calibre9">The following is an example program output of the exercise 4:</p><div><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><tbody class="calibre24"><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">1</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">1</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">2</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">4</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">3</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">9</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">4</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">16</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">5</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">25</p>
</td></tr></tbody></table></div></div></div></div>

<div><div><div><div><div><div><h2 class="title1" id="calibre_pb_4"><a id="ch04lvl2sec43" class="calibre1"/>Solutions</h2></div></div></div><p class="calibre9">The code solutions of the<a id="id152" class="calibre1"/> preceding exercises are as follows:</p><div><ol class="orderedlist"><li class="listitem" value="1">The solution of the <code class="email">while</code> loop that prints the numbers from 1 to 10 is as follows:<div><pre class="programlisting">int x = 1;
while( x &lt;= 10 )
{
  cout &lt;&lt; x &lt;&lt; endl;
  x++;
}</pre></div></li><li class="listitem" value="2">The solution of the <code class="email">while</code> loop that prints the numbers from 10 to 1 in backwards is as follows:<div><pre class="programlisting">int x = 10; // start x high
while( x &gt;= 1 ) // go until x becomes 0 or less
{
  cout &lt;&lt; x &lt;&lt; endl;
  x--; // take x down by 1
}</pre></div></li><li class="listitem" value="3">The solution of the <code class="email">while</code> loop that prints the numbers from 2 to 20 incrementing by 2 is as follows:<div><pre class="programlisting">int x = 2;
while( x &lt;= 20 )
{
  cout &lt;&lt; x &lt;&lt; endl;
  x+=2; // increase x by 2's
}</pre></div></li><li class="listitem" value="4">The solution of the <code class="email">while</code> loop that prints the numbers from 1 to 16 with their squares is as follows:<div><pre class="programlisting">int x = 1;
while( x &lt;= 16 )
{
  cout &lt;&lt; x &lt;&lt; "   " &lt;&lt; x*x &lt;&lt; endl; // print x and it's  square
  x++;
}</pre></div></li></ol><div></div></div></div></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec25" class="calibre1"/>The do/while loop</h1></div></div></div><p class="calibre9">The <a id="id153" class="calibre1"/>
<code class="email">do/while</code> loop is almost identical to the <code class="email">while</code> loop. Here's an example of a <code class="email">do/while</code> loop that is equivalent to the first <code class="email">while</code> loop that we examined:</p><div><pre class="programlisting">int x = 1;
do
{
  cout &lt;&lt; "x is " &lt;&lt; x &lt;&lt; endl;
  x++;
} while( x &lt;= 5 ); // may only loop back when x&lt;=5
cout &lt;&lt; "End of program" &lt;&lt; endl;</pre></div><p class="calibre9">The only difference here is that we don't have to check the <code class="email">while</code> condition on our first entry into the loop. This means that the <code class="email">do/while</code> loop's body is always executed at least once (where a <code class="email">while</code> loop can be skipped entirely if the condition to enter the <code class="email">while</code> loop is <code class="email">false</code> when you hit it for the first time).</p></div>

<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec26" class="calibre1"/>The for loop</h1></div></div></div><p class="calibre9">The <a id="id154" class="calibre1"/>
<code class="email">for</code> loop has a slightly different anatomy than the <code class="email">while</code> loop, but both are very similar.</p><p class="calibre9">Let's examine the anatomy of a <code class="email">for</code> loop as compared to an equivalent <code class="email">while</code> loop. Take an example of the following code snippets:</p><div><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><thead class="calibre20"><tr class="calibre21"><th valign="bottom" class="calibre22">
<p class="calibre23">The for loop</p>
</th><th valign="bottom" class="calibre22">
<p class="calibre23">An equivalent while loop</p>
</th></tr></thead><tbody class="calibre24"><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
</p><div><pre class="programlisting1">for( int x = 1; x &lt;= 5; x++ )
{
  cout &lt;&lt; x &lt;&lt; endl;
}</pre></div><p class="calibre23">
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">
</p><div><pre class="programlisting1">int x = 1;
while( x &lt;= 5 )
{
  cout &lt;&lt; x &lt;&lt; endl;
  x++;
}</pre></div><p class="calibre23">
</p>
</td></tr></tbody></table></div><p class="calibre9">The <code class="email">for</code> loop has three statements inside its brackets. Let's examine them in order.</p><p class="calibre9">The first statement of the <code class="email">for</code> loop (<code class="email">int x = 1</code>;) only gets executed once, when we first enter the body of the <code class="email">for</code> loop. It is typically used to initialize the value of the loop's counter variable (in this case, the variable <code class="email">x</code>). The second statement inside the <code class="email">for</code> loop (<code class="email">x &lt;= 5</code>;) is the loop's repeat condition. As long as <code class="email">x &lt;= 5</code>, we must continue to stay inside the body <a id="id155" class="calibre1"/>of the <code class="email">for</code> loop. The last statement inside the brackets of the <code class="email">for</code> loop (<code class="email">x++</code>;) gets executed after we complete the body of the <code class="email">for</code> loop each time.</p><p class="calibre9">The following sequence of diagrams explain the progression of the <code class="email">for</code> loop:</p><div><img src="img/00049.jpeg" alt="The for loop" class="calibre11"/></div><p class="calibre12"> </p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch04lvl2sec44" class="calibre1"/>Exercises</h2></div></div></div><div><ol class="orderedlist"><li class="listitem" value="1">Write a <code class="email">for</code> loop <a id="id156" class="calibre1"/>that will gather the sum of the numbers from 1 to 10.</li><li class="listitem" value="2">Write a <code class="email">for</code> loop that will print the multiples of 6, from 6 to 30 (6, 12, 18, 24, and 30).</li><li class="listitem" value="3">Write a <code class="email">for</code> loop that will print numbers 2 to 100 in multiples of 2 (for example, 2, 4, 6, 8, and so on).</li><li class="listitem" value="4">Write a <code class="email">for</code> loop that will print numbers 1 to 16 and their squares beside them.</li></ol><div></div></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch04lvl2sec45" class="calibre1"/>Solutions</h2></div></div></div><p class="calibre9">Here<a id="id157" class="calibre1"/> are the solutions for the preceding exercises:</p><div><ol class="orderedlist"><li class="listitem" value="1">The solution for the <code class="email">for</code> loop for printing the sum of the numbers from 1 to 10 is as follows:<div><pre class="programlisting">int sum = 0;
for( int x = 1; x &lt;= 10; x++ )
{
  sum += x;
  cout &lt;&lt; x &lt;&lt; endl;
}</pre></div></li><li class="listitem" value="2">The solution for the <code class="email">for</code> loop for printing multiples of 6 from 30 is as follows:<div><pre class="programlisting">for( int x = 6; x &lt;= 30; x += 6 )
{
  cout &lt;&lt; x &lt;&lt; endl;
}</pre></div></li><li class="listitem" value="3">The solution for the <code class="email">for</code> loop for printing numbers from 2 to 100 in multiples of 2 is as follows:<div><pre class="programlisting">for( int x = 2; x &lt;= 100; x += 2 )
{
  cout &lt;&lt; x &lt;&lt; endl;
}</pre></div></li><li class="listitem" value="4">The solution for the <code class="email">for</code> loop that prints numbers from 1 to 16 and their squares is as follows:<div><pre class="programlisting">for( int x = 1; x &lt;= 16; x++ )
{
  cout &lt;&lt; x &lt;&lt; " " &lt;&lt; x*x &lt;&lt; endl;
}</pre></div></li></ol><div></div></div></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec27" class="calibre1"/>Looping with Unreal Engine</h1></div></div></div><p class="calibre9">In your code editor, open your Unreal Puzzle project from <a class="calibre1" title="Chapter 3. If, Else, and Switch" href="part0024_split_000.html#MSDG1-dd4a3f777fc247568443d5ffb917736d">Chapter 3</a>, <em class="calibre10">If, Else, and Switch</em>.</p><p class="calibre9">There <a id="id158" class="calibre1"/>are several ways to open your Unreal project. The simplest way is probably to navigate to the <code class="email">Unreal Projects</code> folder (which is present in your user's <code class="email">Documents</code> folder on Windows by default) and double-click on the <code class="email">.sln</code> file in <strong class="calibre2">Windows Explorer</strong>, as shown in the following screenshot:</p><div><img src="img/00050.jpeg" alt="Looping with Unreal Engine" class="calibre11"/><div><p class="calibre16">On Windows, open the .sln file to edit the project code</p></div></div><p class="calibre12"> </p><p class="calibre9">Now, open the <code class="email">PuzzleBlockGrid.cpp</code> file. Inside this file, scroll down to the section that begins with the following statement:</p><div><pre class="programlisting">void APuzzleBlockGrid::BeginPlay()</pre></div><p class="calibre9">Notice that there is a <code class="email">for</code> loop here to spawn the initial nine blocks, as shown in the following code:</p><div><pre class="programlisting">// Loop to spawn each block
for( int32 BlockIndex=0; BlockIndex &lt; NumBlocks; BlockIndex++ )
{
  // ...
}</pre></div><p class="calibre9">Since <code class="email">NumBlocks</code> (which is used to determine when to stop the loop) gets computed as <code class="email">Size*Size</code>, we can easily change the number of blocks that get spawned by altering the value of the <code class="email">Size</code> variable. Go to line 23 of <code class="email">PuzzleBlockGrid.cpp</code> and change the value of the <code class="email">Size</code> variable<a id="id159" class="calibre1"/> to four or five. Then, run the code again. </p><p class="calibre9">You should see the number of blocks on the screen increase, as shown in the following screenshot:</p><div><img src="img/00051.jpeg" alt="Looping with Unreal Engine" class="calibre11"/><div><p class="calibre16">Setting the size to 14 creates many more blocks</p></div></div><p class="calibre12"> </p></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec28" class="calibre1"/>Summary</h1></div></div></div><p class="calibre9">In this chapter, you learned how to repeat lines of code by looping the code, which allowed you to go back into it. This can be used to repeatedly use the same line of code in order to achieve a task. Imagine printing the numbers from 1 to 10 without using a loop.</p><p class="calibre9">In the next chapter, we will explore functions, which are the basic units of reusable code.</p></div></body></html>