<html><head></head><body>
<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory"><div class="book" id="KVCC2-dd4a3f777fc247568443d5ffb917736d"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02" class="calibre1"/>Chapter 2. Variables and Memory</h1></div></div></div><p class="calibre9">To write your C++ game program, you will need your computer to remember a lot of things. Things such as where in the world is the player, how many hit points he has, how much ammunition he has left, where the items are in the world, what power-ups they provide, and the letters that make up the player's screen name.</p><p class="calibre9">The computer that you have actually has a sort of electronic sketchpad inside it called <span class="strong"><em class="calibre10">memory,</em></span> or RAM. Physically, computer memory is made out of silicon and it looks something similar to what is shown in the following screenshot:</p><div class="mediaobject"><img src="../images/00022.jpeg" alt="Variables and Memory" class="calibre11"/><div class="caption"><p class="calibre16">Does this RAM look like a parking garage? Because that's the metaphor we're going to use</p></div></div><p class="calibre12"> </p><p class="calibre9">RAM is<a id="id43" class="calibre1"/> short for Random Access Memory. It is called random access because you can access any part of it at any time. If you still have some CDs lying around, they are an example of non-random access. CDs are meant to be read and played back in order. I still remember jumping tracks on Michael Jackson's <span class="strong"><em class="calibre10">Dangerous</em></span> album way back when switching tracks on a CD took a lot of time! Hopping around and accessing different cells of RAM, however, doesn't take much time at all. RAM is a type of fast memory access known as flash memory.</p><p class="calibre9">RAM is called volatile flash<a id="id44" class="calibre1"/> memory because when the computer is shut down, RAM's contents are cleared and the old contents of RAM are lost unless they were saved to the hard disk first.</p><p class="calibre9">For permanent storage, you have to save your data into a hard disk. There are two main types of hard disks, platter-based <span class="strong"><strong class="calibre2">Hard Disk Drives</strong></span> (<span class="strong"><strong class="calibre2">HDDs</strong></span>)<a id="id45" class="calibre1"/> and <span class="strong"><strong class="calibre2">Solid-state Drives</strong></span> (<span class="strong"><strong class="calibre2">SSDs</strong></span>). SSDs <a id="id46" class="calibre1"/>are more modern than platter-based HDDs, since they use RAM's fast-access (Flash) memory principle. Unlike RAM, however, the data on an SSD persists after the computer is shut down. If you can get an SSD, I'd highly recommend that you use it! Platter-based drives are outdated. We need a way to reserve a space on the RAM and read and write from it. Fortunately, C++ makes this easy.</p></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch02lvl1sec16" class="calibre1"/>Variables</h1></div></div></div><p class="calibre9">A<a id="id47" class="calibre1"/> saved location in<a id="id48" class="calibre1"/> computer memory that we can read or write to is called a <span class="strong"><em class="calibre10">variable</em></span>.</p><p class="calibre9">A variable is a component whose value can vary. In a computer program, you can think of a variable as a container, into which you can store some data. In C++, these data containers (variables) have types. You have to use the right type of data container to save your data in your program.</p><p class="calibre9">If you want to save an integer, such as 1, 0, or 20, you will use an <code class="email">int</code> type container. You can use float-type containers to carry around floating-point (decimal) values, such as 38.87, and you can use string variables to carry around strings of letters (think of it as a "string of pearls", where each letter is a pearl).</p><p class="calibre9">You can think of your reserved spot in RAM like reserving parking space in a parking garage: once we declare our variable and get a spot for it, no one else (not even other programs running on the same machine) will be given that piece of RAM by the operating system. The RAM beside your variable might be unused or it might be used by other programs.</p><div class="note" title="Note"><h3 class="title2"><a id="tip09" class="calibre1"/>Tip</h3><p class="calibre9">The operating system exists to keep programs from stepping on each other's toes and accessing the same bits of computer hardware at the same time. In general, civil computer programs should not read or write to each other's memory. However, some types of cheat programs (for example, maphacks) secretly access your program's memory. Programs such as PunkBuster were introduced to prevent cheating in online games.</p></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="Declaring variables – touching the silicon"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec16" class="calibre1"/>Declaring variables – touching the silicon</h2></div></div></div><p class="calibre9">Reserving a<a id="id49" class="calibre1"/> spot on computer memory using C++ is easy. We'll want to name our chunk of memory that we will store our data in with a good, descriptive name.</p><p class="calibre9">For example, say, we know that player <span class="strong"><strong class="calibre2">hit points</strong></span> (<span class="strong"><strong class="calibre2">hp</strong></span>) will be an integer (whole) number, such as 1, 2, 3, or 100. To get a piece of silicon to store the player's hp in memory, we will declare the following line of code:</p><div class="note"><pre class="programlisting">int hp;     // declare variable to store the player's hp</pre></div><p class="calibre9">This line of code reserves a small chunk of RAM to store an integer (<code class="email">int</code> is short for integer), called hp. The following is an example of our chunk of RAM used to store the player's hp. This reserves a parking space for us in memory (among all the other parking spaces), and we can refer to this space in memory by its label (hp).</p><div class="mediaobject"><img src="../images/00023.jpeg" alt="Declaring variables – touching the silicon" class="calibre11"/><div class="caption"><p class="calibre16">Among all the other spaces in memory, we get one spot to store our hp data</p></div></div><p class="calibre12"> </p><p class="calibre9">Notice how the variable space is type-marked in this diagram as <span class="strong"><strong class="calibre2">int</strong></span>: if it is a space for a double or a different type of variable. C++ remembers the spaces that you reserve for your program in memory not only by name but by the type of variable it is as well.</p><p class="calibre9">Notice that we haven't put anything in hp's box yet! We'll do that later—right now, the value of the hp variable is not set, so it will have the value that was left in that parking space by the previous occupant (the value left behind by another program, perhaps). Telling C++ the type of the variable is important! Later, we will declare a variable to store decimal values, such as 3.75.</p><div class="book" title="Reading and writing to your reserved spot in memory"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec02" class="calibre1"/>Reading and writing to your reserved spot in memory</h3></div></div></div><p class="calibre9">Writing a value into <a id="id50" class="calibre1"/>memory is easy! Once you have an <code class="email">hp</code> variable, you just write to it using the <code class="email">=</code> sign:</p><div class="note"><pre class="programlisting">hp = 500;</pre></div><p class="calibre9">Voila! The player has 500 hp.</p><p class="calibre9">Reading the variable is equally simple. To print out the value of the variable, simply put this:</p><div class="note"><pre class="programlisting">cout &lt;&lt; hp &lt;&lt; endl;</pre></div><p class="calibre9">This will <a id="id51" class="calibre1"/>print the value stored inside the hp variable. If you change the value of hp, and then use <code class="email">cout</code> again, the most up-to-date value will be printed, as shown here:</p><div class="note"><pre class="programlisting">hp = 1200;
cout &lt;&lt; hp &lt;&lt; endl; // now shows 1200</pre></div></div></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="Numbers are everything"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec17" class="calibre1"/>Numbers are everything</h2></div></div></div><p class="calibre9">Something <a id="id52" class="calibre1"/>that you need to get used to when you start computer programming is that a surprising number of things can be stored in computer memory as just numbers. A player's hp? As we just saw in the previous section, hp can just be an integer number. If the player gets hurt, we reduce this number. If the player gains health, we increase the number.</p><p class="calibre9">Colors can be stored as numbers too! If you've used standard image editing programs, there are usually sliders that indicate color as how much red, green, and blue are being used, such as Pixelmator's color sliders. A color is then represented by three numbers. The purple color shown in the following screenshot is (R=127, G=34, B=203):</p><div class="mediaobject"><img src="../images/00024.jpeg" alt="Numbers are everything" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">What about <a id="id53" class="calibre1"/>world geometry? These are also just numbers: all we have to do is store a list of 3D space points (x, y, and z coordinates) and then store another list of points that explain how those points can be connected to form triangles. In the following screenshot, we can see how 3D space points are used to represent world geometry:</p><div class="mediaobject"><img src="../images/00025.jpeg" alt="Numbers are everything" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">The combination of numbers for colors and numbers for 3D space points will let you draw large and colored landscapes in your game world.</p><p class="calibre9">The trick with the <a id="id54" class="calibre1"/>preceding examples is how we interpret the stored numbers so that we can make them mean what we want them to mean.</p></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="More on variables"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch02lvl2sec18" class="calibre1"/>More on variables</h2></div></div></div><p class="calibre9">You <a id="id55" class="calibre1"/>can think of variables as animal-carrying cases. A cat carrier can be used to carry a cat, but not a dog. Similarly, you should use a float-type variable to carry decimal-valued numbers. If you store a decimal value inside an <code class="email">int</code> variable, it will not fit:</p><div class="note"><pre class="programlisting">int x = 38.87f;
cout &lt;&lt; x &lt;&lt; endl; // prints 38, not 38.87</pre></div><p class="calibre9">What's really happening here is that C++ does an automatic type conversion on 38.87, <span class="strong"><em class="calibre10">transmogrifying</em></span> it to an integer to fit in the <code class="email">int</code> carrying case. It drops the decimal to convert 38.87 into the integer value 38.</p><p class="calibre9">So, for example, we can modify the code to include the use of three types of variables, as shown in the following code:</p><div class="note"><pre class="programlisting">#include &lt;iostream&gt;
#include &lt;string&gt;  // need this to use string variables!
using namespace std;
int main()
{
  string name;
  int goldPieces;
  float hp;
  name = "William"; // That's my name
  goldPieces = 322; // start with this much gold 
  hp = 75.5f;       // hit points are decimal valued
  cout &lt;&lt; "Character " &lt;&lt; name &lt;&lt; " has " 
           &lt;&lt; hp &lt;&lt; " hp and " 
           &lt;&lt; goldPieces &lt;&lt; " gold.";
}</pre></div><p class="calibre9">In the first three lines, we declare three boxes to store our data parts into, as shown here:</p><div class="note"><pre class="programlisting">string name;
int goldPieces;
float hp;</pre></div><p class="calibre9">These three lines reserve three spots in memory (like parking spaces). The next three lines fill the variables with the values we desire, as follows:</p><div class="note"><pre class="programlisting">name = "William";
goldPieces = 322;
hp = 75.5f;</pre></div><p class="calibre9">In computer <a id="id56" class="calibre1"/>memory, this will look as shown in the following figure:</p><div class="mediaobject"><img src="../images/00026.jpeg" alt="More on variables" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">You can change the contents of a variable at any time. You can write a variable using the <code class="email">=</code> assignment operator, as follows:</p><div class="note"><pre class="programlisting">goldPieces = 522;// = is called the "assignment operator"</pre></div><p class="calibre9">You can also read the contents of a variable at any time. That's what the next three lines of code do, as shown here:</p><div class="note"><pre class="programlisting">cout &lt;&lt; "Character " &lt;&lt; name &lt;&lt; " has " 
     &lt;&lt; hp &lt;&lt; " hp and " 
     &lt;&lt; goldPieces &lt;&lt; " gold.";</pre></div><p class="calibre9">Take a look at this line:</p><div class="note"><pre class="programlisting">cout &lt;&lt; "I have " &lt;&lt; hp &lt;&lt; " hp." &lt;&lt; endl;</pre></div><p class="calibre9">There are two uses of the word <code class="email">hp</code> in this line. One is between double quotes, while the other is not. Words between double quotes are always output exactly as you typed them. When double quotes are not used (for example, <code class="email">&lt;&lt; hp &lt;</code>), a variable lookup is performed. If the variable does not exist, then you will get a compiler error (undeclared identifier).</p><p class="calibre9">There is a space in memory that is allocated for the name, a space for how many <code class="email">goldPieces</code> the<a id="id57" class="calibre1"/> player has, and a space for the hp of the player.</p><div class="note" title="Note"><h3 class="title2"><a id="tip10" class="calibre1"/>Tip</h3><p class="calibre9">In general, you should always try to store the right type of data inside the right type of variable. If you happen to store the wrong type of data, your code may misbehave.</p></div></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="Math in C++"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_5"><a id="ch02lvl2sec19" class="calibre1"/>Math in C++</h2></div></div></div><p class="calibre9">Math in C++ is easy to do; + (plus), - (minus), * (times), / (divide by) are <a id="id58" class="calibre1"/>all common C++ operations, and <a id="id59" class="calibre1"/>proper BEDMAS order will be followed (Brackets, Exponents, Division, Multiplication, Addition, and Subtraction). For example, we can do as shown in the following code:</p><div class="note"><pre class="programlisting">int answer = 277 + 5 * 4 / 2 + 20;</pre></div><p class="calibre9">Another operator that you might not be familiar with yet is % (modulus). Modulus (for example, 10 % 3) finds the remainder of when <code class="email">x</code> is divided by <code class="email">y</code>. See the following table for examples:</p><div class="note"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/><col class="calibre19"/></colgroup><thead class="calibre20"><tr class="calibre21"><th valign="bottom" class="calibre22">
<p class="calibre23">Operator (name)</p>
</th><th valign="bottom" class="calibre22">
<p class="calibre23">Example</p>
</th><th valign="bottom" class="calibre22">
<p class="calibre23">Answer</p>
</th></tr></thead><tbody class="calibre24"><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">+ (plus)</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">7 + 3</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">10</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">- (minus)</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">8 - 5</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">3</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">* (times)</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">5*6</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">30</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">/ (division)</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">12/6</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">2</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">% (modulus)</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">10 % 3</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">1 (because 10/3 is 3 the remainder = 1).</p>
</td></tr></tbody></table></div><p class="calibre9">However, we often don't want to do math in this manner. Instead, we usually want to change the value of a variable by a certain computed amount. This is a concept that is harder to understand. Say the player encounters an imp and is dealt 15 damage.</p><p class="calibre9">The following line of code will be used to reduce the player's hp by 15 (believe it or not):</p><div class="note"><pre class="programlisting">hp = hp - 15;                  // probably confusing :)</pre></div><p class="calibre9">You might ask why. Because on the right-hand side, we are computing a new value for hp (<code class="email">hp-15</code>). After the new value for hp is found (15 less than what it was before), the new value is written into the hp variable.</p><div class="note" title="Note"><h3 class="title2"><a id="tip11" class="calibre1"/>Tip</h3><p class="calibre9">
<span class="strong"><strong class="calibre2">Pitfall</strong></span>
</p><p class="calibre9">An uninitialized variable has the bit pattern that was held in memory for it before. Declaring a variable does not clear the memory. So, say we used the following line of code:</p><div class="note"><pre class="programlisting">int hp;
hp = hp - 15;</pre></div><p class="calibre9">The second line of code reduces the hp by 15 from its previous value. What was its previous value if we never set hp = 100 or so? It could be 0, but not always.</p><p class="calibre9">One of the most common errors is to proceed with using a variable without initializing it first.</p></div><p class="calibre9">The following<a id="id60" class="calibre1"/> is a shorthand syntax for doing this:</p><div class="note"><pre class="programlisting">hp -= 15;</pre></div><p class="calibre9">Besides <code class="email">-=</code>, you can use += to add some amount to a variable, *= to multiply a variable by an amount, and /= to divide a variable by some amount.</p><div class="book" title="Exercises"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec03" class="calibre1"/>Exercises</h3></div></div></div><p class="calibre9">Write down<a id="id61" class="calibre1"/> the value of <code class="email">x</code> after performing the following operations; then, check with your compiler:</p><div class="note"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><thead class="calibre20"><tr class="calibre21"><th valign="bottom" class="calibre22">
<p class="calibre23">Exercises</p>
</th><th valign="bottom" class="calibre22">
<p class="calibre23">Solutions</p>
</th></tr></thead><tbody class="calibre24"><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">int x = 4; x += 4;</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">8</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">int x = 9; x-=2;</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">7</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">int x = 900; x/=2;</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">450</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">int x = 50; x*=2;</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">100</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">int x = 1; x += 1;</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">2</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">int x = 2; x -= 200;</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">-198</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">int x = 5; x*=5;</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">25</p>
</td></tr></tbody></table></div></div></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="Generalized variable syntax"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_6"><a id="ch02lvl2sec20" class="calibre1"/>Generalized variable syntax</h2></div></div></div><p class="calibre9">In the<a id="id62" class="calibre1"/> previous section, you learned that every piece of data that you save in C++ has a type. All variables are created in the same way; in C++, variable declarations are of the form:</p><div class="note"><pre class="programlisting">variableType variableName;</pre></div><p class="calibre9">The <code class="email">variableType</code> tells you what type of data we are going to store in our variable. The <code class="email">variableName</code> is the symbol we'll use to read or write to that piece of memory.</p></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="Primitive types"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_7"><a id="ch02lvl2sec21" class="calibre1"/>Primitive types</h2></div></div></div><p class="calibre9">We<a id="id63" class="calibre1"/> previously<a id="id64" class="calibre1"/> talked about how all the data inside a computer will at some point be a number. Your computer code is responsible for interpreting that number correctly.</p><p class="calibre9">It is said that C++ only defines a few basic data types, as shown in the following table:</p><div class="note"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><tbody class="calibre24"><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">Char</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">A single letter, such as 'a', 'b', or '+'</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">Short</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">An integer from -32,767 to +32,768</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">Int</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">An integer from -2,147,483,647 to +2,147,483,648</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">Float</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">Any decimal value from approx. -1x1038 to 1x1038</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">Double</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">Any decimal value from approx. -1x10308 to 1x10308</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">
<code class="literal">Bool</code>
</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">true or false</p>
</td></tr></tbody></table></div><p class="calibre9">There are unsigned versions of each of the variable types mentioned in the preceding table. An unsigned variable can contain natural numbers, including 0 (x &gt;= 0). An unsigned <code class="email">short</code>, for example, might have a value between 0 and 65535.</p><div class="note" title="Note"><h3 class="title2"><a id="note06" class="calibre1"/>Note</h3><p class="calibre9">If you're further interested in the difference between float and double, please feel free to look it up on the Internet. I will keep my explanations only to the most important C++ concepts used for games. If you are curious about something that's covered by this text, feel free to look it up.</p></div><p class="calibre9">It turns out that these simple data types alone can be used to construct arbitrarily complex programs. "How?" you ask. Isn't it hard to build a 3D game using just floats and integers?</p><p class="calibre9">It is<a id="id65" class="calibre1"/> not really<a id="id66" class="calibre1"/> difficult to build a game from float and int, but more complex data types help. It will be tedious and messy to program if we used loose floats for the player's position.</p></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="Object types"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_8"><a id="ch02lvl2sec22" class="calibre1"/>Object types</h2></div></div></div><p class="calibre9">C++ gives <a id="id67" class="calibre1"/>you structures to group variables together, which will <a id="id68" class="calibre1"/>make your life a lot easier. Take an example of the following block of code:</p><div class="note"><pre class="programlisting">#include &lt;iostream&gt;
using namespace std;
struct Vector        // BEGIN Vector OBJECT DEFINITION
{
  float x, y, z;     // x, y and z positions all floats
};                   // END Vector OBJECT DEFINITION.
// The computer now knows what a Vector is
// So we can create one.
int main()
{
  Vector v; // Create a Vector instance called v
  v.x=20, v.y=30, v.z=40; // assign some values
  cout &lt;&lt; "A 3-space vector at " &lt;&lt; v.x &lt;&lt; ", " &lt;&lt; v.y &lt;&lt; ", " &lt;&lt;  v.z &lt;&lt; endl;
}</pre></div><p class="calibre9">The way this looks in memory is pretty intuitive; a Vector is just a chunk of memory with three floats, as shown in the following figure:</p><div class="mediaobject"><img src="../images/00027.jpeg" alt="Object types" class="calibre11"/></div><p class="calibre12"> </p><div class="note" title="Note"><h3 class="title2"><a id="tip13" class="calibre1"/>Tip</h3><p class="calibre9">Don't confuse the struct Vector in the preceding screenshot with the <code class="email">std::vector</code> of the STL. The Vector object above is meant to represent a three-space vector, while STL's <code class="email">std::vector</code> type represents a sized collection of values.</p></div><p class="calibre9">Here are a <a id="id69" class="calibre1"/>couple of review notes about the preceding code listing:</p><p class="calibre9">First, even<a id="id70" class="calibre1"/> before we use our Vector object type, we have to define it. C++ does not come with built-in types for math vectors (it only supports scalar numbers, and they thought that was enough!). So, C++ lets you build your own object constructions to make your life easier. We first had the following definition:</p><div class="note"><pre class="programlisting">struct Vector        // BEGIN Vector OBJECT DEFINITION
{
  float x, y, z;     // x, y, and z positions all floats
};                   // END Vector OBJECT DEFINITION.</pre></div><p class="calibre9">This it tells the computer what a Vector is (it's 3 floats, all of which are declared to be sitting next to each other in the memory). The way a Vector will look in the memory is shown in preceding figure.</p><p class="calibre9">Next, we use our Vector object definition to create a Vector instance called <code class="email">v</code>:</p><div class="note"><pre class="programlisting">Vector v; // Create a Vector instance called v</pre></div><p class="calibre9">The <code class="email">struct</code> Vector <a id="id71" class="calibre1"/>definition doesn't actually create a Vector object. You can't do <code class="email">Vector.x = 1</code>. "Which object instance are you talking about?" the C++ compiler will ask. You need to create a Vector instance first, such as Vector v1; then, you can do assignments on the v1 instance, such as v1.x = 0.</p><p class="calibre9">We then use this instance to write values into <code class="email">v</code>:</p><div class="note"><pre class="programlisting">v.x=20, v.y=30, v.z=40; // assign some values</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip14" class="calibre1"/>Tip</h3><p class="calibre9">We used commas in the preceding code to initialize a bunch of variables on the same line. This is okay in C++. Although you can do each variable on its own line, the approach shown here is okay too.</p></div><p class="calibre9">This makes <code class="email">v</code> look as<a id="id72" class="calibre1"/> in the preceding screenshot. Then, we print them out:</p><div class="note"><pre class="programlisting">cout &lt;&lt; "A 3-space vector at " &lt;&lt; v.x &lt;&lt; ", " &lt;&lt; v.y &lt;&lt; ", " &lt;&lt;  v.z &lt;&lt; endl;</pre></div><p class="calibre9">In both the lines of code here, we access the individual data members inside the object by simply using a dot (<code class="email">.</code>). <code class="email">v.x</code> refers to the <code class="email">x</code> member inside the object <code class="email">v</code>. Each Vector object will have exactly three floats inside it: one called <code class="email">x</code>, one called <code class="email">y</code>, and one called <code class="email">z</code>.</p><div class="book" title="Exercise – Player"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec04" class="calibre1"/>Exercise – Player</h3></div></div></div><p class="calibre9">Define a C++ data struct<a id="id73" class="calibre1"/> for a Player object. Then, create an instance of your Player class and fill each of the data members with values.</p><div class="book" title="Solution"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch02lvl4sec01" class="calibre1"/>Solution</h4></div></div></div><p class="calibre9">Let's declare our Player object. We want to group together everything to do with the player into the Player object. We do this so that the code is neat and tidy. The code you read in Unreal Engine will use objects such as these everywhere; so, pay attention:</p><div class="note"><pre class="programlisting">struct Player
{
  string name;
  int hp;
  Vector position;
}; // Don't forget this semicolon at the end!
int main()
{
  // create an object of type Player,
  Player me; // instance named 'me'
  me.name = "William";
  me.hp = 100.0f;
  me.position.x = me.position.y = me.position.z=0;
}</pre></div><p class="calibre9">The struct Player definition is what tells the computer how a Player object is laid out in memory.</p><div class="note" title="Note"><h3 class="title2"><a id="tip15" class="calibre1"/>Tip</h3><p class="calibre9">I hope you noticed the mandatory semicolon at the end of the struct declaration. struct object declarations need to have a semicolon at the end, but functions do not. This is just a C++ rule that you must remember.</p></div><p class="calibre9">Inside a<a id="id74" class="calibre1"/> Player object, we declared a string for the player's name, a float for his hp, and a Vector object for his complete xyz position.</p><p class="calibre9">When I say object, I mean a C++ struct (or later, we will introduce the term class).</p><p class="calibre9">Wait! We put a Vector object inside a Player object! Yes, you can do that.</p><p class="calibre9">After the definition of what a Player object has inside it, we actually create a Player object instance called me and assign it some values.</p><p class="calibre9">After the assignment, the me object looks as shown in the following figure:</p><div class="mediaobject"><img src="../images/00028.jpeg" alt="Solution" class="calibre11"/></div><p class="calibre12"> </p></div></div></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="Pointers"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_9"><a id="ch02lvl2sec23" class="calibre1"/>Pointers</h2></div></div></div><p class="calibre9">A particularly<a id="id75" class="calibre1"/> tricky concept to grasp is the concept of pointers. Pointers <a id="id76" class="calibre1"/>aren't that hard to understand but can take a while to get a firm handle on.</p><p class="calibre9">Say we have, as before, declared a variable of the type Player in memory:</p><div class="note"><pre class="programlisting">Player me;
me.name = "William";
me.hp = 100.0f;</pre></div><p class="calibre9">We now declare a pointer to the Player:</p><div class="note"><pre class="programlisting">Player* ptrMe;               // Declaring a pointer</pre></div><p class="calibre9">The <code class="email">*</code> characters usually make things special. In this case, the <code class="email">*</code> makes <code class="email">ptrMe</code> special. The <code class="email">*</code> is what makes <code class="email">ptrMe</code> a pointer type.</p><p class="calibre9">We now want to link <code class="email">ptrMe</code> to me:</p><div class="note"><pre class="programlisting">ptrMe = &amp;me;                  // LINKAGE</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip16" class="calibre1"/>Tip</h3><p class="calibre9">This linkage step is very important. If you don't link the pointer to an object before you use the pointer, you will get a memory access violation.</p></div><p class="calibre9">
<code class="email">ptrMe</code> now <a id="id77" class="calibre1"/>refers to the same object as me. Changing <code class="email">ptrMe</code> will change me, as shown in the following figure:</p><div class="mediaobject"><img src="../images/00029.jpeg" alt="Pointers" class="calibre11"/></div><p class="calibre12"> </p></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="What can pointers do?"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_10"><a id="ch02lvl2sec24" class="calibre1"/>What can pointers do?</h2></div></div></div><p class="calibre9">When we set up the linkage between the pointer variable and what it is pointing to, we can manipulate the variable that is pointed to through the pointer.</p><p class="calibre9">One use <a id="id78" class="calibre1"/>of pointers is to refer to the same object from several different locations of the code. The Player object is a good candidate for being pointed to. You can create as many pointers as you wish to the same object. Objects that are pointed to do not necessarily know that they are being pointed at, but changes can be made to the object through the pointers.</p><p class="calibre9">For instance, say the player got attacked. A reduction in his hp will result, and this reduction will be done using the pointer, as shown in the following code:</p><div class="note"><pre class="programlisting">ptrMe-&gt;hp -= 33;      // reduced the player's hp by 33
ptrMe-&gt;name = "John";// changed his name to John</pre></div><p class="calibre9">Here's how the Player object looks now:</p><div class="mediaobject"><img src="../images/00030.jpeg" alt="What can pointers do?" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">So, we <a id="id79" class="calibre1"/>changed <code class="email">me.name</code> by changing <code class="email">ptrMe-&gt;name</code>. Because <code class="email">ptrMe</code> points to me, changes through <code class="email">ptrMe</code> affect me directly.</p><p class="calibre9">Besides the funky arrow syntax (use <code class="email">-&gt;</code> when the variable is a pointer), this concept isn't all that hard to understand.</p></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="Address of operator &amp;"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_11"><a id="ch02lvl2sec25" class="calibre1"/>Address of operator &amp;</h2></div></div></div><p class="calibre9">Notice the use <a id="id80" class="calibre1"/>of the <code class="email">&amp;</code> symbol in the preceding code example. The<a id="id81" class="calibre1"/> <code class="email">&amp;</code> operator gets the memory address of a variable. A variable's memory address is where it lives in the computer memory space. C++ is able to get the memory address of any object in your program's memory. The address of a variable is unique and also, kind of, random.</p><p class="calibre9">Say, we print the address of an integer variable <code class="email">x</code>, as follows:</p><div class="note"><pre class="programlisting">int x = 22;
cout &lt;&lt; &amp;x &lt;&lt; endl; // print the address of x</pre></div><p class="calibre9">On the first run of the program, my computer prints the following:</p><div class="note"><pre class="programlisting">0023F744</pre></div><p class="calibre9">This number (the value of <code class="email">&amp;x</code>) is just the memory cell where the variable <code class="email">x</code> is stored. What this means is that in this particular launch of the program, the variable <code class="email">x</code> is located at memory cell number 0023F744, as shown in the following figure:</p><div class="mediaobject"><img src="../images/00031.jpeg" alt="Address of operator &amp;" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Now, create and<a id="id82" class="calibre1"/> assign a pointer variable to the address of <code class="email">x</code>:</p><div class="note"><pre class="programlisting">int *px;
px = &amp;x;</pre></div><p class="calibre9">What we're<a id="id83" class="calibre1"/> doing here is storing the memory address of <code class="email">x</code> inside the variable <code class="email">px</code>. So, we are metaphorically pointing to the variable <code class="email">x</code> using another different variable called <code class="email">px</code>. This might look something similar to what is shown in the following figure:</p><div class="mediaobject"><img src="../images/00032.jpeg" alt="Address of operator &amp;" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Here, the variable <code class="email">px</code> has the address of the variable <code class="email">x</code> inside it. In other words, the variable <code class="email">px</code> is a reference <a id="id84" class="calibre1"/>to another variable. Differencing <code class="email">px</code> means to access the variable that <code class="email">px</code> is referencing. Differencing is done using the <code class="email">*</code> symbol:</p><div class="note"><pre class="programlisting">cout &lt;&lt; *px &lt;&lt; endl;</pre></div><div class="book" title="The Null pointers"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec05" class="calibre1"/>The Null pointers</h3></div></div></div><p class="calibre9">A<a id="id85" class="calibre1"/> null pointer<a id="id86" class="calibre1"/> is a pointer variable with the value <code class="email">0</code>. In general, most programmers like to initialize pointers to Null (<code class="email">0</code>) on the creation of new pointer variables. Computer programs, in general, can't access the memory address <code class="email">0</code> (it is reserved), so if you try to reference a Null pointer, your program will crash, as shown in the following screenshot:</p><div class="mediaobject"><img src="../images/00033.jpeg" alt="The Null pointers" class="calibre11"/></div><p class="calibre12"> </p><div class="note" title="Note"><h3 class="title2"><a id="tip17" class="calibre1"/>Tip</h3><p class="calibre9">Pointer Fun with Binky is a fun video about pointers. Take a look at <a class="calibre1" href="http://www.youtube.com/watch?v=i49_SNt4yfk">http://www.youtube.com/watch?v=i49_SNt4yfk</a>.</p></div></div></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="cin"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_12"><a id="ch02lvl2sec26" class="calibre1"/>cin</h2></div></div></div><a id="id87" class="calibre1"/><p class="calibre9">
<code class="email">cin</code> <a id="id88" class="calibre1"/>is the way C++ traditionally takes input from the user into the program. <code class="email">cin</code> is easy to use, because it looks at the type of variable it will put the value into as it puts it in. For example, say we want to ask the user his age and store it in an <code class="email">int</code> variable. We can do that as follows:</p><div class="note"><pre class="programlisting">cout &lt;&lt; "What is your age?" &lt;&lt; endl;
int age;
cin &gt;&gt; age;</pre></div></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Variables and Memory">
<div class="book" title="Variables">
<div class="book" title="printf()"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_13"><a id="ch02lvl2sec27" class="calibre1"/>printf()</h2></div></div></div><p class="calibre9">Although <a id="id89" class="calibre1"/>we <a id="id90" class="calibre1"/>have used <code class="email">cout</code> to print out variables so far, you need to know about another common function that is used to print to the console. This function is called the <code class="email">printf</code> function. The <code class="email">printf</code> function is included in the <code class="email">&lt;iostream&gt;</code> library, so you don't have to <code class="email">#include</code> anything extra to use it. Some people in the gaming industry prefer <code class="email">printf</code> to <code class="email">cout</code> (I know I do), so let's introduce it.</p><p class="calibre9">Let's proceed to how <code class="email">printf()</code> works, as shown in the following code:</p><div class="note"><pre class="programlisting">#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;
int main()
{
  char character = 'A';
  int integer = 1;
  printf( "integer %d, character %c\n", integer, character );
}</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip18" class="calibre1"/>Tip</h3><p class="calibre9">
<span class="strong"><strong class="calibre2">Downloading the example code</strong></span>
</p><p class="calibre9">You can download the example code files from your account at <a class="calibre1" href="http://www.packtpub.com">http://www.packtpub.com</a> for all the Packt Publishing books you have purchased. If you purchased this book elsewhere, you can visit <a class="calibre1" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p></div><p class="calibre9">We start with a format string. The format string is like a picture frame, and the variables will get plugged in at the locations of the <code class="email">%</code> in the format string. Then, the entire thing gets dumped out to the console. In the preceding example, the integer variable will be plugged into the location of the first <code class="email">%</code> (<code class="email">%d</code>), and the character will be plugged into the location of the second <code class="email">%</code> (<code class="email">%c</code>), as shown in the following screenshot:</p><div class="mediaobject"><img src="../images/00034.jpeg" alt="printf()" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">You have to use the right format code to get the output to format correctly; take a look at the following table:</p><div class="note"><table border="1" class="calibre17"><colgroup class="calibre18"><col class="calibre19"/><col class="calibre19"/></colgroup><thead class="calibre20"><tr class="calibre21"><th valign="bottom" class="calibre22">
<p class="calibre23">Data type</p>
</th><th valign="bottom" class="calibre22">
<p class="calibre23">Format code</p>
</th></tr></thead><tbody class="calibre24"><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">Int</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">%d</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">Char</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">%c</p>
</td></tr><tr class="calibre21"><td valign="top" class="calibre25">
<p class="calibre23">String</p>
</td><td valign="top" class="calibre25">
<p class="calibre23">%s</p>
</td></tr></tbody></table></div><p class="calibre9">To print a C++ string, you must use the <code class="email">string.c_str()</code> function:</p><div class="note"><pre class="programlisting">string s = "Hello";
printf( "string %s\n", s.c_str() );</pre></div><p class="calibre9">The <code class="email">s.c_str()</code> function<a id="id91" class="calibre1"/> accesses the C pointer to the string, which <code class="email">printf</code> needs.</p><p class="calibre9">If you use the wrong format code, the output won't appear correctly or the program might crash.</p><div class="book" title="Exercise"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec06" class="calibre1"/>Exercise</h3></div></div></div><p class="calibre9">Ask the user his name and age and take them in using <code class="email">cin</code>. Then, issue a greeting for him at the console using <code class="email">printf()</code> (not <code class="email">cout</code>).</p></div><div class="book" title="Solution"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec07" class="calibre1"/>Solution</h3></div></div></div><p class="calibre9">This is how the program will look:</p><div class="note"><pre class="programlisting">#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;
int main()
{
  cout &lt;&lt; "Name?" &lt;&lt; endl;
  string name;
  cin &gt;&gt; name;
  cout &lt;&lt; "Age?" &lt;&lt; endl; 
  int age;
  cin &gt;&gt; age;
  cout &lt;&lt; "Hello " &lt;&lt; name &lt;&lt; " I see you have attained " &lt;&lt; age  &lt;&lt; " years. Congratulations." &lt;&lt; endl;
}</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip19" class="calibre1"/>Tip</h3><p class="calibre9">A string is actually an object type. Inside it is just a bunch of chars!</p></div></div></div></div></div>
<div class="book" title="Summary" id="LTSU1-dd4a3f777fc247568443d5ffb917736d"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec17" class="calibre1"/>Summary</h1></div></div></div><p class="calibre9">In this chapter, we spoke about variables and memory. We talked about mathematical operations on variables and how simple they were in C++.</p><p class="calibre9">We also discussed how arbitrarily complex data types can be built using a combination of these simpler data types, such as floats, integers, and characters. Constructions such as this are called objects.</p></div></body></html>