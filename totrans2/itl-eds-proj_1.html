<html><head></head><body>
        <section>

            <header>
                <h1 class="header-title">Setting up Intel Edison</h1>
            </header>

            <article>
                
<p>In every <span><strong>Internet of Things</strong> (</span><strong>IoT</strong>) or robotics project, we have a controller that is the brain of the entire system. Similarly, we have the Intel Edison. The Intel Edison computing module comes in two different packages: one is a mini-breakout board; the other is an Arduino-compatible board. One can use the board in its native state as well, but in that case the we have to fabricate our own expansion board. The Edison is basically the size of an SD card. Due to its tiny size, it's perfect for wearable devices. However, it's capabilities makes it suitable for IoT applications; and above all, the powerful processing capability, makes it suitable for robotics applications. However we don't simply use the device in this state. We hook up the board with an expansion board. The expansion board provides the user with enough flexibility and compatibility for interfacing with other units. The Edison has an operating system that runs the entire system. It runs a Linux image. So, to set up your device, you initially need to configure your device both at the hardware and at the software level.</p>
<p>In this chapter, we will be covering the following topics:</p>
<ul>
<li>Setting up the Intel Edison</li>
<li>Setting up the developer environment</li>
<li>Running sample programs on the board using Arduino IDE, Intel XDK, and others</li>
<li>Interacting with the board by using our PC</li>
</ul>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Initial hardware setup</h1>
            </header>

            <article>
                
<p>We'll concentrate on the Edison package that comes with an Arduino expansion board. Initially, you will get two different pieces:</p>
<ul>
<li>The Intel® Edison board</li>
<li>The Arduino expansion board</li>
</ul>
<p>The following figure shows the architecture of the device:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="262" src="assets/image_01_001.png" width="512"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Architecture of Intel Edison. Picture Credits: <a href="http://www.software.intel.com/">http://www.software.intel.com</a></div>
<p>We need to hook these two pieces up in a single unit. Place the Edison board on top of the expansion board so that the GPIO interfaces meet at a single point. Gently push the Edison against the expansion board. You will hear a click. Use the screws that come with the package to tighten the setup. Once this is done, we'll now set up the device both at hardware level and software level to be used further. The following are the steps we'll cover in detail:</p>
<ol>
<li>Downloading the necessary software packages</li>
<li>Connecting your Intel® Edison to your PC</li>
<li>Flashing your device with the Linux image</li>
<li>Connecting to a Wi-Fi network</li>
<li>SSH-ing your Intel® Edison device</li>
</ol>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Downloading the necessary software packages</h1>
            </header>

            <article>
                
<p>To move forward with the development on this platform, we need to download and install a couple of software packages, which includes the drivers and the IDEs. The following is the list of the software along with the links that are required:</p>
<ul>
<li>Intel® Platform Flash Tool Lite (<a href="https://01.org/android-ia/downloads/intel-platform-flash-tool-lite">https://01.org/android-ia/downloads/intel-platform-flash-tool-lite</a>)</li>
<li>PuTTY (<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html</a>)</li>
<li>Intel XDK for IoT (<a href="https://software.intel.com/en-us/intel-xdk">https://software.intel.com/en-us/intel-xdk</a>)</li>
<li>Arduino IDE (<a href="https://www.arduino.cc/en/Main/Software">https://www.arduino.cc/en/Main/Software</a>)</li>
<li>FileZilla FTP client (<a href="https://filezilla-project.org/download.php">https://filezilla-project.org/download.php</a>)</li>
<li>Notepad ++ or any other editor (<a href="https://notepad-plus-plus.org/download/v7.3.html">https://notepad-plus-plus.org/download/v7.3.html</a>)</li>
</ul>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Drivers and miscellaneous downloads</h1>
            </header>

            <article>
                
<p>Drivers and miscellaneous can be downloaded from:</p>
<ul>
<li>Latest Yocto Poky image</li>
<li>Windows standalone driver for the Intel Edison</li>
<li>FTDI drivers (<a href="http://www.ftdichip.com/Drivers/VCP.htm">http://www.ftdichip.com/Drivers/VCP.htm</a>)</li>
</ul>
<p>The first and the second packages can be downloaded from <span class="URLPACKT"><a href="https://software.intel.com/en-us/iot/hardware/edison/downloads">https://software.intel.com/en-us/iot/hardware/edison/downloads</a>.</span><a href="https://software.intel.com/en-us/iot/hardware/edison/downloads"><span class="URLPACKT"><br/></span></a></p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Plugging in your device</h1>
            </header>

            <article>
                
<p>After the software and drivers have all been installed, we'll connect the device to a PC. You need two Micro-B USB cables(s) to connect your device to the PC. You can also use a 9V power adapter and a single Micro-B USB cable, but for now we won't use the power adapter. The main use of the power adapter will come in a later section of this book, especially when we'll be interfacing with other devices that require USB.The following figure shows d<span>ifferent sections of an Arduino expansion board of the Intel Edison:</span></p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_002.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Different sections of an Arduino expansion board of Intel Edison</div>
<p>A small switch exists between the USB port and the OTG port. This switch must be towards the OTG port because we're going to power the device from the OTG port and not through the DC power port. Once it is connected to your PC, open your device manager and expand the ports section. If all the installations of the drivers were successful, then you'll see two ports:</p>
<ul>
<li>Intel Edison virtual com port</li>
<li>USB serial port</li>
</ul>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Flashing your device</h1>
            </header>

            <article>
                
<p>Once your device is successfully detected and installed, you need to flash your device with the Linux image. For this we'll use the flash tool provided by Intel:</p>
<ol>
<li>Open the flash lite tool and connect your device to the PC:</li>
</ol>
<div class="packt_figure"><img class=" image-border" src="assets/image_01_003.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Intel phone flash lite tool</div>
<ol start="2">
<li>Once the flash tool is opened, click on <span class="packt_screen">Browse...</span> and browse to the <kbd>.zip</kbd> file of the Linux image you have downloaded.</li>
<li>After you click on <span class="packt_screen">OK</span>, the tool will automatically unzip the file.</li>
</ol>
<ol start="4">
<li>Next, click on <span class="packt_screen">Start </span>to flash:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_004.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Intel® Phone flash lite tool — stage 1</div>
<ol start="5">
<li>You will be asked to disconnect and reconnect your device. Do this, and the board should start flashing. It may take some time before the flashing is completed. Don't tamper with the device during this process.</li>
<li>Once the flashing is completed, we can configure the device:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_005.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Intel® Phone flash lite tool — complete</div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Configuring the device</h1>
            </header>

            <article>
                
<p>After flashing successfully, we'll now configure the device. We're going to use the PuTTY console for the configuration. PuTTY is an SSH and telnet client, developed originally by Simon Tatham for the Windows platform. We're going to use the <span class="packt_screen">Serial</span> section here.</p>
<p>Before opening the PuTTY console, open up the <span class="packt_screen">Device manager</span> and note the port number for the USB serial port. This will be used in your PuTTY console:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="263" src="assets/image_01_006.png" width="274"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Ports for Intel® Edison in PuTTY</div>
<p>Next, select <span class="packt_screen">Serial</span> on the PuTTY console and enter the port number. Use a baud rate of <kbd>115,200</kbd>. Press <span class="packt_screen">Open</span> to open the window for communicating with the device:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="247" src="assets/image_01_007.png" width="392"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">PuTTY console — login screen</div>
<p>Once you are in the PuTTY console, you can execute commands to configure your Edison. The following is the set of tasks we'll do in the console to configure the device:</p>
<ol>
<li>Provide a name for your device.</li>
<li>Provide a root password (SSH your device).</li>
<li>Connect your device to Wi-Fi.</li>
</ol>
<p>Initially, when in the console, you will be asked to log in. Type in <kbd>root</kbd> and press <em>Enter</em>. You will see <span class="packt_screen">root@edison</span>, which means that you are in the <kbd>root</kbd> directory:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="279" src="assets/image_01_008.png" width="439"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">PuTTY console <span>—</span> login success</div>
<p>Now, we are in the Linux Terminal of the device. Firstly, we'll enter the following command for the setup:</p>
<pre>
<strong>configure_edison -setup</strong>
</pre>
<p>Press <em>Enter</em> after entering the command, and the entire configuration will be straightforward:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="366" src="assets/image_01_009.png" width="575"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">PuTTY console <span>—</span> set password</div>
<p>Firstly, you will be asked to set a password. Type in a password and press <em>Enter</em>. You need to type in your password again for confirmation. Next, we'll set up a name for the device:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="381" src="assets/image_01_010.png" width="603"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">PuTTY console <span>—</span> set name</div>
<p>Give a name for your device. Please note that this is not the login name for your device. It's just an alias for your device. Also the name should be atleast five characters long. Once you've entered the name, it will ask for confirmation: press <em>y</em> to confirm. Then it will ask you to set up Wi-Fi. Again select <em>y</em> to continue. It's not mandatory to set up Wi-Fi, but it's recommended. We need the Wi-Fi for file transfer, downloading packages, and so on:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_011.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">PuTTY console <span>—</span> set Wi-Fi</div>
<p>Once the scanning is completed, we'll get a list of available networks. Select the number corresponding to your network and press <em>Enter</em>. In this case, it's <kbd>5</kbd>, which corresponds to <span class="packt_screen">avirup171</span> which is my Wi-Fi. Enter the network credentials. After you do that, your device will be connected to Wi-Fi. You should get an IP address after your device is connected:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_012.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">PuTTY console <span>—</span> set Wi-Fi -2</div>
<p>After successful connection, you should get this screen. Make sure your PC is connected to the same network. Open up the browser in your PC, and enter the IP address shown in the console. You should get a screen similar to this:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_013.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Wi-Fi setup <span>—</span> completed</div>
<p>Now, we've finished with the initial setup. However, the Wi-Fi setup normally doesn't happen in one go. Sometimes your device doesn't get connected to Wi-Fi and sometimes we cannot get the page shown previously. In those cases, you need to start <kbd>wpa_cli</kbd> to manually configure Wi-Fi.</p>
<p>Refer to the following link for the details:</p>
<p><a href="http://www.intel.com/content/www/us/en/support/boards-and-kits/000006202.html"><span class="URLPACKT">http://www.intel.com/content/www/us/en/support/boards-and-kits/000006202.html</span></a></p>
<p>With Wi-Fi setup completed, we can move forward to set up our developer environment. We'll cover the following programming languages and the respective IDEs:</p>
<ul>
<li>Arduino processor language (C/C++)</li>
<li>Python</li>
<li>Node.js</li>
</ul>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Arduino IDE</h1>
            </header>

            <article>
                
<p>The Arduino IDE is a famous, and widely used, integrated developer environment that not only covers Arduino boards but also many other boards of Intel including Galileo, Edison, Node MCU, and so on. The language is based on C/C++. Once you download the Arduino IDE from the link mentioned at the beginning of this chapter, you may not receive the Edison board package. We need to manually download the package from the IDE itself. To do that, open up your Arduino IDE, and then go to <span class="packt_screen">Tools</span> | <span class="packt_screen">Board: "Arduino/Genuino Uno"</span> | <span class="packt_screen">Board Manager...</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_014.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Arduino IDE</div>
<p>You now need to click on <span class="packt_screen">Boards Manager</span> and select <span class="packt_screen">Intel i686 Boards</span>. Click on the version number and then click on <span class="packt_screen">Install</span>. <span class="packt_screen">Boards Manager</span> is an extremely important component of the IDE. We use the <span class="packt_screen">Boards Manager</span> to add external Arduino-compatible boards:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_015.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Boards Manager</div>
<p>Once installed, you should see your board displayed under <span class="packt_screen">Tools Boards</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="433" src="assets/image_01_016.png" width="190"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Board installation successful</div>
<p>Once successfully installed, you will now be able to program the device using the IDE. Like every starter program, we'll also be burning a simple program into the Intel Edison which will blink the on-board LED at certain intervals set by us. Through this, the basic structure of the program using the Arduino IDE will also be clear. When we initially open the IDE, we get two functions:</p>
<ul>
<li><kbd>void setup()</kbd></li>
<li><kbd>void loop()</kbd></li>
</ul>
<p>The setup function is the place where we declare whether the pins are to be configured in output mode or input mode. We also start various other services, such as serial port communication, in the setup method. Depending on the usecase, the implementation changes. The loop method is that segment of the code that executes repeatedly in an infinite sequence. Our main logic goes in here. Now we need to blink an LED with an interval of 1 second:</p>
<pre>
#define LED_PIN 13 <br/>void setup() <br/>  { <br/>    pinMode(LED_PIN, OUTPUT); <br/>  } <br/><br/>void loop() <br/>  { <br/>    digitalWrite(LED_PIN, HIGH); <br/>    delay(1000); <br/>    digitalWrite(LED_PIN, LOW); <br/>    delay(1000); <br/>  } 
</pre>
<p>In the preceding code, the line <kbd>#define LED_PIN 13</kbd> is a macro for defining the LED pin. In the Arduino expansion board, an LED and a resistor is already attached to <kbd>pin 13</kbd>, so we do not need to attach any additional LEDs for now. In the setup function, we have defined the configuration of the pin as output using the pinMode function with two parameters. In the loop function, we have initially set the pin to high by using the <kbd>digitalWrite</kbd> function with two parameters, and then we've defined a delay of 1,000 miliseconds which is equivalent of 1 second. After the delay, we set the pin to low and then again define a delay of 1 second. The preceding code explains the basic structure of the Arduino code written in the Arduino IDE.</p>
<p>To burn this program to the Edison device, first compile the code using the <span class="packt_screen">compile</span> button, then select the port number of your device, and finally click the <span class="packt_screen">U</span><span class="packt_screen">pload</span> button to upload the code:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="391" src="assets/image_01_017.png" width="322"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Arduino IDE <span>— b</span>link</div>
<p>The port number can be selected under <span class="packt_screen">Tools</span> | <span class="packt_screen">port</span>.</p>
<p>Now that we know how to program using an Arduino, let's have a look at how it actually works or what's happening inside the Arduino IDE.</p>
<p>A number of steps actually happen while uploading the code:</p>
<ol>
<li>First, the Arduino environment performs some small transformations to make sure that the code is correct C or C++ (two common programming languages).</li>
<li>It then gets passed to a compiler (<kbd>avr-gcc</kbd>), which turns the human readable code into machine readable instructions (or object files).</li>
<li>Then, your code gets combined with (linked against), the standard Arduino libraries that provide basic functions such as <kbd>digitalWrite()</kbd> or <kbd>Serial.print()</kbd>. The result is a single Intel hex file, which contains the specific bytes that need to be written to the program memory of the chip on the Arduino board.</li>
<li>This file is then uploaded to the board, transmitted over the USB or serial connection via the bootloader already on the chip or with external programming hardware.</li>
</ol>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Python</h1>
            </header>

            <article>
                
<p>Edison can also be programmed in Python. The code needs to be run on the device directly. We can either directly program the device, using any editor, such as the VI editor, or write the code in the PC first, and then transfer it using any FTP client, like FileZilla. Here we'll first write the code using Notepad++ and then transfer the script. Here also, we'll be executing a simple script which will blink the on-board LED. While dealing with Python and hardware, we need to use the MRAA library to interface with the GPIO pins. This is a low-level skeleton library for communication on GNU/Linux platforms. It supports almost all of the widely-used Linux-based boards. So, initially you need to install the library on the board.</p>
<p>Open up PuTTY and log in to your device. Once logged in, we'll add AlexT's unofficial <kbd>opkg</kbd> repository.</p>
<p>To do that, add the following lines to <kbd>/etc/opkg/base-feeds.conf</kbd> using the VI editor:</p>
<pre>
<strong>src/gz all http://repo.opkg.net/edison/repo/all</strong><br/><strong>src/gz edison http://repo.opkg.net/edison/repo/edison<br/></strong><strong>src/gz core2-32 http://repo.opkg.net/edison/repo/core2-32</strong>
</pre>
<p>Next, <kbd>update</kbd> the package manager and <kbd>install git</kbd> by executing the following commands:</p>
<pre>
<strong>opkg update<br/>opkg install git</strong>  
</pre>
<p>We'll clone Edison-scripts from GitHub to simplify certain things:</p>
<pre>
<strong>git clone https://github.com/drejkim/edison-scripts.git ~/edison-scripts</strong>
</pre>
<p>Next we'll add <kbd>~/edison-scripts</kbd> to the path:</p>
<pre>
<strong>echo 'export PATH=$PATH:~/edison-scripts' &gt;&gt; ~/.profile<br/>source ~/.profile</strong>
</pre>
<p>We'll now run the following scripts to complete the process. Please note that the previous steps will not only configure the device for MRAA, but will also set up the environment for later projects in this book.</p>
<p>Firstly, run the following script. Just type:</p>
<pre>
<strong>resizeBoot.sh</strong><br/><strong>Then go for </strong><br/><strong>installPip.sh</strong>
</pre>
<p>The previous package is the Python package manager. This will be used to install essential Python packages to be used in a later part of this book. Finally, we'll install <span class="packt_screen">Mraa</span> by executing the following command:</p>
<pre>
<strong>installMraa.sh</strong>
</pre>
<p>MRAA is a low-level skeleton library for communication on GNU/Linux platforms. <kbd>Libmraa</kbd> is a C/C++ library with bindings to Java, Python, and JavaScript to interface with the IO on Galileo, Edison, and other platforms. In simple words, it allows us to operate on the IO pins.</p>
<p>Once the preceding steps have completed, we are good to go with the code for Python. For that, open up any code editor, such as Notepad++, and type in the following code:</p>
<pre>
import mraa <br/>import time <br/><br/><br/>led = mraa.Gpio(13)<br/>led.dir(mraa.DIR_OUT)<br/><br/>while True:<br/>        led.write(1)<br/>        time.sleep(0.2)<br/>        led.write(0)<br/>        time.sleep(0.2) 
</pre>
<p>Please save the preceding code as a <kbd>.py</kbd> extension such as <kbd>blink.py</kbd>, and now, we'll explain it line by line.</p>
<p>Initially, using the import statements, we import two libraries: MRAA and time. MRAA is required for interfacing with the GPIO pins:</p>
<pre>
led = mraa.Gpio(13)<br/>led.dir(mraa.DIR_OUT)
</pre>
<p>Here we initialize the LED pin and set it to the output mode:</p>
<pre>
while True:<br/>        led.write(1)<br/>        time.sleep(0.2)<br/>        led.write(0)<br/>        time.sleep(0.2) 
</pre>
<p>In the preceding block, we put our main logic in an infinite loop block. Now, we will transfer this to our device. To do that again, go to the PuTTY console and type <kbd>ifconfig</kbd>. Under the <kbd>wlan0</kbd> section, note down your IP address:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="310" src="assets/image_01_018.jpg" width="489"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">IP address to be used</div>
<p>Now open up FileZilla and enter your credentials. Make sure your device and your PC are on the same network:</p>
<ul>
<li><span class="packt_screen">Host</span>: The IP address you got according to the preceding screenshot: <kbd>192.168.0.101</kbd></li>
<li><span class="packt_screen">Username</span>: <kbd>root</kbd> because you will be logging in to the root directory</li>
<li><span class="packt_screen">Password</span>: Your Edison password</li>
<li><span class="packt_screen">Port</span>: <kbd>22</kbd></li>
</ul>
<p>Once entered, you will get the folder structure of the device. We'll now transfer the Python code from our PC to the device. To do that, just locate your <kbd>.py</kbd> file in Windows Explorer and drag and drop the file in the FileZilla console's Edison's folder. For now, just paste the file under <kbd>root</kbd>. Once you do that and if it's a success, the file should be visible in your Edison device by accessing the PuTTY console and executing the <kbd>ls</kbd> command.</p>
<p>Another alternative is to locate your file on the left-hand side of FileZilla; once located, just right-click on the file and click <span class="packt_screen">Upload</span>. The following is the typical screenshot of the FileZilla windows:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_019.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">FileZilla application</div>
<p>Once transferred and successfully listed using the <kbd>ls</kbd> command, we are going to run the script. To run the script, in the PuTTY console, go to your <kbd>root</kbd> directory and type in the following command:</p>
<pre>
<strong>python blink.py</strong>
</pre>
<p>If the file is present, then you should get the LED blinking on your device. Congrats! You have successfully written a Python script on your Edison board.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Intel XDK for IoT (Node.js)</h1>
            </header>

            <article>
                
<p>Another IDE we will be covering is the powerful cross-platform development tool by Intel: Intel XDK. This will be used to run our Node.js scripts. Ideally we run our Node.js scripts from the XDK, but there is always an option to do the same by just transferring the <kbd>.js</kbd> file to your device using an FTP client such as FileZilla and use node <kbd>FileName.js</kbd> to run your script. From the list of downloaded software provided at the beginning of this chapter, download and install the XDK and open it. You may be required to sign in to the Intel developer zone. Once done, open your XDK. Then, under IoT embedded applications, select a <span class="packt_screen">Blank IoT Node.js Template</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_020.jpg"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Screenshot for XDK</div>
<p>Once opened, replace all the existing code with the following code:</p>
<pre>
var m = require('mraa'); //require mraa <br/>console.log('MRAA Version: ' + m.getVersion()); //write the mraa version to the console <br/><br/>varmyLed = new m.Gpio(13); //LED hooked up to digital pin 13 (or built in pin on Galileo Gen1 &amp; Gen2 or Edison) <br/>myLed.dir(m.DIR_OUT); //set the gpio direction to output <br/>varledState = true; //Boolean to hold the state of Led <br/><br/>functionperiodicActivity() <br/>  { <br/>    myLed.write(ledState?1:0);<br/>    ledState = !ledState; <br/>    setTimeout(periodicActivity,1000); <br/>  }<br/>periodicActivity(); //call the periodicActivity function 
</pre>
<p>If you have a close look at the code, then you may notice that the structure of the code remains more or less similar as that of the other two platforms. We initially import the <kbd>MRAA</kbd> library:</p>
<pre>
var m = require('mraa');<br/>console.log('MRAA Version: ' + m.getVersion());  
</pre>
<p>We also display the version of <kbd>MRAA</kbd> installed (you can skip this step). The next task is to initialize and configure the pin to be in output or input mode:</p>
<pre>
varmyLed = new m.Gpio(13); <br/>myLed.dir(m.DIR_OUT); <br/>varledState = true;
</pre>
<p>We use <kbd>ledState</kbd> to get the present state of the LED. Next, we define the logic in a separate function for blinking:</p>
<pre>
functionperiodicActivity() <br/>  { <br/>    myLed.write(ledState?1:0);<br/>    ledState = !ledState; <br/>    setTimeout(periodicActivity,1000); <br/>  } <br/>periodicActivity(); 
</pre>
<p>Finally, we call the function. On close inspection of the code, it's evident that the we have used only one delay in milliseconds as we are checking the present state using the tertiary operator. In order to execute the code on the device, we need to connect our device first.</p>
<p>To connect your device to the XDK, go to the <span class="packt_screen">IoT Device</span> section, and click on the dropdown. You may see your device in the dropdown. If you see it, then click on <span class="packt_screen">Connect</span>:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_021.jpg"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">XDK screenshot <span>—</span> connection pane</div>
<p>If the device is not listed, then we need to add a manual connection. Click on <span class="packt_screen">Add Manual Connection</span>, then add the credentials:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" height="350" src="assets/image_01_022.png" width="546"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Screenshot for manual connection</div>
<p>In the address, put in the IP which was used in FileZilla. In the <span class="packt_screen">Username</span>, insert <kbd>root</kbd>, and the password is the password that was set before. Click on <span class="packt_screen">Connect</span> and your device should be connected. Click on <span class="packt_screen">Upload</span> to upload the program and <span class="packt_screen">Run</span> to run the program:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class=" image-border" src="assets/image_01_023.jpg"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Screenshot for uploading and executing the code</div>
<p>After uploading, the LED that is attached to pin <kbd>13</kbd> should blink. Normally, when dealing with complex projects, we go for blank templates so that it's easy to customize and do the stuff we need.</p>
<div class="packt_infobox">For more examples and details on the XDK are available at: <a href="https://software.intel.com/en-us/getting-started-with-xdk-and-iot"><span class="URLPACKT">https://software.intel.com/en-us/getting-started-with-xdk-and-iot</span></a></div>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    

        <section>

            <header>
                <h1 class="header-title">Summary</h1>
            </header>

            <article>
                
<p>In this chapter, we've covered the initial setup of the Intel Edison and configuring it to the network. We have also looked at how to transfer files to and from the Edison, and set up the developer environment for Arduino, Python, and Node.js. We did some sample programming, blinking an LED, using all three platforms. Through this, we've gained a fair knowledge of operating the Edison and developing simple to complex projects.</p>
<p>In <a href="bada9944-ec60-4e8f-8d88-0085dd1c8210.xhtml" target="_blank">Chapter 2</a>, <em>Weather Station (IoT)</em>, we'll build a mini-weather station and will be able to deploy a project on the Intel Edison.</p>


            </article>

            <footer style="margin-top: 5em;">
                
            </footer>

        </section>
    </body></html>