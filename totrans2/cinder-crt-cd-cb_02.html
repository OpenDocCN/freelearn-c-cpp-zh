<html><head></head><body><div class="chapter" title="Chapter&#xA0;2.&#xA0;Preparing for Development"><div class="titlepage"><div><div><h1 class="title"><a id="ch02"/>Chapter 2. Preparing for Development</h1></div></div></div><p>In this chapter, we will cover:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Setting up a GUI for tweaking parameters</li><li class="listitem" style="list-style-type: disc">Saving and loading configurations</li><li class="listitem" style="list-style-type: disc">Making a snapshot of the current parameter state</li><li class="listitem" style="list-style-type: disc">Using MayaCamUI</li><li class="listitem" style="list-style-type: disc">Using 3D space guides</li><li class="listitem" style="list-style-type: disc">Communicating with other software</li><li class="listitem" style="list-style-type: disc">Preparing your application for iOS</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec21"/>Introduction</h1></div></div></div><p>In this chapter, we will introduce several simple recipes that can be very useful during the development process.</p></div></div>
<div class="section" title="Setting up a GUI for tweaking parameters"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec22"/>Setting up a GUI for tweaking parameters</h1></div></div></div><p><span class="strong"><strong>Graphical User Interface</strong></span>
<a id="id109" class="indexterm"/> (<span class="strong"><strong>GUI</strong></span>) is often required for controlling and tuning your Cinder application. In many cases, you spend more time tweaking the application parameters to achieve the desired result than writing the code<a id="id110" class="indexterm"/>. It is true especially when you are working on some generative graphics.</p><p>Cinder provides a convenient and easy-to-use GUI via the <code class="literal">InterfaceGl</code> class.</p><div class="mediaobject"><img src="graphics/8703OS_02_01.jpg" alt="Setting up a GUI for tweaking parameters"/></div><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec53"/>Getting ready</h2></div></div></div><p>To make the <code class="literal">InterfaceGl</code> class <a id="id111" class="indexterm"/>available in your Cinder application, all you have to do is include one header file.</p><div class="informalexample"><pre class="programlisting">#include "cinder/params/Params.h"</pre></div></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec54"/>How to do it…</h2></div></div></div><p>Follow the steps given here to add a GUI to your Cinder application.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Let's start with preparing different types of variables within our main class, which we will be manipulating using the GUI.<div class="informalexample"><pre class="programlisting">float mObjSize;
Quatf mObjOrientation;
Vec3f mLightDirection;
ColorA mColor;</pre></div></li><li class="listitem">Next, declare the <code class="literal">InterfaceGl</code> class member like this:<div class="informalexample"><pre class="programlisting">params::InterfaceGl mParams;</pre></div></li><li class="listitem">Now we move to the <code class="literal">setup</code> method and initialize our GUI window passing <code class="literal">"Parameters"</code> as the window caption and size to the <code class="literal">InterfaceGl</code> constructor:<div class="informalexample"><pre class="programlisting">mParams = params::InterfaceGl("Parameters", Vec2i(200,400));</pre></div></li><li class="listitem">And now we can add and<a id="id112" class="indexterm"/> configure controls for our variables:<div class="informalexample"><pre class="programlisting">mParams.addParam( "Cube Size", &amp;mObjSize, "min=0.1 max=20.5 step=0.5 keyIncr=z keyDecr=Z" );
mParams.addParam( "Cube Rotation", &amp;mObjOrientation ); // Quatf type
mParams.addParam( "Cube Color", &amp;mColor, "" ); // ColorA
mParams.addSeparator(); // add horizontal line separating controls
mParams.addParam( "Light Direction", &amp;mLightDirection, "" ); // Vec3f
mParams.addParam( "String ", &amp;mString, "" ); // string</pre></div><p>Take a look at the <code class="literal">addParam</code> method and its parameters. The first parameter is just the field caption. The second parameter is a pointer to the variable where the value is stored. There are a bunch of supported variable types, such as <code class="literal">bool</code>, <code class="literal">float</code>, <code class="literal">double</code>, <code class="literal">int</code>, <code class="literal">Vec3f</code>, <code class="literal">Quatf</code>, <code class="literal">Color</code>, <code class="literal">ColorA</code>, and <code class="literal">std::string</code>.</p><p>The possible variables types and their interface representations are tabulated in the following table:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Type</p>
</th><th style="text-align: left" valign="bottom">
<p>Representation</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p><code class="literal">std:string</code>
<a id="id113" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/8703OS_02_02.jpg" alt="How to do it…"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">Numerical: int, float, double</code>
<a id="id114" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/8703OS_02_03.jpg" alt="How to do it…"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">bool</code>
<a id="id115" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/8703OS_02_04.jpg" alt="How to do it…"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">ci::Vec3f</code>
<a id="id116" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/8703OS_02_05.jpg" alt="How to do it…"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">ci::Quatf</code>
<a id="id117" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/8703OS_02_06.jpg" alt="How to do it…"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">ci::Color</code>
<a id="id118" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/8703OS_02_07.jpg" alt="How to do it…"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">ci::ColorA</code>
<a id="id119" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/8703OS_02_08.jpg" alt="How to do it…"/></div>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Enumerated parameter</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/8703OS_02_09.jpg" alt="How to do it…"/></div>
</td></tr></tbody></table></div><p>The third parameter defines the control options. In the following table, you can find some commonly<a id="id120" class="indexterm"/> used options and their short explanations:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Name</p>
</th><th style="text-align: left" valign="bottom">
<p>Explanation</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p><code class="literal">min</code>
<a id="id121" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>The minimum possible value of a numeric variable</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">max</code>
<a id="id122" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>The maximum possible value of a numeric variable</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">step</code>
<a id="id123" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>Defines the number of significant digits printed after the period for floating point variables</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">key</code>
<a id="id124" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>Keyboard shortcut for calling button callback</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">keyIncr</code>
<a id="id125" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>Keyboard shortcut for incrementing the value</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">keyDecr</code>
<a id="id126" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>Keyboard shortcut for decrementing the value</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">readonly</code>
<a id="id127" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>Setting the value to <code class="literal">true</code> makes a variable read-only in GUI</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">precision</code>
<a id="id128" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>Defines the number of significant digits printed after the period for floating point variables</p>
</td></tr></tbody></table></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>You can find the complete documentation of the available options on the AntTweakBar page at the following address: <a class="ulink" href="http://anttweakbar.sourceforge.net/doc/tools:anttweakbar:varparamsyntax">http://anttweakbar.sourceforge.net/doc/tools:anttweakbar:varparamsyntax</a>.</p></div></div></li><li class="listitem">The last thing to do is invoke the <a id="id129" class="indexterm"/><code class="literal">InterfaceGl::draw()</code> method. We will do this at the end of the <code class="literal">draw</code> method in our main class by typing the following code line:<div class="informalexample"><pre class="programlisting">params::InterfaceGl::draw();</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec55"/>How it works...</h2></div></div></div><p>In the <code class="literal">setup</code> method we<a id="id130" class="indexterm"/> will set up the GUI window and then add controls, setting up a name in the first parameter of the <code class="literal">addParam</code> method. In a second parameter, we are pointing to the variable we want to link the GUI element to. Whenever we change values through the GUI, the linked variable will be updated.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec56"/>There's more...</h2></div></div></div><p>There are a few more options for <code class="literal">InterfaceGl</code>, if you need more control over built-in GUI mechanism, please refer to the <span class="emphasis"><em>AntTweakBar</em></span> documentation which you can find on the project page mentioned in the <span class="emphasis"><em>See also</em></span> section of this recipe.</p><div class="section" title="Buttons"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec01"/>Buttons</h3></div></div></div><a id="id131" class="indexterm"/><p>You can also add buttons to the InterfaceGl (CIT) panel with callbacks to some <a id="id132" class="indexterm"/>functions. For example:</p><div class="informalexample"><pre class="programlisting">mParams.addButton("Start", std::bind(&amp;MainApp::start, this));</pre></div><p>Clicking on the <span class="strong"><strong>Start</strong></span> button in the GUI fires the <code class="literal">start</code> method of the <code class="literal">MainApp</code> class.</p></div><div class="section" title="Panel position"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec02"/>Panel position</h3></div></div></div><p>A convenient way to control the<a id="id133" class="indexterm"/> position of the GUI panel is through the<a id="id134" class="indexterm"/> usage of the <span class="emphasis"><em>AntTweekBar</em></span> facility. You have to include an additional header file:</p><div class="informalexample"><pre class="programlisting">#include "AntTweakBar.h"</pre></div><p>And now you can change the position of the GUI panel with this code line:</p><div class="informalexample"><pre class="programlisting">TwDefine("Parameters position='100 200' ");</pre></div><p>In this case, <code class="literal">Parameters</code> is the GUI panel name and the <code class="literal">position</code> option takes x and y as values.</p></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec57"/>See also</h2></div></div></div><p>There are some good looking <a id="id135" class="indexterm"/>GUI libraries available as CinderBlocks. Cinder has an extensions system called blocks. The idea behind CinderBlocks is to provide easy-to-use integration with many third-party libraries. You can find how to add examples of CinderBlocks to your project in the <span class="emphasis"><em>Communicating with other software</em></span> recipe.</p><div class="section" title="SimpleGUI"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec03"/>SimpleGUI</h3></div></div></div><p>An alternative GUI developed <a id="id136" class="indexterm"/>by <span class="emphasis"><em>Marcin Ignac</em></span> as a CinderBlock can be found at <a class="ulink" href="https://github.com/vorg/MowaLibs/tree/master/SimpleGUI">https://github.com/vorg/MowaLibs/tree/master/SimpleGUI</a>.</p></div><div class="section" title="ciUI"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec04"/>ciUI</h3></div></div></div><p>You can check out an alternative user<a id="id137" class="indexterm"/> interface developed by <span class="emphasis"><em>Reza Ali</em></span> as a CinderBlock at <a class="ulink" href="http://www.syedrezaali.com/blog/?p=2366">http://www.syedrezaali.com/blog/?p=2366</a>.</p></div><div class="section" title="AntTweakBar"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec05"/>AntTweakBar</h3></div></div></div><p><code class="literal">InterfaceGl</code> in Cinder<a id="id138" class="indexterm"/> is built on top of <span class="emphasis"><em>AntTweakBar</em></span>; you can find its documentation at <a class="ulink" href="http://www.antisphere.com/Wiki/tools:anttweakbar">http://www.antisphere.com/Wiki/tools:anttweakbar</a>.</p></div></div></div>
<div class="section" title="Saving and loading configurations"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec23"/>Saving and loading configurations</h1></div></div></div><p>Many applications that you will develop operate on input parameters set by the user. For example, it could be the color or position of some graphical elements or parameters used to set up communication with other applications. Reading configurations from external files is necessary for your applications.<a id="id139" class="indexterm"/> We will use a built-in Cinder support for reading and writing XML files to implement the configuration persistence mechanism.<a id="id140" class="indexterm"/></p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec58"/>Getting ready</h2></div></div></div><p>Create two configurable variables in the main class: the IP address and the port of the host we are communicating with.</p><div class="informalexample"><pre class="programlisting">string mHostIP;
int mHostPort;</pre></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec59"/>How to do it...</h2></div></div></div><p>Now we will implement the <code class="literal">loadConfig</code> and <code class="literal">saveConfig</code> methods and use them to load the configuration on<a id="id141" class="indexterm"/> application <a id="id142" class="indexterm"/>startup and save the changes while closing.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Include the two following additional headers:<div class="informalexample"><pre class="programlisting">#include "cinder/Utilities.h"
#include "cinder/Xml.h"</pre></div></li><li class="listitem">We will prepare two methods for loading and saving the XML configuration file.<div class="informalexample"><pre class="programlisting">void MainApp::loadConfig() 
{
  try {
    XmlTree doc( loadFile( getAppPath() / fs::path("config.xml") ) );
    XmlTree &amp;generalNode = doc.getChild( "general" );

    mHostIP = generalNode.getChild("hostIP").getValue();
    mHostPort = generalNode.getChild("hostPort").getValue&lt;int&gt;();

  } catch(Exception e) {
    console() &lt;&lt; "ERROR: loading/reading configuration file." &lt;&lt; endl;
  }
}

void MainApp::saveConfig() 
{
  std::string beginXmlStr( "&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;" );
  XmlTree doc( beginXmlStr );

  XmlTree generalNode;
  generalNode.setTag("general");
  generalNode.push_back( XmlTree("hostIP", mHostIP) );
  generalNode.push_back( XmlTree("hostPort", toString(mHostPort)) );
  doc.push_back(generalNode);

  doc.write(writeFile( getAppPath() / fs::path("config.xml")) );
}</pre></div></li><li class="listitem">Now in the <code class="literal">setup</code> method, inside our main class, we will put:<div class="informalexample"><pre class="programlisting">// setup default values
mHostIP = "127.0.0.1";
mHostPort = 1234;

loadConfig();</pre></div></li><li class="listitem">After this we will implement the <code class="literal">shutdown</code> method as follows:<div class="informalexample"><pre class="programlisting">void MainApp::shutdown()
{
  saveConfig();
}</pre></div></li><li class="listitem">And don't forget to declare the <code class="literal">shutdown</code> method in the main class:<div class="informalexample"><pre class="programlisting">void shutdown();</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec60"/>How it works...</h2></div></div></div><p>The first two methods, <code class="literal">loadConfig</code> and <code class="literal">saveConfig</code>, are essential. The <code class="literal">loadConfig</code> method tries to open <a id="id143" class="indexterm"/>the <code class="literal">config.xml</code> file and find the <code class="literal">general</code> node. Inside the <code class="literal">general</code> node should be the <code class="literal">hostIP</code> and <code class="literal">hostPort</code> nodes. The values of these nodes will be assigned to corresponding variables in our application: <code class="literal">mHostIP</code> and <code class="literal">mHostPort</code>.<a id="id144" class="indexterm"/></p><p>The <a id="id145" class="indexterm"/>
<code class="literal">shutdown</code> method is automatically triggered by Cinder just before the application closes, so our configuration values will be stored in the XML file when we quit the application. Finally, our configuration XML file looks like this:</p><div class="informalexample"><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;general&gt;
&lt;hostIP&gt;127.0.0.1&lt;/hostIP&gt;
&lt;hostPort&gt;1234&lt;/hostPort&gt;
&lt;/general&gt;</pre></div><p>You can see clearly that the nodes are referring to application variables.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec61"/>See also</h2></div></div></div><p>You can write your own configuration loader and saver or use the existing CinderBlock.</p><div class="section" title="Cinder-Config"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec06"/>Cinder-Config</h3></div></div></div><p>Cinder-Config is a<a id="id146" class="indexterm"/> small<a id="id147" class="indexterm"/> CinderBlock for creating configuration files along with <code class="literal">InterfaceGl</code>.</p><p><a class="ulink" href="https://github.com/dawidgorny/Cinder-Config">https://github.com/dawidgorny/Cinder-Config</a></p></div></div></div>
<div class="section" title="Making a snapshot of the current parameter state"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec24"/>Making a snapshot of the current parameter state</h1></div></div></div><p>We will implement a simple but useful mechanism for saving and loading the parameters' states. The code used in the examples will be based on the previous recipes.<a id="id148" class="indexterm"/></p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec62"/>Getting ready</h2></div></div></div><p>Let's say we have a variable that we are changing frequently. In this case, it will be the color of some element we are drawing and the main class will have the following member variable:</p><div class="informalexample"><pre class="programlisting">ColorA mColor;</pre></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec63"/>How to do it...</h2></div></div></div><p>We will use a built-in XML parser and the <code class="literal">fileDrop</code> event handler.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We have to include the following additional headers:<div class="informalexample"><pre class="programlisting">#include "cinder/params/Params.h"
#include "cinder/ImageIo.h"
#include "cinder/Utilities.h"
#include "cinder/Xml.h"</pre></div></li><li class="listitem">First, we implement two methods for loading and saving parameters:<div class="informalexample"><pre class="programlisting">void MainApp::loadParameters(std::string filename)
{
  try {
    XmlTree doc( loadFile( fs::path(filename) ) );
    XmlTree &amp;generalNode = doc.getChild( "general" );

        mColor.r = generalNode.getChild("ColorR").getValue&lt;float&gt;();
        mColor.g = generalNode.getChild("ColorG").getValue&lt;float&gt;();
        mColor.b = generalNode.getChild("ColorB").getValue&lt;float&gt;();
        
  } catch(XmlTree::Exception e) {
    console() &lt;&lt; "ERROR: loading/reading configuration file." &lt;&lt; e.what() &lt;&lt; std::endl;
  }
}

void MainApp::saveParameters(std::string filename)
{
  std::string beginXmlStr( "&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;" );
  XmlTree doc( beginXmlStr );

  XmlTree generalNode;
  generalNode.setTag("general");
  generalNode.push_back(XmlTree("ColorR", toString(mColor.r)));
  generalNode.push_back(XmlTree("ColorG", toString(mColor.g)));
  generalNode.push_back(XmlTree("ColorB", toString(mColor.b)));

  doc.push_back(generalNode);

  doc.write( writeFile( getAppPath() / fs::path("..") / fs::path(filename) ) );
}</pre></div></li><li class="listitem">Now we declare a class member. <a id="id149" class="indexterm"/>It will be the flag to trigger snapshot creation:<div class="informalexample"><pre class="programlisting">bool mMakeSnapshot;</pre></div></li><li class="listitem">Assign a value to it value inside the <code class="literal">setup</code> method:<div class="informalexample"><pre class="programlisting">mMakeSnapshot = false;</pre></div></li><li class="listitem">At the end of the <code class="literal">draw</code> method we put the following code, just before the <code class="literal">params::InterfaceGl::draw();</code> line:<div class="informalexample"><pre class="programlisting">if(mMakeSnapshot) {
  mMakeSnapshot = false;

  double timestamp = getElapsedSeconds();
  std::string timestampStr = toString(timestamp);

  writeImage(getAppPath() / fs::path("..") / fs::path("snapshot_" + timestampStr + ".png"), copyWindowSurface());
  saveParameters("snapshot_" + timestampStr + ".xml");
}</pre></div></li><li class="listitem">We want to make a button in our <code class="literal">InterfaceGl</code> window:<div class="informalexample"><pre class="programlisting">mParams.addButton( "Make snapshot", std::bind( &amp;MainApp::makeSnapshotClick, this ) );</pre></div><p>As you can see we don't have the <code class="literal">makeSnapshotClick</code> method<a id="id150" class="indexterm"/> yet. It is simple to implement:</p><div class="informalexample"><pre class="programlisting">void MainApp::makeSnapshotClick()
{
    mMakeSnapshot = true;
}</pre></div></li><li class="listitem">The last step will be adding<a id="id151" class="indexterm"/> the following method for <span class="emphasis"><em>drag-and-drop</em></span> support:<div class="informalexample"><pre class="programlisting">void MainApp::fileDrop( FileDropEvent event )
{
    std::string filepath = event.getFile( event.getNumFiles() - 1 ).generic_string();
    loadParameters(filepath);
}</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec64"/>How it works...</h2></div></div></div><p>We have two methods for loading and storing the <code class="literal">mColor</code> values in an XML file. These methods are <code class="literal">loadParameters</code> and <code class="literal">saveParameters</code>.</p><p>The code we put inside the <code class="literal">draw</code> method <a id="id152" class="indexterm"/>needs some explanation. We are waiting for the <code class="literal">mMakeSnapshot</code> method to be set to <code class="literal">true</code> and then we are creating a timestamp to avoid overwriting previous snapshots.The next two lines store the chosen values by invoking the <a id="id153" class="indexterm"/>
<code class="literal">saveParameters</code> method and save a current window view as a PNG file using the <code class="literal">writeImage</code> function. Please notice that we have put that code before invoking <code class="literal">InterfaceGl::draw</code>, so we save the window view without the GUI.</p><p>A nice thing we have here is the <span class="emphasis"><em>drag-and-drop</em></span> feature for loading snapshot files. It's implemented in the <code class="literal">fileDrop</code> method; Cinder invokes this method every time files are dropped to your application window. First, we get a path to the dropped file; in the case of multiple files, we are taking only one. Then we invoke the <code class="literal">loadParameters</code> method with the dropped file path as an argument.</p></div></div>
<div class="section" title="Using MayaCamUI"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec25"/>Using MayaCamUI</h1></div></div></div><p>We are going to add to your 3D scene a<a id="id154" class="indexterm"/> navigation facility known  to us since we modelled a 3D software. Using <code class="literal">MayaCamUI</code>, you can do this with just a few lines of code.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec65"/>Getting ready</h2></div></div></div><p>We need to have some 3D objects in our scene. <a id="id155" class="indexterm"/>You can use some primitives provided by Cinder, for example:</p><div class="informalexample"><pre class="programlisting">gl::drawColorCube(Vec3f::zero(), Vec3f(4.f, 4.f, 4.f));</pre></div><p>A color cube is a cube with a different color on each face, so it is easy to determine the orientation.</p><div class="mediaobject"><img src="graphics/8703OS_02_10.jpg" alt="Getting ready"/></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec66"/>How to do it...</h2></div></div></div><p>Perform the following steps to create camera navigation:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We need the <code class="literal">MayaCam.h</code> header file:<div class="informalexample"><pre class="programlisting">#include "cinder/MayaCamUI.h"</pre></div></li><li class="listitem">We also need  some member declarations in the main class:<div class="informalexample"><pre class="programlisting">CameraPersp  mCam;
MayaCamUI    mMayaCam;</pre></div></li><li class="listitem">Inside the <code class="literal">setup</code> method, we are going to set up the camera's initial state:<div class="informalexample"><pre class="programlisting">mCam.setPerspective(45.0f, getWindowAspectRatio(), 0.1, 10000);
mMayaCam.setCurrentCam(mCam);</pre></div></li><li class="listitem">Now we have<a id="id156" class="indexterm"/> to implement three methods:<div class="informalexample"><pre class="programlisting">void MainApp::resize( ResizeEvent event )
{
    mCam = mMayaCam.getCamera();
    mCam.setAspectRatio(getWindowAspectRatio());
    mMayaCam.setCurrentCam(mCam);
}

void MainApp::mouseDown( MouseEvent event )
{
  mMayaCam.mouseDown( event.getPos() );
}

void MainApp::mouseDrag( MouseEvent event )
{
  mMayaCam.mouseDrag( event.getPos(), event.isLeftDown(), event.isMiddleDown(), event.isRightDown() );
}</pre></div></li><li class="listitem">Apply camera matrices before your 3D drawing stuff inside the <code class="literal">draw</code> method:<div class="informalexample"><pre class="programlisting">gl::setMatrices(mMayaCam.getCamera());</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec67"/>How it works...</h2></div></div></div><p>Inside the <code class="literal">setup</code> method,<a id="id157" class="indexterm"/> we set the initial camera settings. While the window is resizing, we have to update the aspect ratio of our camera, so we put the code for this in the <code class="literal">resize</code> method. This method is automatically<a id="id158" class="indexterm"/> invoked by Cinder each time the window of our application is resized. We catch mouse events inside the <code class="literal">mouseDown</code> and <code class="literal">mouseDrag</code> methods. You can click and drag your mouse for tumbling, right-click for zooming, and use the middle button for panning. Now you have interaction similar to a common 3D modeling software in your own application.</p></div></div>
<div class="section" title="Using 3D space guides"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec26"/>Using 3D space guides</h1></div></div></div><p>We will try to use built-in Cinder methods to visualize some basic information about the scene we are working on. It should make working <a id="id159" class="indexterm"/>with 3D space more comfortable.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec68"/>Getting ready</h2></div></div></div><p>We will need the <code class="literal">MayaCamUI</code> navigation that we have implemented in the previous recipe.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec69"/>How to do it...</h2></div></div></div><p>We will draw some objects that <a id="id160" class="indexterm"/>will help to visualize and find the orientation of a 3D scene.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We will add another camera besides <code class="literal">MayaCamUI</code>. Let's start by adding member declarations to the main class:<div class="informalexample"><pre class="programlisting">CameraPersp     mSceneCam;
int             mCurrentCamera;</pre></div></li><li class="listitem">Then we will set the initial values inside the <code class="literal">setup</code> method:<div class="informalexample"><pre class="programlisting">mCurrentCamera = 0;
    
mSceneCam.setEyePoint(Vec3f(0.f, 5.f, 10.f));
mSceneCam.setViewDirection(Vec3f(0.f, 0.f, -1.f) );
mSceneCam.setPerspective(45.0f, getWindowAspectRatio(), 0.1, 20);</pre></div></li><li class="listitem">We have to update the aspect ratio of <code class="literal">mSceneCamera</code> inside the <code class="literal">resize</code> method:<div class="informalexample"><pre class="programlisting">mSceneCam.setAspectRatio(getWindowAspectRatio());</pre></div></li><li class="listitem">Now we will implement the <code class="literal">keyDown</code> method that will switch between two cameras by pressing the <span class="emphasis"><em>1</em></span> or <span class="emphasis"><em>2</em></span> keys on the keyboard:<div class="informalexample"><pre class="programlisting">void MainApp::keyDown( KeyEvent event )
{
    if(event.getChar() == '1') {
        mCurrentCamera = 0;    
    } else if(event.getChar() == '2') {
        mCurrentCamera = 1;         
    }
}</pre></div></li><li class="listitem">Another method we are going to use is <code class="literal">drawGrid</code>, which looks like this:<div class="informalexample"><pre class="programlisting">void MainApp::drawGrid(float size, float step)
{
  gl::color( Color(0.7f, 0.7f, 0.7f) );

    //draw grid
    for(float i=-size;i&lt;=size;i+=step) {
    gl::drawLine(Vec3f(i, 0.f, -size), Vec3f(i, 0.f, size));
    gl::drawLine(Vec3f(-size, 0.f, i), Vec3f(size, 0.f, i));
  }
    
    // draw bold center lines
    glLineWidth(2.f);
    gl::color(Color::white());
    gl::drawLine(Vec3f(0.f, 0.f, -size), Vec3f(0.f, 0.f, size));
    gl::drawLine(Vec3f(-size, 0.f, 0.f), Vec3f(size, 0.f, 0.f));
    
    glLineWidth(1.f);
}</pre></div></li><li class="listitem">After that, we can implement <a id="id161" class="indexterm"/>our main drawing routine, so here is the whole <code class="literal">draw</code> method:<div class="informalexample"><pre class="programlisting">void MainApp::draw()
{
  gl::enable(GL_CULL_FACE);
  gl::enableDepthRead();
  gl::enableDepthWrite();
  gl::clear( Color( 0.1f, 0.1f, 0.1f ) );
    
  if(mCurrentCamera == 0) {
        gl::setMatrices(mMayaCam.getCamera());
        
        // draw grid
        drawGrid(100.0f, 10.0f);
        
        // draw coordinate guide
        gl::pushMatrices();
        gl::translate(0.f, 0.4f, 0.f);
        gl::drawCoordinateFrame(5.0f, 1.5f, 0.3f);
        gl::popMatrices();
        
        // draw scene camera frustum
        gl::color(Color::white());
        gl::drawFrustum(mSceneCam);
        
        // draw vector guide
        gl::color(Color(1.f,0.f,0.f));
        gl::drawVector(Vec3f(-3.f, 7.f, -6.f), 
        Vec3f(3.f, 10.f, -9.f), 1.5f, 0.3);
        
    } else {
        gl::setMatrices(mSceneCam);
    }
    
    // draw some 3D object
    gl::rotate(30);
    gl::drawColorCube(Vec3f(0.f, 5.f, -5.f), 
    Vec3f(2.f, 2.f, 2.f));
}</pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec70"/>How it works...</h2></div></div></div><p>We have two cameras; <code class="literal">mSceneCam</code> is for final rendering<a id="id162" class="indexterm"/> and <code class="literal">mMayaCam</code> is for the preview of objects in our scene. You can switch between them by pressing the <span class="emphasis"><em>1</em></span> or <span class="emphasis"><em>2</em></span> keys. The default camera is <code class="literal">MayaCam</code>.</p><div class="mediaobject"><img src="graphics/8703OS_02_11.jpg" alt="How it works..."/></div><p>In the previous screenshot, you <a id="id163" class="indexterm"/>can see the whole scene set up with the elements, such as the origin of the coordinate system, the construction grid that lets you keep orientation in 3D space easily, and the <code class="literal">mSceneCam</code> frustum and vector visualization between two points in 3D space. You can navigate through this space using <code class="literal">MayaCamUI</code>.</p><p>If you press the <span class="emphasis"><em>2</em></span> key, you will switch to the view of <code class="literal">mSceneCam</code>, so you will see only your 3D objects without guides as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/8703OS_02_12.jpg" alt="How it works..."/></div></div></div>
<div class="section" title="Communicating with other software"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec27"/>Communicating with other software</h1></div></div></div><p>We will implement an example communication between two Cinder applications written in Cinder to illustrate how we can send and receive signals. Each of these two applications can be replaced by a non-Cinder application very easily.</p><p>We are going to use<a id="id164" class="indexterm"/> the <span class="strong"><strong>Open Sound Control</strong></span>
<a id="id165" class="indexterm"/> (<span class="strong"><strong>OSC</strong></span>) messaging format, which is dedicated for communication between wide ranges of multimedia devices over the network. OSC uses UDP protocol, providing flexibility and performance. Each message consists of URL-like addresses and arguments of integer, float, or string type. The popularity of OSC makes it a great tool for connecting different environments or applications developed with different technologies over the network or even on the local machine.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec71"/>Getting ready</h2></div></div></div><p>While downloading the Cinder package we are also downloading four primary blocks. One of them is the <code class="literal">osc</code> block<a id="id166" class="indexterm"/>  located in the <code class="literal">blocks</code> directory. First, we will add a new group to our XCode project root and name it <code class="literal">Blocks</code>, and after that we will drag the <code class="literal">osc</code> folder inside the <code class="literal">Blocks</code> group. Be sure the <span class="strong"><strong>Create groups for any added folders</strong></span> options and <span class="strong"><strong>MainApp</strong></span> in the <span class="strong"><strong>Add to targets</strong></span> section are checked.</p><div class="mediaobject"><img src="graphics/8703OS_02_13.jpg" alt="Getting ready"/></div><p>We only need to include an <code class="literal">src</code> from the <code class="literal">osc</code> folders, so we will delete references to the <code class="literal">lib</code> and <code class="literal">samples</code> folders from our project tree. The final project structure should look like the following screenshot:</p><div class="mediaobject"><img src="graphics/8703OS_02_14.jpg" alt="Getting ready"/></div><p>Now we have to add a path to <a id="id167" class="indexterm"/> the <code class="literal">OSC</code> library file as another linker flag's position in your project's build settings:</p><div class="informalexample"><pre class="programlisting">$(CINDER_PATH)/blocks/osc/lib/macosx/osc.a</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip03"/>Tip</h3><p><span class="strong"><strong>CINDER_PATH</strong></span> <a id="id168" class="indexterm"/>should be set as a user-defined setting in the build settings of your project and it should be the path to Cinder root directory.</p></div></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec72"/>How to do it...</h2></div></div></div><p>First we will cover instructions for the <span class="emphasis"><em>sender</em></span>, and then for the <span class="emphasis"><em>listener</em></span>.</p><div class="section" title="Sender"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl4sec01"/>Sender</h3></div></div></div><p>We will implement an application<a id="id169" class="indexterm"/> that sends OSC messages.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We have to include an additional header <a id="id170" class="indexterm"/>file:<div class="informalexample"><pre class="programlisting">#include "OSCSender.h"</pre></div></li><li class="listitem">After that we can use the <code class="literal">osc::Sender</code> class, so let's declare the needed properties in the main class:<div class="informalexample"><pre class="programlisting">osc::Sender mOSCSender;
std::string mDestinationHost;
int         mDestinationPort;

Vec2f       mObjPosition;</pre></div></li><li class="listitem">Now we have to set up our sender inside the <code class="literal">setup</code> method:<div class="informalexample"><pre class="programlisting">mDestinationHost = "localhost";
mDestinationPort = 3000;
mOSCSender.setup(mDestinationHost, mDestinationPort);</pre></div></li><li class="listitem"> Set the default value for <code class="literal">mObjectPosition</code> to be the center of the window:<div class="informalexample"><pre class="programlisting">mObjPosition = Vec2f(getWindowWidth()*0.5f,
                     getWindowHeight()*0.5f);</pre></div></li><li class="listitem">We can now implement the <code class="literal">mouseDrag</code> method,<a id="id171" class="indexterm"/> which includes two major operations—updating the object position according to the mouse position and sending the position information via OSC.<div class="informalexample"><pre class="programlisting">void MainApp::mouseDrag(MouseEvent event)
{
    mObjPosition.x = event.getX();
    mObjPosition.y = event.getY();

  osc::Message msg;
  msg.setAddress("/obj/position");
  msg.addFloatArg(mObjPosition.x);
  msg.addFloatArg(mObjPosition.y);
  msg.setRemoteEndpoint(mDestinationHost, mDestinationPort);
  mOSCSender.sendMessage(msg);
}</pre></div></li><li class="listitem">The last thing we need to do is to draw a method just to visualize the position of the object:<div class="informalexample"><pre class="programlisting">void MainApp::draw()
{
  gl::clear(Color(0.1f, 0.1f, 0.1f));
    gl::color(Color::white());
    gl::drawStrokedCircle(mObjPosition, 50.f);
}</pre></div></li></ol></div></div><div class="section" title="Listener"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl4sec02"/>Listener</h3></div></div></div><p>We will implement<a id="id172" class="indexterm"/> an application <a id="id173" class="indexterm"/>that receives <code class="literal">OSC</code> messages.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We have to include an additional header file:<div class="informalexample"><pre class="programlisting">#include "OSCListener.h"</pre></div></li><li class="listitem">After that we can use the <code class="literal">osc::Listener</code> class, so let's declare the required properties in the main class:<div class="informalexample"><pre class="programlisting">osc::Listener  mOSCListener;
Vec2f          mObjPosition;</pre></div></li><li class="listitem">Now we have to set up our listener object inside the <code class="literal">setup</code> method, passing the port number for listening as a parameter:<div class="informalexample"><pre class="programlisting">mOSCListener.setup(3000);</pre></div></li><li class="listitem">And the default value for <code class="literal">mObjectPosition</code> to be the center of the window:<div class="informalexample"><pre class="programlisting">mObjPosition = Vec2f(getWindowWidth()*0.5f,
                     getWindowHeight()*0.5f);</pre></div></li><li class="listitem">Inside the <code class="literal">update</code> method, we will be listening for the incoming <code class="literal">OSC</code> messages:<div class="informalexample"><pre class="programlisting">void MainApp::update()
{
    while (mOSCListener.hasWaitingMessages()) {
        osc::Message msg;
        mOSCListener.getNextMessage(&amp;msg);
        
        if(msg.getAddress() == "/obj/position" &amp;&amp;
           msg.getNumArgs() == 2 &amp;&amp;
           msg.getArgType(0) == osc::TYPE_FLOAT &amp;&amp;
           msg.getArgType(1) == osc::TYPE_FLOAT)
        {
            mObjPosition.x = msg.getArgAsFloat(0);
            mObjPosition.y = msg.getArgAsFloat(1);
        }
    }
}</pre></div></li><li class="listitem">Our <code class="literal">draw</code> method<a id="id174" class="indexterm"/> will be almost the same as the sender version, but instead of stroked circle we will draw a filled circle:<div class="informalexample"><pre class="programlisting">void MainApp::draw()
{
  gl::clear( Color( 0.1f, 0.1f, 0.1f ) );
  gl::color(Color::white());
  gl::drawSolidCircle(mObjPosition, 50.f);
}</pre></div></li></ol></div></div></div></div>
<div class="section" title="How it works..."><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl2sec73"/>How it works...</h1></div></div></div><p>We have implemented the sender application that sends the position of the mouse via OSC protocol. Those messages, with<a id="id175" class="indexterm"/> the address <code class="literal">/obj/position</code>, can be received by any non-Cinder OSC application implemented in many other frameworks and programming languages. The first argument in the message is the x axis position of the mouse and the second argument is the y axis position. Both are of the <code class="literal">float</code> type.</p><div class="mediaobject"><img src="graphics/8703OS_02_15.jpg" alt="How it works..."/></div><p>In our case, the application that receives messages is another Cinder application that draws a filled circle at exactly the<a id="id176" class="indexterm"/> same position where you point it in the sender application window.</p><div class="mediaobject"><img src="graphics/8703OS_02_16.jpg" alt="How it works..."/></div></div>
<div class="section" title="There's more..."><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl2sec74"/>There's more...</h1></div></div></div><p>That was just a short example of the possibilities that OSC offers. This simple communication method can be applied even in very complex projects. OSC works great when several devices are working as independent units. But at some point, data coming from them is processed; for example, frames coming from the camera can be processed by the computer vision software and results sent over the network to another machine projecting the visualization. Implementation on top of the UDP protocol gives not only performance, because of the fact that transmitting data is faster than using TCP, but also implementation is much simpler without a connection handshake.<a id="id177" class="indexterm"/></p><div class="section" title="Broadcast"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl3sec08"/>Broadcast</h2></div></div></div><p>You can send OSC messages to all<a id="id178" class="indexterm"/> the hosts on your network by setting a broadcast address as a destination host: <code class="literal">255.255.255.255</code>. For example, in case of subnets, you can use <code class="literal">192.168.1.255</code> .</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip04"/>Tip</h3><p>If you have problems with compilation under Mac OS X 10.7 because of a linker error, try to set <span class="strong"><strong>Inline Methods Hidden</strong></span> to <span class="strong"><strong>No</strong></span> in your project's build settings.</p></div></div></div></div>
<div class="section" title="See also"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl2sec75"/>See also</h1></div></div></div><p>You can find more information about OSC implementations by checking out the following links.</p><div class="section" title="OSC in Flash"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl3sec09"/>OSC in Flash</h2></div></div></div><p>To support receiving and <a id="id179" class="indexterm"/>sending OSC messages in your ActionScript 3.0 code you can use the following library: <a class="ulink" href="http://bubblebird.at/tuioflash/">http://bubblebird.at/tuioflash/</a></p></div><div class="section" title="OSC in Processing"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl3sec10"/>OSC in Processing</h2></div></div></div><p>To support <span class="strong"><strong>OSC</strong></span> protocol<a id="id180" class="indexterm"/> in your <span class="strong"><strong>Processing</strong></span> sketch<a id="id181" class="indexterm"/> you can use following library: <a class="ulink" href="http://www.sojamo.de/libraries/oscP5/">http://www.sojamo.de/libraries/oscP5/</a></p></div><div class="section" title="OSC in openFrameworks"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl3sec11"/>OSC in openFrameworks</h2></div></div></div><p>To support receiving and sending OSC messages<a id="id182" class="indexterm"/> in your <code class="literal">openFrameworks</code> project, you can use the <code class="literal">ofxOsc</code> add-on: <a class="ulink" href="http://ofxaddons.com/repos/112">http://ofxaddons.com/repos/112</a></p></div><div class="section" title="OpenSoundControl Protocol"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl3sec12"/>OpenSoundControl Protocol</h2></div></div></div><p>You can find more <a id="id183" class="indexterm"/>information about <a id="id184" class="indexterm"/>OSC protocol and related tools at its official site: <a class="ulink" href="http://opensoundcontrol.org/">http://opensoundcontrol.org/</a>.</p></div></div>
<div class="section" title="Preparing your application for iOS"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec28"/>Preparing your application for iOS</h1></div></div></div><p>The big benefit of using Cinder is the resulting multiplatform code. In most cases, your application can be compiled on <a id="id185" class="indexterm"/>Windows, Mac OS X, and iOS without significant modifications.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec76"/>Getting ready</h2></div></div></div><p>If you want to run your applications on iOS devices, you will need to register as an Apple Developer and purchase the iOS Developer Program.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec77"/>How to do it...</h2></div></div></div><p>After registering yourself as an Apple Developer or purchasing the iOS Developer Program, you can create an initial XCode project for iOS using Tinderbox.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">After running Tinderbox you have to set <span class="strong"><strong>Target</strong></span> to <span class="strong"><strong>Cocoa Touch</strong></span>.<div class="mediaobject"><img src="graphics/8703OS_02_18.jpg" alt="How to do it..."/></div></li><li class="listitem">It will generate a<a id="id186" class="indexterm"/> project structure for you, supporting iOS events that are specific for multitouch screens.<p>We can use events for multiple touches and for easy access to accelerometer data. The main difference between touch and mouse events is that there can be more than one active touch points while there is only one mouse cursor. Because of that, each touch session has an ID that can be read from <code class="literal">TouchEvent</code> object.</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Method</p>
</th><th style="text-align: left" valign="bottom">
<p>Describe</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p><code class="literal">touchesBegan( TouchEvent event )</code>
<a id="id187" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>Beginning of a multitouch sequence</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">touchesMoved( TouchEvent event )</code>
<a id="id188" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>Drags during a multitouch sequence</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">touchesEnded( TouchEvent event )</code>
<a id="id189" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>The end of a multitouch sequence</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">getActiveTouches()</code>
<a id="id190" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>Returns all active touches</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p><code class="literal">accelerated( AccelEvent event )</code>
<a id="id191" class="indexterm"/></p>
</td><td style="text-align: left" valign="top">
<p>Vector 3D of the acceleration direction<a id="id192" class="indexterm"/></p>
</td></tr></tbody></table></div></li></ol></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec78"/>See also</h2></div></div></div><p>I recommend you take a look at the sample projects included in the Cinder package: <code class="literal">MultiTouchBasic</code> and <code class="literal">iPhoneAccelerometer</code>.</p><div class="section" title="Apple Developer Center"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec13"/>Apple Developer Center</h3></div></div></div><p>You can find more information<a id="id193" class="indexterm"/> <a id="id194" class="indexterm"/>about the iOS Developer Program here: <a class="ulink" href="https://developer.apple.com/">https://developer.apple.com/</a></p></div></div></div></body></html>