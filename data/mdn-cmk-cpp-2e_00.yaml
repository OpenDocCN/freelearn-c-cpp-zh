- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 序言
- en: Creating top-notch software is no easy task. Developers researching this subject
    online often struggle to determine which advice is current and which methods have
    been superseded by newer, better practices. Moreover, most resources explain the
    process chaotically, lacking proper background, context, and structure.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一流的软件并非易事。开发人员在网上研究这个话题时，经常难以判断哪些建议是最新的，哪些方法已经被更新、更好的实践所取代。此外，大多数资源以混乱的方式解释过程，缺乏适当的背景、上下文和结构。
- en: '*Modern CMake for C++* provides an end-to-end guide that offers a simpler experience
    by treating the building of C++ solutions comprehensively. It not only teaches
    you how to use CMake in your projects but also highlights what makes them maintainable,
    elegant, and clean. The guide walks you through automating complex tasks common
    in many projects, including building, testing, and packaging.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*现代 CMake for C++* 提供了一个端到端的指南，通过全面处理 C++ 解决方案的构建，提供了更简便的体验。它不仅教你如何在项目中使用 CMake，还突出展示了使项目保持可维护、优雅和清晰的要素。该指南将帮助你自动化许多项目中常见的复杂任务，包括构建、测试和打包。'
- en: The book instructs you on organizing source directories, building targets, and
    creating packages. As you progress, you will learn to compile and link executables
    and libraries, understand these processes in detail, and optimize each step for
    the best results. Additionally, you will discover how to incorporate external
    dependencies into your project, such as third-party libraries, testing frameworks,
    program analysis tools, and documentation generators. Finally, you’ll learn how
    to export, install, and package your solution for both internal and external use.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本书指导你如何组织源目录、构建目标以及创建包。在进阶过程中，你将学会如何编译和链接可执行文件和库，详细了解这些过程，并优化每个步骤以获得最佳结果。此外，你将学会如何将外部依赖项（如第三方库、测试框架、程序分析工具和文档生成工具）集成到项目中。最后，你将学习如何导出、安装和打包你的解决方案，以供内部和外部使用。
- en: After completing this book, you’ll be able to use CMake confidently on a professional
    level.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 完成本书后，你将能够在专业层面上自信地使用 CMake。
- en: Who this book is for
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书适合的读者
- en: 'After you’ve learned C++, you’ll quickly discover that proficiency with the
    language alone isn’t enough to prepare you for delivering projects at the highest
    standards. This book fills that gap: it is addressed to anyone aspiring to become
    a better software developer or even a professional build engineer!'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 当你学会了 C++ 后，你会很快发现，仅仅精通语言本身并不足以使你准备好交付最高标准的项目。本书弥补了这一空白：它面向任何希望成为更好的软件开发人员，甚至是专业构建工程师的人！
- en: Read it if you want to learn modern CMake from scratch or elevate and refresh
    your current CMake skills. It will help you understand how to make top-notch C++
    projects and transition from other build environments.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 阅读本书，如果你想从零开始学习现代 CMake，或提升和刷新你当前的 CMake 技能。它将帮助你理解如何制作一流的 C++ 项目，并从其他构建环境过渡过来。
- en: What this book covers
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书内容
- en: '*Chapter 1*, *First Steps with CMake*, covers the installation of CMake, the
    use of its command line interface, and introduces the fundamental building blocks
    necessary for a CMake project.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '*第1章*，*CMake 入门*，涵盖了 CMake 的安装、命令行界面的使用，并介绍了 CMake 项目所需的基本构建块。'
- en: '*Chapter 2*, *The CMake Language*, cover the essential concepts of the CMake
    language, including command invocations, arguments, variables, control structures,
    and comments.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '*第2章*，*CMake 语言*，涵盖了 CMake 语言的基本概念，包括命令调用、参数、变量、控制结构和注释。'
- en: '*Chapter 3*, *Using CMake in Popular IDEs*, emphasizes the importance of **Integrated
    Development Environments** (**IDEs**), guides you through selecting an IDE, and
    provides setup instructions for Clion, Visual Studio Code, and Visual Studio IDE.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '*第3章*，*在流行 IDE 中使用 CMake*，强调了**集成开发环境**（**IDE**）的重要性，指导你选择合适的 IDE，并提供 Clion、Visual
    Studio Code 和 Visual Studio IDE 的设置说明。'
- en: '*Chapter 4*, *Setting up Your First CMake Project*, will teach you how to configure
    a basic CMake project in its top-level file, structure the file tree, and prepare
    the toolchain necessary for development.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '*第4章*，*设置你的第一个 CMake 项目*，将教你如何在 CMake 项目的顶级文件中进行配置，结构化文件树，并为开发准备必要的工具链。'
- en: '*Chapter 5*, *Working with Targets*, explores the concept of logical build
    targets, understand their properties and different types, and learn how to define
    custom commands for CMake projects.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '*第5章*，*与目标一起工作*，探讨了逻辑构建目标的概念，理解它们的属性和不同类型，并学习如何为 CMake 项目定义自定义命令。'
- en: '*Chapter 6*, *Using Generator Expressions*, explains the purpose and syntax
    of generator expressions, including how to use them for conditional expansion,
    queries, and transformations.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '*第6章*，*使用生成器表达式*，解释了生成器表达式的目的和语法，包括如何用于条件扩展、查询和转换。'
- en: '*Chapter 7*, *Compiling C++ Sources with CMake*, delves into the compilation
    process, configure the preprocessor and optimizer, and discover techniques to
    reduce build time and improve debugging.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '*第7章*，*使用 CMake 编译 C++ 源代码*，深入探讨编译过程，配置预处理器和优化器，并发现减少构建时间和改善调试的技巧。'
- en: '*Chapter 8*, *Linking Executables and Libraries*, understands the linking mechanism,
    different types of libraries, the One Definition Rule, the order of linking, and
    how to prepare your project for testing.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '*第8章*，*链接可执行文件和库*，了解链接机制、不同类型的库、唯一定义规则、链接顺序，以及如何为测试准备项目。'
- en: '*Chapter 9*, *Managing Dependencies in CMake*, will teach you to manage third-party
    libraries, add CMake support for those that lack it, and fetch external dependencies
    from the internet.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '*第9章*，*在 CMake 中管理依赖关系*，将教你如何管理第三方库，如何为那些缺乏支持的库添加 CMake 支持，并从互联网获取外部依赖项。'
- en: '*Chapter 10*, *Using the C++20 Modules*, introduces C++20 modules, shows how
    to enable their support in CMake, and configure the toolchain accordingly.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '*第10章*，*使用 C++20 模块*，介绍了 C++20 模块，展示如何在 CMake 中启用其支持，并相应地配置工具链。'
- en: '*Chapter 11*, *Testing Frameworks*, will help you understand the importance
    of automated testing, leverage built-in testing support in CMake, and get started
    with unit testing using popular frameworks.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '*第11章*，*测试框架*，将帮助你理解自动化测试的重要性，利用 CMake 中内置的测试支持，并使用流行框架开始单元测试。'
- en: '*Chapter 12*, *Program Analysis Tools*, will show you how to automatically
    format source code and detect software errors during both build time and runtime.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '*第12章*，*程序分析工具*，将展示如何在构建时和运行时自动格式化源代码并检测软件错误。'
- en: '*Chapter 13*, *Generating Documentation*, presents how to use Doxygen for automating
    documentation creation from source code and add styling to enhance your documentation’s
    appearance.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '*第13章*，*生成文档*，介绍了如何使用 Doxygen 从源代码自动生成文档，并添加样式以增强文档的外观。'
- en: '*Chapter 14*, *Installing and Packaging*, prepares your project for release
    with and without installation, create reusable packages, and designate individual
    components for packaging.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '*第14章*，*安装和打包*，为你的项目准备发布，无论是否进行安装，创建可重用的包，并指定单个组件进行打包。'
- en: '*Chapter 15*, *Creating Your Professional Project*, applies all the knowledge
    acquired throughout the book to develop a comprehensive, professional-grade project.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '*第15章*，*创建你的专业项目*，将本书中获得的所有知识应用于开发一个全面的、专业级别的项目。'
- en: '*Chapter 16*, *Writing CMake Presets*, encapsulates high-level project configurations
    into workflows using CMake preset files, making project setup and management more
    efficient.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '*第16章*，*编写 CMake 预设*，将高级项目配置封装到使用 CMake 预设文件的工作流中，使项目设置和管理更高效。'
- en: '*Appendix* - *Miscellaneous Commands*, serves as a reference for various CMake
    commands related to strings, lists, files, and mathematical operations.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '*附录* - *杂项命令*，作为参考，提供与字符串、列表、文件和数学运算相关的各种 CMake 命令。'
- en: To get the most out of this book
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了充分利用本书的内容
- en: Basic familiarity with C++ and Unix-like systems is assumed throughout the book.
    Although Unix knowledge isn’t a strict requirement, it will prove helpful in fully
    understanding the examples given in this book.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 本书假设读者对 C++ 和类 Unix 系统有基本的了解。尽管 Unix 知识不是严格要求，但它会对充分理解本书中的示例有所帮助。
- en: This book targets CMake 3.26, but most of the techniques described should work
    from CMake 3.15 (features that were added after are usually highlighted). Some
    chapters have been updated to CMake 3.28 to cover the latest features.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 本书针对 CMake 3.26，但大多数技术应该在 CMake 3.15 版本及以上都能使用（新增加的功能通常会突出显示）。一些章节已更新至 CMake
    3.28，以涵盖最新的功能。
- en: Preparation of the environment to run examples is covered in *Chapters 1-3*,
    but we specifically recommend using the Docker image provided with this book if
    you’re familiar with this tool.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 示例运行环境的准备在*第1-3章*中涵盖，但我们特别建议，如果你熟悉 Docker 工具，可以使用本书提供的 Docker 镜像。
- en: Download the example code files
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: The code bundle for the book is hosted on GitHub at [https://github.com/PacktPublishing/Modern-CMake-for-Cpp-2E](https://github.com/PacktPublishing/Modern-CMake-for-Cpp-2E).
    We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的代码包托管在GitHub上，地址为[https://github.com/PacktPublishing/Modern-CMake-for-Cpp-2E](https://github.com/PacktPublishing/Modern-CMake-for-Cpp-2E)。我们还提供了其他来自我们丰富书籍和视频目录的代码包，您可以在[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)查看。快来看看吧！
- en: Download the color images
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载彩色图像
- en: 'We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [https://packt.link/gbp/9781805121800](https://packt.link/gbp/9781805121800).'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一个PDF文件，其中包含本书中使用的截图/图表的彩色图像。您可以在此下载：[https://packt.link/gbp/9781805121800](https://packt.link/gbp/9781805121800)。
- en: Conventions used
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中使用了多种文本约定。
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles.
    For example: “Mount the downloaded `WebStorm-10*.dmg` disk image file as another
    disk in your system.”'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '`CodeInText`：表示文本中的代码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter账户。例如：“将下载的`WebStorm-10*.dmg`磁盘镜像文件挂载为系统中的另一个磁盘。”'
- en: 'A block of code is set as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望特别提醒您关注代码块中的某部分时，相关的行或项目将设置为粗体：
- en: '[PRE1]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出以以下方式编写：
- en: '[PRE2]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see on
    the screen. For example: “Select **System info** from the **Administration** panel.”'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示新术语、重要单词或屏幕上显示的单词。例如：“从**管理**面板中选择**系统信息**。”'
- en: Warnings or important notes appear like this.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要注释以如下方式显示。
- en: Tips and tricks appear like this.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧以如下方式显示。
- en: Get in touch
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。
- en: '**General feedback**: Email `feedback@packtpub.com`, and mention the book’s
    title in the subject of your message. If you have questions about any aspect of
    this book, please email us at `questions@packtpub.com`.'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：请发送电子邮件至`feedback@packtpub.com`，并在邮件主题中注明书名。如果您有关于本书的任何问题，请通过`questions@packtpub.com`与我们联系。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book we would
    be grateful if you would report this to us. Please visit, [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the Errata Submission Form link, and entering
    the details.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误表**：虽然我们已尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在本书中发现任何错误，我们将非常感激您能向我们报告。请访问，[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击“勘误提交表单”链接，并输入详细信息。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the Internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at `copyright@packtpub.com` with a
    link to the material.'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**：如果你在互联网上发现任何我们作品的非法复制品，任何形式的，我们将非常感激您能提供该位置地址或网站名称。请通过电子邮件`copyright@packtpub.com`与我们联系，并附上相关材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [http://authors.packtpub.com](http://authors.packtpub.com).'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您有兴趣成为作者**：如果您在某个领域具有专业知识，并且有兴趣写作或为书籍贡献内容，请访问[http://authors.packtpub.com](http://authors.packtpub.com)。'
- en: Share your thoughts
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分享您的想法
- en: Once you’ve read *Modern CMake for C++*, *Secon Edition*,we’d love to hear your
    thoughts! Please [click here to go straight to the Amazon review page](https://www.packtpub.com/)
    for this book and share your feedback.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您阅读了*现代CMake for C++*，*第二版*，我们很想听听您的想法！请[点击这里直接访问亚马逊的书评页面](https://www.packtpub.com/)并分享您的反馈。
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 您的评论对我们和技术社区非常重要，帮助我们确保提供高质量的内容。
- en: Download a free PDF copy of this book
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载本书的免费PDF副本
- en: Thanks for purchasing this book!
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 感谢您购买本书！
- en: Do you like to read on the go but are unable to carry your print books everywhere?
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 你喜欢随时随地阅读，但又不能把印刷版书籍带在身边吗？
- en: Is your eBook purchase not compatible with the device of your choice?
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 你的电子书购买是否无法在你选择的设备上使用？
- en: Don’t worry, now with every Packt book you get a DRM-free PDF version of that
    book at no cost.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 不用担心，现在购买每本 Packt 图书，你都可以免费获得该图书的 DRM-free PDF 版本。
- en: Read anywhere, any place, on any device. Search, copy, and paste code from your
    favorite technical books directly into your application.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何地方、任何设备上阅读。直接从你最喜欢的技术书籍中搜索、复制并粘贴代码到你的应用程序中。
- en: The perks don’t stop there, you can get exclusive access to discounts, newsletters,
    and great free content in your inbox daily.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 优惠不止这些，你还可以获得独家折扣、新闻通讯以及每日发送到邮箱的精彩免费内容。
- en: 'Follow these simple steps to get the benefits:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下简单步骤获取这些福利：
- en: 'Scan the QR code or visit the link below:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扫描二维码或访问下面的链接：
- en: '![](img/B19844_Free_PDF_QR.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B19844_Free_PDF_QR.png)'
- en: https://packt.link/free-ebook/9781805121800
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: https://packt.link/free-ebook/9781805121800
- en: Submit your proof of purchase.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提交你的购买凭证。
- en: That’s it! We’ll send your free PDF and other benefits to your email directly.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 就这样！我们会将你的免费 PDF 和其他福利直接发送到你的电子邮件。
