# 前言

通过本书，我们旨在为您提供对 Linux/Unix 系统编程的理解，对 Linux 系统调用的参考手册，以及使用 C++编写更智能、更快速代码的内幕指南。本书将解释 POSIX 标准函数与现代 C++提供的特殊服务之间的区别。

本书还将教读者有关基本 I/O 操作，如从文件中读取和写入，高级 I/O 接口，内存映射，优化技术，线程概念，多线程编程，POSIX 线程，分配内存和优化内存访问的接口，基本和高级信号接口以及它们在系统中的作用。本书还将解释时钟管理，包括 POSIX 时钟和高分辨率定时器。最后，本书使用现代示例和参考资料，为 C++和更广泛的社区提供最新的相关性，包括指导支持库及其在系统编程中的作用。

# 这本书适合谁

这本书适用于初学者到高级 Linux 和一般 UNIX 程序员，他们使用 C++，或者任何寻求 Linux、C++17 和/或使用 POSIX、C 和 C++进行系统编程的人。尽管本书涵盖了许多关于现代 C++的主题，但它的重点是系统编程。预期读者已经对 C 和 C++有一般的了解，因为本书将在整个过程中利用它们。

# 这本书涵盖了什么

第一章《开始系统编程》为本书奠定了基础，通过提供一些基本示例并解释使用 C++进行系统编程的好处来定义系统编程是什么。

第二章《学习 C、C++17 和 POSIX 标准》回顾了 C、C++和 POSIX 标准，提供了每个标准提供的设施的概述，以及对本书中将讨论的主题的一般概述。

第三章《C 和 C++的系统类型》提供了 C 和 C++提供的系统类型的全面概述，以及在进行系统编程时如何使用它们。本章还将讨论许多与本机类型相关的缺陷以及如何克服它们。

第四章《C++，RAII 和 GSL 复习》提供了 C++17 提供的增强功能的概述。本章还将讨论**资源获取即初始化**（**RAII**）的好处，以及在进行系统编程时如何利用它。本章将以对指导支持库的概述结束，该库在本书中用于帮助维护 C++核心指导方针的合规性。

第五章《Linux/Unix 系统编程》提供了对基于 Linux/UNIX 系统的编程的全面概述，包括 System V 规范的概述，编程 Linux 进程和基于 Linux 的信号。

第六章《学习编程控制台输入/输出》提供了如何利用 C++来进行控制台输入和输出的完整概述，包括`std::cout`和`std::cin`。还将讨论更高级的主题，如如何处理自定义类型。

第七章《内存管理的全面视角》提供了对 C 和 C++提供的内存管理设施的完整审查。在本章中，我们将回顾 C 的不足之处，以及现代 C++如何克服其中许多不足之处。

第八章，*学习使用文件输入/输出*，回顾了如何使用 C++17 读取和写入文件，并将这些功能与 C 提供的功能进行比较。此外，我们还将深入研究 C++17 提供的用于处理磁盘上的文件和目录的`std::filesystem`附加功能。

第九章，*分配器的实践方法*，介绍了 C++分配器以及如何利用它们进行系统编程。与大多数其他描述 C++分配器的尝试不同，我们将指导您如何创建多个真实世界的有状态分配器示例，包括内存池分配器，并演示其潜在的性能优势。

第十章，*使用 C++编程 POSIX 套接字*，概述了如何使用 C++编程 POSIX 套接字（即网络编程）并提供了一系列示例。在本章中，我们还将讨论与 POSIX 套接字相关的一些问题以及如何克服这些问题。

第十一章，*Unix 中的时间接口*，全面介绍了 C 和 C++提供的时间接口，以及如何在系统编程中一起使用它们来处理时间，包括如何使用接口进行基准测试。

第十二章，*学习使用 POSIX 和 C++线程*，讨论了 POSIX 和 C++提供的线程编程和同步功能，以及它们之间的关系。我们还将提供一系列示例，演示如何利用这些功能。

第十三章，*异常处理*，涵盖了 C 和 C++的错误处理，包括 C 和 C++的异常。在本章中，我们还将演示一系列示例，展示利用 C++异常而不是传统的 C 错误处理的好处。

# 为了充分利用本书

读者应该对 C 和 C++有一般的了解，并且能够在 Linux 上编写、编译和执行 C 和 C++应用程序。为了执行本书中的示例，读者还应该能够访问一台运行 Ubuntu Linux 17.10 或更高版本的基于英特尔的计算机。读者还应该确保使用以下方法安装了 GCC 7.0 或更高版本：

```cpp
sudo apt-get install build-essential
```

# 下载示例代码文件

您可以从[www.packtpub.com](http://www.packtpub.com)的帐户中下载本书的示例代码文件。如果您在其他地方购买了本书，可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便直接通过电子邮件接收文件。

您可以按照以下步骤下载代码文件：

1.  登录或注册[www.packtpub.com](http://www.packtpub.com/support)。

1.  选择“支持”选项卡。

1.  点击“代码下载和勘误”。

1.  在搜索框中输入书名，然后按照屏幕上的说明操作。

下载文件后，请确保使用以下最新版本的解压缩或提取文件夹：

+   Windows 上的 WinRAR/7-Zip

+   Mac 上的 Zipeg/iZip/UnRarX

+   Linux 上的 7-Zip/PeaZip

该书的代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Hands-On-System-Programming-with-CPP/`](https://github.com/PacktPublishing/Hands-On-System-Programming-with-CPP/)。如果代码有更新，将在现有的 GitHub 存储库上进行更新。

我们还有其他代码包，来自我们丰富的图书和视频目录，可在**[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)**上找到。去看看吧！

# 使用的约定

本书中使用了许多文本约定。

`CodeInText`：表示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄。这是一个例子：“例如，看看使用`std::array{}`还是`std::vector{}`命令的区别。”

代码块设置如下：

```cpp
int array[10];

auto r1 = array + 1;
auto r2 = *(array + 1);
auto r3 = array[1];
```

当我们希望引起您对代码块的特定部分的注意时，相关的行或项目会以粗体显示：

```cpp
int main()
{
    auto ptr1 = mmap_unique_server<int>(42);
    auto ptr2 = mmap_unique_client<int>();
    std::cout << *ptr1 << '\n';
    std::cout << *ptr2 << '\n';
}
```

任何命令行输入或输出都以以下方式编写：

```cpp
> cmake -DCMAKE_BUILD_TYPE=Release ..
> make
```

**粗体**：表示新术语，重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词会以这种方式出现在文本中。这是一个例子：“从管理面板中选择系统信息。”

警告或重要说明会以这种方式出现。

技巧和窍门会以这种方式出现。
