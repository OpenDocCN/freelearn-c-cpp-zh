# 前言

C++不会增加任何膨胀，扩展可维护性，并且相对于其他编程语言具有许多优势，因此它是嵌入式开发的不错选择。您想要构建独立的或联网的嵌入式系统，并使其具有安全性和内存安全性吗？在本书中，您将学会如何做到这一点。您将学习 C++的工作原理，并与其他用于嵌入式开发的语言进行比较，以及如何为嵌入式设备创建高级 GUI，以设计具有吸引力和功能性的 UI，并将成熟的策略集成到您的设计中，以实现最佳的硬件性能。

本书将带您了解各种嵌入式系统硬件板，以便您为项目选择最佳的硬件。您将学习如何通过充分采用本书中提出的成熟编程模式来解决复杂的架构问题。

# 本书适合对象

如果您想要开始在 C++中开发有效的嵌入式程序，那么这本书适合您。需要对 C++语言构造有良好的了解，以理解本书涵盖的主题。不假设对嵌入式系统有任何了解。

# 本书涵盖的内容

第一章《嵌入式系统是什么？》使您熟悉嵌入式系统的含义。通过查看各种类别和每个类别中的嵌入式系统的示例，应该形成对术语“嵌入式”的含义以及该术语内的广泛多样性的良好概述。它探讨了历史上和当前可用的各种微控制器和系统级芯片解决方案，您可以在现有系统以及新设计中找到。

第二章《C++作为嵌入式语言》解释了为什么 C++实际上与 C 和类似语言一样灵活。C++不仅通常至少与 C 一样快，而且没有额外的膨胀，并且在代码范例和可维护性方面提供了许多优势。

第三章《为嵌入式 Linux 和类似系统开发》解释了如何为基于 Linux 的嵌入式系统开发，并在 SBC 上进行管理，并处理基于 Linux 和基于 PC 的开发之间的差异。

第四章《资源受限嵌入式系统》涉及规划和有效利用有限资源。我们将看看如何为新项目选择合适的 MCU，并在项目中添加外围设备以及处理以太网和串行接口需求。我们还将看一个 AVR 项目的例子，如何为其他 MCU 架构开发，以及是否使用 RTOS。

第五章《示例-带 Wi-Fi 的土壤湿度监测器》解释了如何创建一个带有泵或类似装置的 Wi-Fi 启用的土壤湿度监测器。使用内置的 Web 服务器，您可以使用其基于浏览器的 UI 进行监控和控制，或者使用其 REST API 将其集成到更大的系统中。

第六章《测试基于操作系统的应用程序》介绍了如何开发和测试基于嵌入式操作系统的应用程序。您将学习如何安装和使用交叉编译工具链，使用 GDB 进行远程调试，并编写构建系统。

第七章《测试资源受限平台》展示了如何有效地为基于 MCU 的目标开发。您还将看到如何实现一个集成环境，使我们能够从桌面操作系统和提供的工具舒适地调试基于 MCU 的应用程序。

第八章《示例-基于 Linux 的信息娱乐系统》解释了如何相对容易地构建基于 SBC 的信息娱乐系统，使用语音转文本来构建语音驱动的用户界面。我们还将看看如何扩展它以添加更多功能。

第九章，*示例-建筑监控与控制*，展示了如何开发建筑全面的监控和管理系统，系统的组成以及在开发过程中学到的经验。

第十章，*使用 Qt 开发嵌入式系统*，探讨了 Qt 框架在开发嵌入式系统时的多种用法。我们将比较它与其他框架的优劣，并了解 Qt 如何针对这些嵌入式平台进行优化，然后通过一个基于 QML 的 GUI 示例来完善先前创建的信息娱乐系统。

第十一章，*开发混合 SoC/FPGA 系统*，教会您如何与混合 FPGA/SoC 系统的 FPGA 部分进行通信，并帮助您了解 FPGA 中实现各种算法并在 SoC 端使用的方法。您还将学习如何在混合 FPGA/SoC 系统上实现基本示波器。

附录，*最佳实践*，介绍了在嵌入式软件设计中可能遇到的一些常见问题和陷阱。

# 为了充分利用本书

需要具备对树莓派的工作知识。您将需要 C++编译器、GCC ARM Linux（交叉）工具链、AVR 工具链、Sming 框架、Valgrind、Qt 框架和 Lattice Diamond IDE。

# 下载示例代码文件

您可以从[www.packtpub.com](http://www.packtpub.com)的帐户中下载本书的示例代码文件。如果您在其他地方购买了本书，可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册，文件将直接发送到您的邮箱。

您可以按照以下步骤下载代码文件：

1.  登录或注册[www.packtpub.com](http://www.packtpub.com/support)。

1.  选择“支持”选项卡。

1.  单击“代码下载和勘误”。

1.  在搜索框中输入书名，并按照屏幕上的说明进行操作。

下载文件后，请确保使用最新版本的解压软件解压文件夹：

+   Windows 系统使用 WinRAR/7-Zip

+   Mac 系统使用 Zipeg/iZip/UnRarX。

+   Linux 系统使用 7-Zip/PeaZip

该书的代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Hands-On-Embedded-Programming-with-CPP-17`](https://github.com/PacktPublishing/Hands-On-Embedded-Programming-with-CPP-17)。如果代码有更新，将在现有的 GitHub 存储库上进行更新。

我们还提供来自丰富图书和视频目录的其他代码包，网址为**[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)**。请查看！

# 使用的约定

本书中使用了许多文本约定。

`CodeInText`：表示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名。例如："C++类本身是以 C 语言实现的，包含了类变量的`struct`。"

代码块设置如下：

```cpp
class B : public A { 
   // Private members. 

public: 
   // Additional public members. 
}; 
```

当我们希望引起您对代码块的特定部分的注意时，相关行或项目将以粗体显示：

```cpp
class B : public A { 
   // Private members. 

public: 
   // Additional public members. 
}; 
```

任何命令行输入或输出都以以下形式书写：

```cpp
sudo usermod -a -G gpio user
sudo usermod -a -G i2c user
```

**粗体**：表示新术语、重要词汇或屏幕上看到的词语。例如，菜单或对话框中的词语会以这种形式出现在文本中。例如："与 MCU 相比，SoC 的资源限制没有那么严格，通常运行完整的**操作系统**（**OS**），如 Linux 衍生的 OS、VxWorks 或 QNX。"

警告或重要提示以这种形式出现。

技巧和窍门以这种形式出现。
