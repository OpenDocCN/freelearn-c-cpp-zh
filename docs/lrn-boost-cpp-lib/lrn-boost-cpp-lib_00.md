# 前言

Boost 不仅仅是一组有用的、可移植的、通用的 C++库。它还是一个重要的孵化器，其中的想法和概念会成为 ISO C++标准本身的一部分。如果您参与编写 C++软件的开发，学习使用 Boost 库将使您免于重复发明轮子，提高软件质量，并很可能提高您的生产力。

十年前，我第一次接触到 Boost 库，当时我正在寻找一个可移植的 C++正则表达式库。在接下来的几天里，将 Perl 和 Korn Shell 文本处理代码移植到 C++变得轻而易举，我立刻喜欢上了 Boost。自那时以来，我使用了更多的 Boost 库来编写软件，我经常发现自己深入研究文档，或者在邮件列表和在线论坛上提问，以了解库的语义和细微差别。尽管这样很有效，但我总是非常想念一本书，可以让我快速掌握最有用的 Boost 库，并帮助我更快地提高生产力。*这就是那本书*。

Boost 拥有各种库，用于解决各种编程任务。本书是对 Boost 中最有用的一些库的教程介绍，以有效解决编程问题。所选的库代表了软件开发中横跨各种关注点的广度，包括数据结构和算法、文本处理、内存管理、异常安全、日期和时间计算、文件和目录管理、并发以及文件和网络 I/O 等。您将通过了解它帮助解决的问题类型、学习与之相关的基本概念以及查看一系列代码示例来了解库的使用方式。本书中介绍的库在后续示例中可以自由使用，让您了解在实践中 Boost 库之间经常发生的协同作用。

作为一组经过同行评审的开源库，Boost 深受社区专业知识的影响。我坚信本书将为您在使用 Boost 库方面提供坚实的实用基础。这种基础将反映在您编写的软件质量上，并使您有能力与 Boost 社区互动并为其做出有价值的贡献。

# 本书涵盖内容

第一章 *介绍 Boost*，讨论了如何设置开发环境以使用 Boost 库。我们涵盖了获取 Boost 库二进制包的不同方式，为不同配置构建它们的方法，以及在开发环境中使用它们的方法。

第二章 *与 Boost 实用工具的初次接触*，探讨了一些常见编程任务的一些 Boost 库，包括处理变体数据类型、处理命令行参数以及检测开发环境的配置参数。

第三章 *内存管理和异常安全*，解释了异常安全的含义，并展示了如何使用 Boost 和 C++11 提供的不同智能指针类型编写异常安全的代码。

第四章 *处理字符串*，探讨了 Boost 字符串算法库用于执行字符字符串的各种计算、Boost 范围库用于优雅地定义子序列、Boost 分词器库用于使用不同策略将字符串拆分为标记，以及 Boost 正则表达式库用于在文本中搜索复杂模式。

第五章，“STL 之外的有效数据结构”，涉及 Boost Container 库，重点关注 C++标准库中不可用的容器。我们看到了 Pointer Container 库用于存储动态分配对象的实际应用，并使用 Boost Iterator 库从底层容器生成各种值序列。

第六章，“Bimap 和多索引容器”，介绍了来自 Boost 的双向映射和多索引容器两个巧妙的容器模板。

第七章，“高阶和编译时编程”，深入使用 Boost 类型特征和模板元编程库进行编译时编程。我们首次研究了领域特定嵌入式语言，并使用 Boost Phoenix 构建基本表达式模板。我们使用 Boost Spirit 构建简单的解析器，使用 Spirit Qi DSEL。

第八章，“日期和时间库”，介绍了 Boost Date Time 和 Boost Chrono 库，用于表示日期、时间点、间隔和周期。

第九章，“文件、目录和 IOStreams”，介绍了使用 Boost Filesystem 库操作文件系统条目，以及使用 Boost IOStreams 库执行具有丰富语义的类型安全 I/O。

第十章，“使用 Boost 进行并发”，使用 Boost Thread 库和 Boost Coroutine 库编写并发逻辑，并展示了各种同步技术的实际应用。

第十一章，“使用 Boost Asio 进行网络编程”，展示了使用 Asio 库编写可扩展的 TCP 和 UDP 服务器和客户端的技术。

附录 A，“C++11 语言特性模拟”，总结了 C++11 移动语义和 Boost 在 C++03 中模拟了几个 C++11 特性。

# 本书需要什么

您需要一台能够运行支持 Boost 支持的 C++编译器工具链的操作系统的计算机。您可以在[`www.boost.org/doc/libs/release/libs/log/doc/html/log/installation.html`](http://www.boost.org/doc/libs/release/libs/log/doc/html/log/installation.html)找到更多详细信息。

要编译和运行本书中的代码，您需要安装 Boost 库的 1.56 版本或更高版本。有关更多详细信息，请参阅第一章，“介绍 Boost”。

本书中许多代码示例需要 C++11 支持，因此，您应选择具有良好 C++11 支持的编译器版本。您可以在[`en.cppreference.com/w/cpp/compiler_support`](http://en.cppreference.com/w/cpp/compiler_support)找到更多详细信息。

可下载的源代码提供了一个 CMake 项目，以帮助您使用您喜欢的构建系统（gmake 或 Microsoft Visual Studio）快速构建所有示例。为了使用这个项目，您需要安装 CMake 2.8 或更高版本。有关更多详细信息，请参阅第一章，“介绍 Boost”。

本书尽量不重复在线参考手册中的内容。您应该结合本书和 Boost 库的在线参考手册，大量地发现额外的属性、函数和技术。您可以在[`www.boost.org/doc/libs/`](http://www.boost.org/doc/libs/)找到文档。

最后，本书中的代码清单有时为了简洁和重点而被删节。本书附带的代码示例是这些清单的完整版本，您在尝试构建示例时应使用它们。

# 本书适合谁

本书适用于每个对学习 Boost 感兴趣的 C++程序员。特别是，如果您以前从未使用过 Boost 库，*学习 Boost C++库*将帮助您快速了解、构建、部署和使用 Boost 库。如果您熟悉 Boost 库，但希望有一个跳板来深入了解并将您的专业知识提升到下一个水平，本书将为您全面介绍最有用的 Boost 库以及在实际代码中使用它们的方法。

Boost 是一组 C++库，自然，C++是本书中唯一使用的语言。您需要对 C++有很好的工作知识。特别是，您应该能够阅读使用 C++模板的代码，了解 C++编译模型，并能够在 Linux、Windows 或 Mac OS 上使用 C++开发环境。

本书通常不涵盖一般的 C++概念，但在一些章节的末尾列出的一些有用的 C++书籍和文章应该作为优秀的参考资料。

# 约定

在本书中，您会发现一些文本样式，用于区分不同类型的信息。以下是一些样式的示例及其含义的解释。

*文本中的*代码词和 C++语言关键字显示如下：“我们将`async_receive`返回的字节数传递给处理程序。”

文本中的文件夹名称、文件名、文件扩展名、路径名、包含文件名显示如下：“头文件`boost/asio.hpp`包含了使用 Asio 库所需的大部分类型和函数”。

代码块设置如下：

```cpp
46 int main() {
47   asio::io_service service;
48   UDPAsyncServer server(service, 55000);
49
50   boost::thread_group pool;
51   pool.create_thread([&service] { service.run(); });
52   pool.create_thread([&service] { service.run(); });
53   pool.join_all();
54 }
```

除了较小的代码片段外，每行代码都标有编号，以便在文本中进行引用。代码块中的重要代码行如上所示突出显示，并在文本中使用括号中的行号进行引用（第 51-52 行）。

任何命令行输入都写成如下形式：

```cpp
$ g++ -g listing1.cpp -o listing1 -lboost_system -lboost_coroutine -lboost_date_time -std=c++11

```

重要的新**编程术语**以粗体显示。*概念术语*以斜体显示。

### 注意

关于一个主题的重要额外细节会以这种方式出现，就像边栏中那样。

### 提示

重要的注释、提示和技巧会以这种方式出现。
