# 前言

几年前，我的一个朋友在寻找关于 Boost 库的书。我问她：“你为什么不看看文档呢？”她的回答是：“我对这些了解不多，也不知道从哪里开始。Boost 太庞大了；我没有时间去读所有关于它的内容。”

好吧，这是一个不错的提示，但这样的书只会对初学者感兴趣。除非我加入一些 C++11 的内容，并将现有的 Boost 库与新的 C++标准进行比较，专业人士在这本书中找不到什么有趣的内容。

我还可以添加一些在 Boost 邮件列表中常见但难以找到或未在文档中涵盖的问题的答案。再加上性能说明，我们就能得到一本几乎对每个人都有趣的书。

本书将带你通过一系列清晰、实用的食谱，帮助你利用一些现成的解决方案。

*Boost C++应用程序开发食谱集*从教授 Boost 库的基础知识开始，这些知识现在大多已成为 C++11 的一部分，并且不会出现内存泄漏。资源管理将变得轻而易举。我们将看到编译时可以完成哪些工作，以及 Boost 容器能做什么。你认为多线程是一个负担吗？用 Boost 就不是了。你认为编写可移植且快速的服务器是不可能的吗？你会大吃一惊！编译器和操作系统差异太大吗？用 Boost 就不是了。从处理图像到图、目录、计时器、文件和字符串——每个人都会找到一个有趣的主题。

你将学习开发高质量、快速和可移植应用程序所需的一切。编写一次程序，你就可以在 Linux、Windows、Mac OS 和 Android 操作系统上使用它。

# 本书涵盖的内容

第一章，*开始编写应用程序*，涵盖了日常使用的一些食谱。我们将看到如何从不同的来源获取配置选项，以及可以使用 Boost 库作者引入的一些数据类型制作什么。

第二章，*数据转换*，解释了如何将字符串、数字和用户定义的类型相互转换，如何安全地转换多态类型，以及如何在 C++源文件中编写小型和大型解析器。

第三章，*资源管理*，提供了轻松管理资源的指导，以及如何使用一种能够存储任何功能对象、函数和 lambda 表达式的数据类型。阅读本章后，你的代码将变得更加可靠，内存泄漏将成为历史。

第四章，*编译时技巧*，通过一些基本示例指导你了解如何使用 Boost 库进行编译时检查、调整算法以及其他元编程任务。

第五章，*多线程*，讨论了线程及其相关内容。

第六章，*操作任务*，解释了我们可以将所有处理、计算和交互分解为函数（任务），并几乎独立地处理每个任务。此外，我们不需要在诸如从套接字接收数据或等待超时等慢速操作上阻塞，而是提供回调任务并继续处理其他任务。

第七章，*操作字符串*，涵盖了更改、搜索和表示字符串的不同方面。我们将看到如何使用 Boost 库轻松完成一些常见的字符串相关任务。

第八章，*元编程*，致力于一些酷且难以理解元编程方法。这些方法并不适用于日常使用，但它们对于开发通用库将非常有帮助。

第九章，*容器*，涵盖了 Boost 容器和与之直接相关的一切。本章提供了有关可以在日常编程中使用并使您的代码运行得更快、开发新应用程序更简单的 Boost 类的信息。

第十章，*收集平台和编译器信息*，提供了用于检测编译器、平台和 Boost 功能的不同辅助宏。这些宏在 Boost 库中被广泛使用，对于编写能够与任何编译器标志一起工作的可移植代码至关重要。

第十一章，*与系统协同工作*，更深入地探讨了文件系统以及创建和删除文件。我们将看到数据如何在不同的系统进程之间传递，如何以最大速度读取文件，以及如何进行其他技巧。

第十二章，*探索冰山一角*，致力于一些大型库，提供了开始的基础知识。一些 Boost 库很小，适用于日常使用，而其他库则需要单独的书籍来描述它们的所有功能。

# 本书所需内容

要运行本书中的示例，需要以下软件：

+   **C++ 编译器**：任何现代、流行的 C++ 编译器都适用。

+   **集成开发环境（IDE）**：推荐使用 QtCreator 作为 IDE。

+   **Boost**：您应该有一个完整的 Boost 1.53 构建。

+   **杂项工具**：Graphviz（任何版本）和 libpng（最新版本）

注意，如果你使用的是 Linux 系统，除了 Boost 以外，所有必需的软件都可以在软件仓库中找到。

# 本书面向对象

这本书非常适合新接触 Boost 的开发者，他们希望提高对 Boost 的了解，并查看一些未记录的细节或技巧。假设您已经具备一些 C++经验，并且熟悉 STL 的基础知识。几章内容将需要一些关于多线程和网络的前期知识。您至少需要有一个好的 C++编译器和 Boost（推荐 1.53.0 或更高版本）的编译版本，这些将在本书的练习中使用。

# 规范

在这本书中，您将找到多种文本样式，用于区分不同类型的信息。以下是一些这些样式的示例，以及它们的意义解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名将如下所示：“这意味着您可以使用`catch (const std::exception& e)`捕获几乎所有的 Boost 异常。”

代码块设置如下：

```cpp
#include <boost/variant.hpp>
#include <iostream>
#include <vector>
#include <string>

int main()
{
    typedef boost::variant<int, const char*, std::string> my_var_t;
    std::vector<my_var_t> some_values;
    some_values.push_back(10);
    some_values.push_back("Hello there!");
    some_values.push_back(std::string("Wow!"));
    std::string& s = boost::get<std::string>(some_values.back());
    s += " That is great!\n";
    std::cout << s;
    return 0;
}
```

**新术语**和**重要词汇**将以粗体显示。

### 注意

警告或重要注意事项将以如下框中的形式出现。

### 小贴士

小技巧和技巧将以如下形式出现。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大收益的标题非常重要。

要发送一般性反馈，请简单地将电子邮件发送到`<feedback@packtpub.com>`，并在邮件主题中提及书名。

如果您在某个主题领域有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

既然您已经自豪地拥有了一本 Packt 图书，我们有许多事情可以帮助您充分利用您的购买。

## 下载示例代码

您可以从您在[`www.packtpub.com`](http://www.packtpub.com)的账户下载您购买的所有 Packt 图书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 错误清单

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问 [`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的现有勘误列表中，在“勘误”部分下。您可以通过选择您的标题从 [`www.packtpub.com/support`](http://www.packtpub.com/support) 查看任何现有勘误。

## 盗版

在互联网上，版权材料的盗版问题是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过 `<copyright@packtpub.com>` 联系我们，并提供涉嫌盗版材料的链接。

我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决。
