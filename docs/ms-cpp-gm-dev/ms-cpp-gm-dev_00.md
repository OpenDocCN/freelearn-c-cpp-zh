# 前言

尽管现在许多语言被用于开发游戏，但 C++仍然是专业开发的标准。绝大多数库、引擎和工具链仍然严格使用 C++开发。以其性能和可靠性而闻名，C++仍然是真正跨平台兼容性的最佳选择。

通过阅读本书，您正在开始掌握这种强大语言的旅程。尽管这个旅程会很漫长，但它将充满发现！即使在我花费了无数小时与 C++一起工作之后，我仍然发现自己在发现新技术和方法时充满了喜悦。在本书中，我希望给您提供工具和理解，为您继续学习之旅做好准备。尽管新的、时髦的工具和引擎可能会出现并有可能消失，但对游戏、它们的工具和引擎在低级别上是如何开发的有着深刻的理解，将为您提供宝贵的知识。

# 本书适用对象

本书适用于中级到高级的 C++游戏开发人员，他们希望将自己的技能提升到更高水平，并学习 3D 游戏开发的深层概念。读者将学习 AAA 级游戏开发中使用的关键概念。全书将涵盖高级主题，如库创建、人工智能、着色器技术、高级效果和照明、工具创建、物理、网络以及其他关键游戏系统。

# 本书涵盖内容

第一章《C++游戏开发》涵盖了现代游戏开发中使用的一些更高级的 C++主题。我们将研究继承和多态性、指针、引用以及常见的 STL 通用容器。模板化的概念以及使用类、函数和变量模板构建通用代码。类型推断和新语言关键字 auto 和 decltype 以及它们与新的返回值语法的组合使用。最后，我们将通过研究当今使用的一些核心游戏模式来结束本章。

第二章《理解库》将教授可共享库的高级主题。我们将研究不同类型的可共享库，并介绍创建自己可共享库的各种方法。

第三章《打下坚实基础》将研究使用面向对象编程和多态性创建可重用结构的不同方法。我们将通过真实代码示例，讨论辅助、管理和接口类之间的区别。

第四章《构建资产管道》将涵盖开发中非常重要的部分，即处理资产的过程。我们将研究导入、处理和管理声音、图像和 3D 对象等内容的过程。有了这个基础系统，我们可以继续完善游戏开发所需的其他系统。

第五章《构建游戏系统》将涵盖大量内容，并在开发专业级项目所需的核心游戏系统方面取得重大进展。到本章结束时，我们将拥有自己的自定义游戏状态系统，可以被游戏引擎中的许多其他组件采用。我们将在构建对摄像机的理解的同时，开发自己的自定义摄像机系统，最后，我们将看看如何通过将 Bullet 物理引擎添加到我们的示例引擎中，将完整的第三方游戏系统添加到我们的项目中。

第六章，*创建图形用户界面*，将讨论创建 GUI 所需的不同方面。我们将深入探讨其实现，深入了解工作 GUI 背后的核心架构。我们将开发一个包含控制定位的面板和元素架构。我们将使用观察者设计模式实现用户输入结构，并通过编码渲染管道来完成在屏幕上显示 GUI 元素所需的内容。

第七章，*高级渲染*，将介绍与着色器一起工作的基础知识。我们将学习如何构建编译器和链接抽象层，以节省时间。我们将了解光照技术理论以及如何在着色器语言中实现它们。最后，我们将通过查看着色器的其他用途，如创建粒子效果，来结束本章。

第八章，*高级游戏系统*，将深入探讨如何在游戏项目中包含 Lua 等脚本语言。然后，我们将在此基础上探讨如何将对话和任务系统实现到我们的示例引擎中。

第九章，*人工智能*，将在短时间内涵盖广泛的研究领域。我们将发展游戏人工智能的基本定义，以及它实际上是什么，以及它不是什么。我们还将探讨如何通过包括人工智能技术来扩展决策功能。我们将介绍如何通过使用转向力和行为来控制人工智能代理的移动。最后，我们将通过查看路径规划算法的使用来为我们的人工智能代理创建从一个点到另一个点的路径来结束本章。

第十章，*多人游戏*，将大步迈向理解如何在低级别实现多人游戏。您将了解 TCP/IP 协议栈以及游戏开发中使用的不同网络拓扑。我们将研究使用 UDP 和 TCP 协议来在客户端-服务器设置中传递数据。最后，我们将看一些开发人员在开始实现多人游戏功能时面临的问题。

第十一章，*虚拟现实*，将是对虚拟现实开发世界的快速介绍；它应该为您的体验想法提供一个很好的测试基础。您将学习如何处理多个视图锥和各种硬件选项，最后看看我们如何使用 OpenVR SDK 为我们的示例引擎添加虚拟现实支持。

# 为了充分利用本书

本书将假定您具有一些 C++ 的先前知识。对游戏开发有基本的了解。总的来说，这将有助于您在整本书中更好地理解，但不应被视为先决条件。

为了充分利用示例和开发体验，建议您拥有一台至少具备以下配置的较新开发设备：

+   **CPU**：4 核

+   **内存**：8 GB RAM

+   **磁盘空间**：40 GB

这些示例（有少数例外）都经过设计，可以在 macOS 和 Windows PC 设备上运行。

为了跟随操作，您应该安装以下软件：

+   **PC**：Visual Studio 2015 Community 或更高版本

+   **macOS**：XCode 8.x 或更高版本。

其他所需的软件将根据需要进行描述。

# 下载示例代码文件

您可以从 [www.packtpub.com](http://www.packtpub.com) 的帐户中下载本书的示例代码文件。如果您在其他地方购买了本书，您可以访问 [www.packtpub.com/support](http://www.packtpub.com/support) 并注册，文件将直接发送到您的邮箱。

您可以按照以下步骤下载代码文件：

1.  登录或注册 [www.packtpub.com](http://www.packtpub.com/support)。

1.  选择“支持”选项卡。

1.  单击“代码下载和勘误”。

1.  在搜索框中输入书名，然后按照屏幕上的说明操作。

下载文件后，请确保使用最新版本的解压缩或提取文件夹：

+   WinRAR/7-Zip for Windows

+   Zipeg/iZip/UnRarX for Mac

+   7-Zip/PeaZip for Linux

该书的代码包也托管在 GitHub 上，网址为 [`github.com/PacktPublishing/Mastering-Cpp-Game-Development`](https://github.com/PacktPublishing/Mastering-Cpp-Game-Development)。我们还有其他代码包，可以从我们丰富的图书和视频目录中获取，网址为 **[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)**。去看看吧！

# 下载彩色图像

我们还提供了一个 PDF 文件，其中包含本书中使用的屏幕截图/图表的彩色图像。您可以从 [`www.packtpub.com/sites/default/files/downloads/MasteringCppGameDevelopment_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/MasteringCppGameDevelopment_ColorImages.pdf) 下载。

# 使用的约定

本书中使用了许多文本约定。

`CodeInText`：表示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄。以下是一个示例："唯一的问题是它将包括所有的 `ConsoleHelper` 库。"

代码块设置如下：

```cpp
int m_numberOfPlayers; 

void RunScripts(){} 

class GameObject {}; 
```

当我们希望引起您对代码块的特定部分的注意时，相关行或项目将以粗体显示：

```cpp
int m_numberOfPlayers; 

void RunScripts(){} 

class GameObject {}; 
```

任何命令行输入或输出都将以以下形式书写：

```cpp
cl /c hello.cpp
```

**粗体**：表示新术语、重要单词或您在屏幕上看到的单词。例如，菜单或对话框中的单词会以这种形式出现在文本中。以下是一个示例："当出现时，选择 Developer Command Prompt for VS2105。"

警告或重要说明会出现在这样的形式中。

技巧和窍门会以这样的形式出现。

# 联系我们

我们的读者的反馈总是受欢迎的。

**一般反馈**：发送电子邮件至 `feedback@packtpub.com`，并在主题中提及书名。如果您对本书的任何方面有疑问，请发送电子邮件至 `questions@packtpub.com`。

**勘误**：尽管我们已经非常注意确保内容的准确性，但错误确实会发生。如果您在本书中发现了错误，我们将不胜感激，如果您能向我们报告。请访问 [www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书，单击“勘误提交表格”链接，并输入详细信息。

**盗版**：如果您在互联网上发现我们作品的任何形式的非法副本，我们将不胜感激，如果您能向我们提供位置地址或网站名称。请通过 `copyright@packtpub.com` 与我们联系，并提供材料的链接。

**如果您有兴趣成为作者**：如果您在某个专题上有专业知识，并且有兴趣撰写或为书籍做出贡献，请访问 [authors.packtpub.com](http://authors.packtpub.com/)。

# 评论

请留下评论。阅读并使用本书后，为什么不在购买书籍的网站上留下评论呢？潜在的读者可以看到并使用您的客观意见来做出购买决定，我们在 Packt 可以了解您对我们产品的看法，我们的作者也可以看到您对他们书籍的反馈。谢谢！

有关 Packt 的更多信息，请访问 [packtpub.com](https://www.packtpub.com/)。
