# 第十三章：有用的思维技巧

在本书中，我们一直在讨论开发思维的方式，并且曾经一两次提到，区分有效的开发者和业余开发者的因素不是他们知道什么，而是他们如何思考。

有效思考是一种技能，就像其他技能一样，它可以通过实践来提高。正如我们在上一章中所看到的，通过分解问题并找到一个起点，你可以简化一个复杂的问题。现在让我们花点时间来探索一些更多的技巧，这些技巧可以帮助你。

# 橡皮鸭调试

你可能以前听过这个短语：“橡皮鸭调试”。它已经存在很长时间了，是你可以执行的最有效的解决问题的技巧之一。这里的想法很简单。找一个愿意倾听的人，如果周围没有人，桌子上的一个橡皮鸭也可以（因此得名）。大声地、用简单的语言描述你要解决的问题。这迫使你组织关于问题的思考。如果你发现自己无法用清晰简单的语言描述问题，那么你还没有理解它。你还没有准备好尝试回答这个问题，因为你还不清楚你需要问什么问题。尝试并探索它，直到你真正能用简单的语言表达出来。通常，仅仅这个过程就会给你提供一个清晰的解决方案，如果不行，你现在有更好的机会找到解决方案，因为你现在知道你在问什么问题。大声说出来或写下来。当你让它在脑海中翻滚时，很容易保持模糊和忽略细节。强迫自己把话放在一起。你会惊讶于这种技术的强大和有效。

# 只说事实

当你意识到软件出现问题时，写下你所看到的发生的事情。不是你认为你看到的事情，只是你看到的事情。在调试中，很容易对为什么会发生某事做出结论，然后在真正确定你实际遇到的问题之前，就开始试图解决这个问题。退一步，只看你能具体观察到的事情。

像这样思考：“当火炬生成时，它出现在错误的位置”，而不是“生成例程将物体放在错误的位置”。你还不知道那个。你只知道一个火炬不在你期望的位置。做一个实验。生成一个不同的物体。它是否出现在正确的位置？好的，那么也许你的模型有一个奇怪的偏移量。另一个物体也不在正确的位置？好的，那么，是生成例程的问题。或者可能是你的关卡中的某个碰撞导致物体无法生成在你想要的位置，并将它们推到最近可用的位置。尝试移动生成点，看看是否会改变事情。

看到我们在这里做什么了吗？我们正在将基本的科学方法应用于我们正在解决的问题。我们看到了什么？我们能想到可能引起这个问题的原因吗？我们如何测试它以确定我们是否正确？我们的测试给我们带来了什么新信息？我们是否已经知道足够的信息来解决问题了？

很容易就会得出结论并浪费很多时间来调试错误的问题。花时间退一步将有助于避免这种情况，并避免盲目尝试。通过这种方式，你将解决问题。

# 用积极的方式描述你的解决方案

我们在第十章《在 VR 中创建多人体验》中稍微谈到了“模仿神秘仪式的编程”，并让你承诺不要这样做。为了进一步阐述这个想法，让我们看一下一个我们希望你永远不要说出口的短语：“它能用——别碰它！”

这不是我们描述一个健壮系统的方式。如果你感到诱惑说这样的话，恭喜你！你已经完成了“让它工作；让它正确；让它快速”的过程的第一步，这意味着你还没有完成。你所创建的是你最终解决方案的一个成功示例，但现在是时候开始“让它正确”的阶段了。当你能够用积极的方式回答关于你的解决方案的三个问题时，你已经满足了这个开发阶段的要求：

+   它需要解决 X 问题

+   我知道它解决了 X 问题，因为……

+   我知道这是安全的，因为……

记住这三个陈述。不要跳过它们。你应该能够用清晰简单的语言描述你想要做的事情。（你的橡皮鸭也是一个好的倾听者。）你应该能够解释为什么你刚刚做的事情能够解决你想要做的事情，并且你应该能够用积极的方式来做到这一点：*我们需要确保玩家在暂停菜单出现时不能开火。这通过输入处理程序在调用开火函数之前检查暂停状态来解决。*最后，你应该能够解释为什么这样做是安全的：*我知道这是安全的，因为我们确保在暂停状态开始时清除任何现有的输入，并且输入处理程序知道只允许取消暂停命令通过。*

自律地做到这一点，并使用清晰、积极的术语。如果你含糊其辞，那就是在逃避你需要解决的问题。养成这样的习惯：描述你想要做的事情，为什么你知道你的解决方案能够做到这一点，以及为什么你知道这样做是安全的。这样做可以在软件中出现之前阻止很多错误。

# 在编写代码时，计划如何维护和调试你的代码

技术债务是一种隐形的东西。这个术语描述了修复代码中留下的混乱所带来的下游成本，通常是由于匆忙开发而导致的。它是一个项目杀手。

比如说，你需要为演示准备一些东西，但时间不够，所以你采用了一个临时解决方案。然后，你把它留在那里，并在其上构建了一堆额外的系统。现在，你想要将你的游戏上线，但你所做的事情在客户端上显示不正确，你恐惧地意识到你必须重写那些在演示中使用的临时解决方案上构建的所有系统，更糟糕的是，你意识到这将需要数周的工作。

或者，假设你在匆忙构建蓝图时，它能够工作，但看起来像排水管中的一团头发。你继续解决下一个问题。六个月后，你准备向出版商演示游戏，但系统中一直出现奇怪的错误。自从你写下它以来，你就没有再看过它，现在你被迫花费整天整夜来解决你制造的混乱，以便找出错误发生的位置。

在这两种情况下，如果你在事情还新鲜在脑海中的时候花时间整理你的工作，你将节省很多时间和痛苦。如果你绝对必须进行临时解决，将其标记为临时解决，并且如果你知道真正的解决方案应该是什么，就在临时解决方案旁边写入注释。然后在构建其他东西之前修复它。如果你已经运行了一个蓝图或一段代码，那么在你的“让它工作”阶段的一切都还新鲜在脑海中时，直接进入“让它正确”的阶段。

记住这个真理：“代码的绝大部分生命周期都是用来维护和调试的”。把这个铭记在心。调试代码比第一次编写代码要困难得多，所以尽可能给自己创造优势。如果你在第一次编写解决方案时匆忙行事，那么你并没有节省时间。你只是在它的生命周期的一小部分上节省了时间，却给自己带来了长时间的大麻烦。在编写代码时要为其进行调试做好计划。你会为此感到高兴的。

# 倾向于简单的解决方案

不幸的是，你会遇到那些写复杂、难以理解的代码或蓝图的开发者，他们错误地试图用这种方式给其他人留下智商有多高的印象。他们暗自幻想着其他人会看着他们难以阅读的代码，然后想，“哇！他们一定很聪明！我一个字都看不懂。”拜托，请不要成为这样的开发者。

那些你真正想要得到尊重的经验丰富的开发者不会对一个混乱的蓝图或晦涩难懂的代码印象深刻。他们会想知道为什么你把它留在这样的混乱中，并认为这是因为你不知道更好的方法。业余者写出难以阅读的代码，而专业人士知道他们将来一年都要维护这些代码，而且他们不想让这项工作变得更加困难。

如果你的“做对”草稿比你的“让它工作”草稿更简单、更清晰，那么你就知道你做得很好了。

# 在你创造之前先查一下

我们在《第十章》中提到了这一点，即在 VR 中创建多人体验，并希望在这里重申：新开发者常犯的一个核心错误是在解决问题之前没有进行研究，结果他们不得不重写已经存在的代码。

做好功课。当你试图解决一个问题时，在你开始动手之前，看看是否有其他人解决过类似的问题并留下了足迹。引擎中是否已经有一个可以完成这个任务或大部分任务的工具？模板或示例项目中是否有示例展示如何解决这个问题？是否有人在某个地方写了一个教程？有时候，答案可能是否定的，但更常见的情况是，你会找到一些直接指向解决方案或让你更接近解决方案的东西。

我们曾经看到一个小团队的工程师们在一个已经通过一个自由许可插件的单个函数解决的问题上浪费了几周的开发预算。这是没有用于改进游戏的时间，你不需要陷入这个陷阱。研究是你开发过程的一部分，应该在你开始输入或拖动节点之前进行。

这就引出了我们下一个讨论主题：当你需要找到信息时，你可以去哪里寻找？
