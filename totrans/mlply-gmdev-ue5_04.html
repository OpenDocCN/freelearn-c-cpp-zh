<html><head></head><body>
<div id="_idContainer074">
<h1 class="chapter-number" id="_idParaDest-85"><a id="_idTextAnchor086"/><span class="koboSpan" id="kobo.1.1">4</span></h1>
<h1 id="_idParaDest-86"><a id="_idTextAnchor087"/><span class="koboSpan" id="kobo.2.1">Setting Up Your First Multiplayer Environment</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Setting up a full networked game in UE5 can be an intimidating task. </span><span class="koboSpan" id="kobo.3.2">It requires knowledge of networking, coding, and the engine itself, all of which can be overwhelming for even experienced developers. </span><span class="koboSpan" id="kobo.3.3">But with the right guidance and some elbow grease, it is possible to create an engaging multiplayer experience in no time (well, </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">sort of...)!</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">To prevent multiple issues with rethinking and modifications, the first step should be gaining a clear understanding of the project’s topic. </span><span class="koboSpan" id="kobo.5.2">This avoids confusion from the onset and enables a smoother workflow. </span><span class="koboSpan" id="kobo.5.3">After that, you will need to create an Unreal project and get things set up properly. </span><span class="koboSpan" id="kobo.5.4">This includes creating your </span><strong class="bold"><span class="koboSpan" id="kobo.6.1">Gameplay Framework</span></strong><span class="koboSpan" id="kobo.7.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.8.1">GF</span></strong><span class="koboSpan" id="kobo.9.1">) classes </span><a id="_idIndexMarker193"/><span class="koboSpan" id="kobo.10.1">so that you have access to all the necessary features needed for development, as well as configuring your project settings to use </span><span class="No-Break"><span class="koboSpan" id="kobo.11.1">such classes.</span></span></p>
<p><span class="koboSpan" id="kobo.12.1">By the end of this chapter, you will have a solid understanding of programming in UE with C++ and will have laid the foundation for your </span><span class="No-Break"><span class="koboSpan" id="kobo.13.1">multiplayer game.</span></span></p>
<p><span class="koboSpan" id="kobo.14.1">Through the next sections, I will present you with the </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.16.1">Introducing Unreal Shadows – Legacy of </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">the Lichlord</span></span></li>
<li><span class="koboSpan" id="kobo.18.1">Understanding C++ in </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">Unreal Engine</span></span></li>
<li><span class="koboSpan" id="kobo.20.1">Starting your Unreal </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">multiplayer project</span></span></li>
<li><span class="koboSpan" id="kobo.22.1">Adding the </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1">player classes</span></span></li>
</ul>
<h1 id="_idParaDest-87"><a id="_idTextAnchor088"/><span class="koboSpan" id="kobo.24.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.25.1">To follow along with this chapter, you should have set up Visual Studio (or JetBrains Rider) with all Unreal dependencies, as explained in </span><a href="B18203_01.xhtml#_idTextAnchor016"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.26.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.27.1">, </span><em class="italic"><span class="koboSpan" id="kobo.28.1">Getting Started with Multiplayer </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.29.1">Game Development</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.30.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.31.1">You’ll be using some starter content available in this book’s companion repository located </span><span class="No-Break"><span class="koboSpan" id="kobo.32.1">at </span></span><a href="https://github.com/PacktPublishing/Multiplayer-Game-Development-with-Unreal-Engine-5"><span class="No-Break"><span class="koboSpan" id="kobo.33.1">https://github.com/PacktPublishing/Multiplayer-Game-Development-with-Unreal-Engine-5</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.34.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.35.1">Through this link, locate the section for this chapter and download the following </span><strong class="source-inline"><span class="koboSpan" id="kobo.36.1">.zip</span></strong><span class="koboSpan" id="kobo.37.1"> file: </span><strong class="source-inline"><span class="koboSpan" id="kobo.38.1">Unreal Shadows – Starter Content</span></strong><span class="koboSpan" id="kobo.39.1">. </span><span class="koboSpan" id="kobo.39.2">If you somehow get lost during the progress of this chapter, in the repository, you will also find the up-to-date project files here: </span><strong class="source-inline"><span class="koboSpan" id="kobo.40.1">Unreal Shadows – </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.41.1">Chapter </span></strong></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.42.1">04</span></strong></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.43.1"> End</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.44.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.45.1">Also, to fully understand this chapter, it is necessary to have some basic knowledge about C++ programming while I guide you through the key characteristics of the main peculiarities of the </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">UE framework.</span></span></p>
<h1 id="_idParaDest-88"><a id="_idTextAnchor089"/><span class="koboSpan" id="kobo.47.1">Introducing Unreal Shadows – Legacy of the Lichlord</span></h1>
<p><span class="koboSpan" id="kobo.48.1">Consider the following passage from a (never published) fantasy book called </span><em class="italic"><span class="koboSpan" id="kobo.49.1">Unreal Shadows – Legacy of </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.50.1">the Lichlord</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">:</span></span></p>
<p><em class="italic"><span class="koboSpan" id="kobo.52.1">“The air was thick with the stench of decay as the three thieves made their way into the Lichlord’s dungeon. </span><span class="koboSpan" id="kobo.52.2">Their mission was clear: infiltrate the fortress, find the king’s knight, and bring him back alive. </span><span class="koboSpan" id="kobo.52.3">Anything they could find lying around was theirs to </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.53.1">take home.</span></em></span></p>
<p><em class="italic"><span class="koboSpan" id="kobo.54.1">As they crept through the shadowy corridors, they all knew that they were not alone: dozens of undead minions lurked around every corner, their greenish eyes </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.55.1">staring blankly.</span></em></span></p>
<p><em class="italic"><span class="koboSpan" id="kobo.56.1">The guild had faced their fair share of dangerous foes before, but never had they encountered such a formidable army of the undead. </span><span class="koboSpan" id="kobo.56.2">Quietly, they slipped past the corridors, careful not to attract any attention. </span><span class="koboSpan" id="kobo.56.3">The last thing they needed was to draw the entire horde down </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.57.1">upon them.”</span></em></span></p>
<p><span class="koboSpan" id="kobo.58.1">Congratulations – you have just been hired to create the video game adaptation of this best-selling book! </span><span class="koboSpan" id="kobo.58.2">And what’s more, it will be a </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">multiplayer game!</span></span></p>
<h2 id="_idParaDest-89"><a id="_idTextAnchor090"/><span class="koboSpan" id="kobo.60.1">Explaining the project brief</span></h2>
<p><span class="koboSpan" id="kobo.61.1">The game you’ll be </span><a id="_idIndexMarker194"/><span class="koboSpan" id="kobo.62.1">developing will be a </span><strong class="bold"><span class="koboSpan" id="kobo.63.1">third-person shooter</span></strong><span class="koboSpan" id="kobo.64.1"> that will use the </span><strong class="bold"><span class="koboSpan" id="kobo.65.1">hide and seek</span></strong><span class="koboSpan" id="kobo.66.1"> gameplay twist, as introduced in </span><a href="B18203_01.xhtml#_idTextAnchor016"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.67.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.68.1">, </span><em class="italic"><span class="koboSpan" id="kobo.69.1">Getting Started with Multiplayer Game Development</span></em><span class="koboSpan" id="kobo.70.1">. </span><span class="koboSpan" id="kobo.70.2">This means that this will be a stealth game where players will survive only by moving quietly </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">and carefully.</span></span></p>
<p><span class="koboSpan" id="kobo.72.1">In this multiplayer game, each participant will play the role of a member of the Guild of Thieves, a secret organization of rogues and thieves, infiltrating the realm of an undead wizard. </span><span class="koboSpan" id="kobo.72.2">The main aim will be to rescue non-player characters that are kept (hopefully alive!) in the dungeon prisons. </span><span class="koboSpan" id="kobo.72.3">Additionally, players will collect treasures and equipment from past and less </span><span class="No-Break"><span class="koboSpan" id="kobo.73.1">lucky adventurers.</span></span></p>
<p><span class="koboSpan" id="kobo.74.1">Each character will have the ability to do </span><span class="No-Break"><span class="koboSpan" id="kobo.75.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.76.1">Move around by walking </span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">or running</span></span></li>
<li><span class="koboSpan" id="kobo.78.1">Handle </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">a weapon</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.80.1">Get power-ups</span></span></li>
<li><span class="koboSpan" id="kobo.81.1">Equip </span><span class="No-Break"><span class="koboSpan" id="kobo.82.1">new weapons</span></span></li>
<li><span class="koboSpan" id="kobo.83.1">Increase skills by means of </span><span class="No-Break"><span class="koboSpan" id="kobo.84.1">experience points</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.85.1">The primary focus of this game will be on stealthy movement, as the undead army will prove too strong for the character to engage in direct combat. </span><span class="koboSpan" id="kobo.85.2">As a result, movement (especially running) and wielding weapons will create noise, making the previously unaware enemies instantly alert to the </span><span class="No-Break"><span class="koboSpan" id="kobo.86.1">player’s presence.</span></span></p>
<p><span class="koboSpan" id="kobo.87.1">Enemies will be represented by the Lichlord minions, a horde of undead skeletons that will wander around the level unaware of the </span><span class="No-Break"><span class="koboSpan" id="kobo.88.1">player characters.</span></span></p>
<p><span class="koboSpan" id="kobo.89.1">Excessive noise from the characters or falling into traps will alert nearby enemies, making it nearly impossible to complete the game. </span><span class="koboSpan" id="kobo.89.2">Regrettably for the player characters, gaining experience points will only be made possible by defeating enemies, adding further engagement to the </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">overall experience!</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.91.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.92.1">As this book is about multiplayer game programming rather than game design, balancing game mechanics will not be a primary focus of gameplay; instead, the focus will be on making things </span><span class="No-Break"><span class="koboSpan" id="kobo.93.1">function effectively.</span></span></p>
<h2 id="_idParaDest-90"><a id="_idTextAnchor091"/><span class="koboSpan" id="kobo.94.1">Starting the project</span></h2>
<p><span class="koboSpan" id="kobo.95.1">We want</span><a id="_idIndexMarker195"/><span class="koboSpan" id="kobo.96.1"> the game to be visually appealing, but I’m guessing that most of you might not have a 3D modeling background (I don’t have one!). </span><span class="koboSpan" id="kobo.96.2">That’s why we will be using some amazing assets by Kay Lousberg (</span><a href="https://kaylousberg.com/"><span class="koboSpan" id="kobo.97.1">https://kaylousberg.com/</span></a><span class="koboSpan" id="kobo.98.1">) that are freely available for personal and </span><span class="No-Break"><span class="koboSpan" id="kobo.99.1">commercial purposes.</span></span></p>
<p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.100.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.101.1">.1</span></em><span class="koboSpan" id="kobo.102.1"> shows one of the packs we will </span><span class="No-Break"><span class="koboSpan" id="kobo.103.1">be using:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer065">
<span class="koboSpan" id="kobo.104.1"><img alt="Figure 4.1 – The KayKit Dungeon Pack" src="image/Figure_04.1_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.105.1">Figure 4.1 – The KayKit Dungeon Pack</span></p>
<p><span class="koboSpan" id="kobo.106.1">You will start by creating a brand-new project starting from the </span><strong class="bold"><span class="koboSpan" id="kobo.107.1">Blank</span></strong><span class="koboSpan" id="kobo.108.1"> template available in UE5 and then you will add some assets from the aforementioned kits; however, to avoid the tedious task of importing them correctly, I have already packaged them </span><span class="No-Break"><span class="koboSpan" id="kobo.109.1">for you.</span></span></p>
<p><span class="koboSpan" id="kobo.110.1">The project files, along with the code for each chapter, can be found on this book’s companion project page located </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">here: </span></span><a href="https://github.com/PacktPublishing/Multiplayer-Game-Development-with-Unreal-Engine-5"><span class="No-Break"><span class="koboSpan" id="kobo.112.1">https://github.com/PacktPublishing/Multiplayer-Game-Development-with-Unreal-Engine-5</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.113.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.114.1">Having established what you will be working on, it is now time to gain an understanding of how C++ is used within UE5. </span><span class="koboSpan" id="kobo.114.2">The following section will provide a brief introduction to the primary features offered by the </span><span class="No-Break"><span class="koboSpan" id="kobo.115.1">engine framework.</span></span></p>
<h1 id="_idParaDest-91"><a id="_idTextAnchor092"/><span class="koboSpan" id="kobo.116.1">Understanding C++ in Unreal Engine</span></h1>
<p><span class="koboSpan" id="kobo.117.1">If you share my love for </span><a id="_idIndexMarker196"/><span class="koboSpan" id="kobo.118.1">game development and programming, you’ll likely find that writing C++ code in UE5 is quite fun and actually not too hard to get started with. </span><span class="koboSpan" id="kobo.118.2">Epic Games made a great job of adding features that make C++ easy to use for (</span><span class="No-Break"><span class="koboSpan" id="kobo.119.1">almost) everyone.</span></span></p>
<p><span class="koboSpan" id="kobo.120.1">Although it is possible to write standard C++ code in UE5, to achieve better performance with your games, it is advisable to use the engine’s most common features such as the built-in Reflection System and </span><span class="No-Break"><span class="koboSpan" id="kobo.121.1">memory management.</span></span></p>
<h2 id="_idParaDest-92"><a id="_idTextAnchor093"/><span class="koboSpan" id="kobo.122.1">Blueprints and C++</span></h2>
<p><span class="koboSpan" id="kobo.123.1">As you may already know, UE provides two methods for programming your game logic: Blueprint Visual Scripting </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">and C++.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.125.1">Blueprints Visual Scripting</span></strong><span class="koboSpan" id="kobo.126.1"> makes it easier for developers who don’t have extensive </span><a id="_idIndexMarker197"/><span class="koboSpan" id="kobo.127.1">coding experience to create complex game </span><a id="_idIndexMarker198"/><span class="koboSpan" id="kobo.128.1">mechanics without writing any code. </span><span class="koboSpan" id="kobo.128.2">On the other hand, </span><strong class="bold"><span class="koboSpan" id="kobo.129.1">C++</span></strong><span class="koboSpan" id="kobo.130.1"> is an </span><strong class="bold"><span class="koboSpan" id="kobo.131.1">object-oriented programming</span></strong><span class="koboSpan" id="kobo.132.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.133.1">OOP</span></strong><span class="koboSpan" id="kobo.134.1">) language that requires more technical knowledge but offers much greater control over the game engine than </span><span class="No-Break"><span class="koboSpan" id="kobo.135.1">Blueprints does.</span></span></p>
<p><span class="koboSpan" id="kobo.136.1">It should be noted that C++ and Blueprints are strictly connected, as Blueprints provide a visual representation of the underlying C++ code and adhere to its principles, including inheritance and polymorphism. </span><span class="koboSpan" id="kobo.136.2">While Blueprints do not demand advanced coding skills, they do follow the same principles as the programming language in terms of data types, pointers, references, and </span><span class="No-Break"><span class="koboSpan" id="kobo.137.1">other rules.</span></span></p>
<p><span class="koboSpan" id="kobo.138.1">Both languages can be used together in UE5 projects and most of the time, what you can achieve with C++ can equally be done in Blueprints; however, C++ excels in customizing core features of UE or creating plugins that extend its functionality even further beyond what’s available out of </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">the box.</span></span></p>
<p><span class="koboSpan" id="kobo.140.1">Although both Blueprint Visual Scripting and C++ offer powerful toolsets when working with UE projects, C++ provides lower-level access by way of object-oriented coding techniques – that’s why it is very important to have a strong knowledge of it once you start developing </span><span class="No-Break"><span class="koboSpan" id="kobo.141.1">multiplayer games.</span></span></p>
<h2 id="_idParaDest-93"><a id="_idTextAnchor094"/><span class="koboSpan" id="kobo.142.1">Understanding C++ classes</span></h2>
<p><span class="koboSpan" id="kobo.143.1">An Unreal Engine C++ class is, well, a regular </span><span class="No-Break"><span class="koboSpan" id="kobo.144.1">C++ class!</span></span></p>
<p><span class="koboSpan" id="kobo.145.1">If you have </span><a id="_idIndexMarker199"/><span class="koboSpan" id="kobo.146.1">already a good knowledge of OOP in C++, you</span><a id="_idIndexMarker200"/><span class="koboSpan" id="kobo.147.1"> will feel at home here: the process of creating a new UE C++ class begins by first defining what type of object it will represent, such as an Actor or a Component. </span><span class="koboSpan" id="kobo.147.2">Once the type has been defined, variables and methods are declared in the header file (</span><strong class="source-inline"><span class="koboSpan" id="kobo.148.1">.h</span></strong><span class="koboSpan" id="kobo.149.1">) and code logic is implemented in the source </span><span class="No-Break"><span class="koboSpan" id="kobo.150.1">file (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.151.1">.cpp</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.152.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.153.1">While the source file behaves like a regular C++ file of its kind, the header file will let you declare additional information for variables and functions that will be used by Blueprints inheriting from your class. </span><span class="koboSpan" id="kobo.153.2">Additionally, it will ease the pain of managing memory at runtime (I will get back to this in </span><span class="No-Break"><span class="koboSpan" id="kobo.154.1">a while).</span></span></p>
<p><span class="koboSpan" id="kobo.155.1">With the release of UE5, Epic Games introduced an amazing inspection tool called </span><strong class="bold"><span class="koboSpan" id="kobo.156.1">C++ Header Preview</span></strong><span class="koboSpan" id="kobo.157.1"> that</span><a id="_idIndexMarker201"/><span class="koboSpan" id="kobo.158.1"> lets you inspect your Blueprint Classes as if they were written in C++. </span><span class="koboSpan" id="kobo.158.2">To activate it, simply select from the main menu </span><strong class="bold"><span class="koboSpan" id="kobo.159.1">Tools</span></strong><span class="koboSpan" id="kobo.160.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.161.1">C++ Header Preview</span></strong><span class="koboSpan" id="kobo.162.1"> and select your desired class. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.163.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.164.1">.2</span></em><span class="koboSpan" id="kobo.165.1"> shows the header file of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">BP_BasePickup</span></strong><span class="koboSpan" id="kobo.167.1"> created during the </span><span class="No-Break"><span class="koboSpan" id="kobo.168.1">last chapter.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer066">
<span class="koboSpan" id="kobo.169.1"><img alt="Figure 4.2 – The C++ Header Preview tool in action" src="image/Figure_04.2_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.170.1">Figure 4.2 – The C++ Header Preview tool in action</span></p>
<p><span class="koboSpan" id="kobo.171.1">In UE, there are three main class types that you’ll be deriving from </span><span class="No-Break"><span class="koboSpan" id="kobo.172.1">during development:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.173.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.174.1">UObject</span></strong><span class="koboSpan" id="kobo.175.1"> is the</span><a id="_idIndexMarker202"/><span class="koboSpan" id="kobo.176.1"> base class of UE and provides most of the main features available in UE, such as </span><strong class="bold"><span class="koboSpan" id="kobo.177.1">garbage collection</span></strong><span class="koboSpan" id="kobo.178.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.179.1">GC</span></strong><span class="koboSpan" id="kobo.180.1">) (yes, UE provides it!), networking support, reflection of properties and methods, and so on. </span><span class="koboSpan" id="kobo.180.2">An </span><strong class="bold"><span class="koboSpan" id="kobo.181.1">AActor</span></strong><span class="koboSpan" id="kobo.182.1"> is a</span><a id="_idIndexMarker203"/><span class="koboSpan" id="kobo.183.1"> UObject that can be added to a game level either from the Editor or at runtime: in this second case, we say that the Actor has been </span><em class="italic"><span class="koboSpan" id="kobo.184.1">spawned</span></em><span class="koboSpan" id="kobo.185.1">. </span><span class="koboSpan" id="kobo.185.2">In a multiplayer environment, an AActor is the base type that can be replicated during networking and it will provide information for any Component that will </span><span class="No-Break"><span class="koboSpan" id="kobo.186.1">need synchronization.</span></span></li>
<li><span class="koboSpan" id="kobo.187.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.188.1">UActorComponent</span></strong><span class="koboSpan" id="kobo.189.1"> is the </span><a id="_idIndexMarker204"/><span class="koboSpan" id="kobo.190.1">basic class for defining Components that will be attached to an Actor or to another Component belonging to the </span><span class="No-Break"><span class="koboSpan" id="kobo.191.1">Actor itself.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.192.1">Additionally, you’ll be using </span><span class="No-Break"><span class="koboSpan" id="kobo.193.1">these entities:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.194.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.195.1">UStruct</span></strong><span class="koboSpan" id="kobo.196.1"> is used to</span><a id="_idIndexMarker205"/><span class="koboSpan" id="kobo.197.1"> create plain data structures and does not extend from any </span><span class="No-Break"><span class="koboSpan" id="kobo.198.1">particular class</span></span></li>
<li><span class="koboSpan" id="kobo.199.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.200.1">UEnum</span></strong><span class="koboSpan" id="kobo.201.1"> is used</span><a id="_idIndexMarker206"/><span class="koboSpan" id="kobo.202.1"> to represent enumerations </span><span class="No-Break"><span class="koboSpan" id="kobo.203.1">of elements</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.204.1">As a final note, throughout this book, you will notice that class names start with some letters that will not be visible once the class is used in the Editor. </span><span class="koboSpan" id="kobo.204.2">UE makes use of prefixes to point out the class type. </span><span class="koboSpan" id="kobo.204.3">The main prefixes used are </span><span class="No-Break"><span class="koboSpan" id="kobo.205.1">as follows:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.206.1">U</span></strong><span class="koboSpan" id="kobo.207.1"> is used for generic objects deriving from </span><strong class="source-inline"><span class="koboSpan" id="kobo.208.1">UObject</span></strong><span class="koboSpan" id="kobo.209.1"> (for </span><span class="No-Break"><span class="koboSpan" id="kobo.210.1">instance, components)</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.211.1">A</span></strong><span class="koboSpan" id="kobo.212.1"> is used for objects deriving from an Actor (i.e., </span><strong class="source-inline"><span class="koboSpan" id="kobo.213.1">AActor</span></strong><span class="koboSpan" id="kobo.214.1">) and that can be added to </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">a level</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.216.1">F</span></strong><span class="koboSpan" id="kobo.217.1"> is used for generic classes and structures such as the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.218.1">FColor</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.219.1"> structure</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.220.1">T</span></strong><span class="koboSpan" id="kobo.221.1"> is used for templates such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.222.1">TArray</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.223.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.224.1">TMap</span></strong></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.225.1">I</span></strong><span class="koboSpan" id="kobo.226.1"> is used </span><span class="No-Break"><span class="koboSpan" id="kobo.227.1">for </span></span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">interfaces</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.229.1">E</span></strong><span class="koboSpan" id="kobo.230.1"> is used </span><span class="No-Break"><span class="koboSpan" id="kobo.231.1">for </span></span><span class="No-Break"><span class="koboSpan" id="kobo.232.1">enums</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.233.1">B</span></strong><span class="koboSpan" id="kobo.234.1"> is used for </span><strong class="source-inline"><span class="koboSpan" id="kobo.235.1">bool</span></strong><span class="koboSpan" id="kobo.236.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.237.1">uint8</span></strong><span class="koboSpan" id="kobo.238.1"> (which may be used instead </span><span class="No-Break"><span class="koboSpan" id="kobo.239.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.240.1">bool</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.241.1">)</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.242.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.243.1">Please keep in mind that most of these prefixes are mandatory; if you try to name a class deriving from Actor without the </span><strong class="source-inline"><span class="koboSpan" id="kobo.244.1">A</span></strong><span class="koboSpan" id="kobo.245.1"> prefix, you will get an error. </span><span class="koboSpan" id="kobo.245.2">UE will hide the prefix once in the Editor. </span><span class="koboSpan" id="kobo.245.3">This rule applies only to C++ classes; Blueprints can be named without </span><span class="No-Break"><span class="koboSpan" id="kobo.246.1">such prefixes.</span></span></p>
<p><span class="koboSpan" id="kobo.247.1">Now that you are familiar with the main types available in UE, it’s time to explore the main features of a class header in order to understand its </span><span class="No-Break"><span class="koboSpan" id="kobo.248.1">core functionalities.</span></span></p>
<h2 id="_idParaDest-94"><a id="_idTextAnchor095"/><span class="koboSpan" id="kobo.249.1">Anatomy of a UE C++ header</span></h2>
<p><span class="koboSpan" id="kobo.250.1">The C++ header </span><a id="_idIndexMarker207"/><span class="koboSpan" id="kobo.251.1">of an Actor in UE5 will look like the </span><a id="_idIndexMarker208"/><span class="koboSpan" id="kobo.252.1">following piece </span><span class="No-Break"><span class="koboSpan" id="kobo.253.1">of code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.254.1">
#include "Engine/StaticMEshActor.h"
#include "APickup.generated.h"
UCLASS(Blueprintable, BlueprintType)
class APickup : public AStaticMeshActor
{
  GENERATED_BODY()
public:
  APickup();
  UPROPERTY(BlueprintReadOnly, VisibleAnywhere, Category="Default")
  TObjectPtr&lt;class USphereComponent&gt; Trigger;
  UPROPERTY(BlueprintReadWrite, EditAnywhere, Category="Default")
  int32 Points;
  UFUNCTION(BlueprintCallable)
  void Reactivate();
};</span></pre>
<p><span class="koboSpan" id="kobo.255.1">As you can see, there are a lot of things going </span><span class="No-Break"><span class="koboSpan" id="kobo.256.1">on here.</span></span></p>
<p><span class="koboSpan" id="kobo.257.1">First of </span><a id="_idIndexMarker209"/><span class="koboSpan" id="kobo.258.1">all, you will notice a </span><strong class="source-inline"><span class="koboSpan" id="kobo.259.1">#include "APickup.generated.h"</span></strong><span class="koboSpan" id="kobo.260.1"> declaration. </span><span class="koboSpan" id="kobo.260.2">This mandatory line of code is autogenerated by</span><a id="_idIndexMarker210"/><span class="koboSpan" id="kobo.261.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.262.1">Unreal Header Tool</span></strong><span class="koboSpan" id="kobo.263.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.264.1">UHT</span></strong><span class="koboSpan" id="kobo.265.1">) and includes all the macros your code will need to properly work in the engine. </span><span class="koboSpan" id="kobo.265.2">This file needs to be the last </span><strong class="source-inline"><span class="koboSpan" id="kobo.266.1">include</span></strong><span class="koboSpan" id="kobo.267.1"> file declared in your header or the compiler will throw </span><span class="No-Break"><span class="koboSpan" id="kobo.268.1">an error.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.269.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.270.1">The UHT is a custom parsing and code generation tool that supports the UObject system in Unreal Engine. </span><span class="koboSpan" id="kobo.270.2">The UHT is used to parse C++ headers for Unreal and generate the boilerplate code required for the engine to work with the </span><span class="No-Break"><span class="koboSpan" id="kobo.271.1">user-created classes.</span></span></p>
<p><span class="koboSpan" id="kobo.272.1">The class constructor (in this case, </span><strong class="source-inline"><span class="koboSpan" id="kobo.273.1">APickup()</span></strong><span class="koboSpan" id="kobo.274.1">) is used to set default values for properties as you may do with a regular C++ class; what’s more, you will be using it to create and add Components to the </span><span class="No-Break"><span class="koboSpan" id="kobo.275.1">Actor itself.</span></span></p>
<p><span class="koboSpan" id="kobo.276.1">Next, you will find some declarations, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.277.1">UCLASS()</span></strong><span class="koboSpan" id="kobo.278.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.279.1">GENERATED_BODY()</span></strong><span class="koboSpan" id="kobo.280.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.281.1">UPROPERTY()</span></strong><span class="koboSpan" id="kobo.282.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.283.1">UFUNCTION()</span></strong><span class="koboSpan" id="kobo.284.1">, that are used by UE and each has a precise function. </span><span class="koboSpan" id="kobo.284.2">If you are wondering about the meaning of the attributes called </span><strong class="source-inline"><span class="koboSpan" id="kobo.285.1">BlueprintReadOnly</span></strong><span class="koboSpan" id="kobo.286.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.287.1">VisibleAnywhere</span></strong><span class="koboSpan" id="kobo.288.1">, and similar, don’t be afraid! </span><span class="koboSpan" id="kobo.288.2">I’ll be explaining their meaning in </span><a href="B18203_05.xhtml#_idTextAnchor107"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.289.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.290.1">, </span><em class="italic"><span class="koboSpan" id="kobo.291.1">Managing Actors in a </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.292.1">Multiplayer Environment</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.294.1">In the next subsection, I’ll show you the exact meaning of each </span><span class="No-Break"><span class="koboSpan" id="kobo.295.1">of them.</span></span></p>
<h2 id="_idParaDest-95"><a id="_idTextAnchor096"/><span class="koboSpan" id="kobo.296.1">The Unreal Engine Reflection System</span></h2>
<p><span class="koboSpan" id="kobo.297.1">The term </span><strong class="bold"><span class="koboSpan" id="kobo.298.1">Reflection</span></strong><span class="koboSpan" id="kobo.299.1"> specifies</span><a id="_idIndexMarker211"/><span class="koboSpan" id="kobo.300.1"> the capability </span><a id="_idIndexMarker212"/><span class="koboSpan" id="kobo.301.1">that allows a program to inspect its own structure at runtime. </span><span class="koboSpan" id="kobo.301.2">This feature is immensely valuable and serves as one of the core technologies employed by UE, supporting a variety of systems such as detail panels in the Editor, serialization, garbage collection, network replication, and communication between Blueprint </span><span class="No-Break"><span class="koboSpan" id="kobo.302.1">and C++.</span></span></p>
<p><span class="koboSpan" id="kobo.303.1">As there is no native support for Reflection in C++, Epic Games has developed its own system for gathering, examining, and altering data related to C++ classes, structs, and so on </span><span class="No-Break"><span class="koboSpan" id="kobo.304.1">in UE.</span></span></p>
<p><span class="koboSpan" id="kobo.305.1">In order to use Reflection, you will need to annotate any type or property that you want to make visible to the system by marking them with annotations such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.306.1">UCLASS()</span></strong><span class="koboSpan" id="kobo.307.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.308.1">UFUNCTION()</span></strong><span class="koboSpan" id="kobo.309.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.310.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">UPROPERTIES()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.312.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.313.1">To enable such annotations, you’ll be using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.314.1">#include "APickup.generated.h"</span></strong><span class="koboSpan" id="kobo.315.1"> declaration I introduced in the last subsection (this declaration is autogenerated when you create a class with the Unreal Class Wizard, so you won’t have to worry </span><span class="No-Break"><span class="koboSpan" id="kobo.316.1">about it).</span></span></p>
<p><span class="koboSpan" id="kobo.317.1">The following list provides the fundamental markup elements accessible within the </span><span class="No-Break"><span class="koboSpan" id="kobo.318.1">Reflection System:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.319.1">UCLASS()</span></strong><span class="koboSpan" id="kobo.320.1">: Used to generate reflection data for a class that needs to derive </span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">from </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.322.1">UObject</span></strong></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.323.1">USTRUCT()</span></strong><span class="koboSpan" id="kobo.324.1">: Used to generate reflection data for </span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">a struct</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.326.1">GENERATED_BODY()</span></strong><span class="koboSpan" id="kobo.327.1">: This markup will be replaced with all the needed boilerplate code for </span><span class="No-Break"><span class="koboSpan" id="kobo.328.1">the type</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.329.1">UPROPERTY()</span></strong><span class="koboSpan" id="kobo.330.1">: Used to tell the engine that the associated member variable will have some additional features, such as Blueprint accessibility or replication across the network (and this will mean a lot to you </span><span class="No-Break"><span class="koboSpan" id="kobo.331.1">later on!)</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">UFUNCTION()</span></strong><span class="koboSpan" id="kobo.333.1">: Allows, among other things, to call this function from an extending Blueprint Class or override the function from the </span><span class="No-Break"><span class="koboSpan" id="kobo.334.1">Blueprint itself</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.335.1">The Reflection System is also used by the garbage collector so you don’t have to worry about memory management, as you will see in the </span><span class="No-Break"><span class="koboSpan" id="kobo.336.1">next subsection.</span></span></p>
<h2 id="_idParaDest-96"><a id="_idTextAnchor097"/><span class="koboSpan" id="kobo.337.1">Memory management and garbage collection</span></h2>
<p><span class="koboSpan" id="kobo.338.1">With thousands (sometimes tens of thousands!) of active objects in a game level, GC is</span><a id="_idIndexMarker213"/><span class="koboSpan" id="kobo.339.1"> an essential part</span><a id="_idIndexMarker214"/><span class="koboSpan" id="kobo.340.1"> of programming. </span><span class="koboSpan" id="kobo.340.2">It’s like the janitor of your running code – it helps keep everything tidy </span><a id="_idIndexMarker215"/><span class="koboSpan" id="kobo.341.1">and organized by automatically collecting and disposing of objects that are no longer needed. </span><span class="koboSpan" id="kobo.341.2">It’s a great way to make sure your program runs smoothly without any memory leaks or performance issues, so you can focus on creating awesome </span><span class="No-Break"><span class="koboSpan" id="kobo.342.1">features instead.</span></span></p>
<p><span class="koboSpan" id="kobo.343.1">C++ does not natively implement GC, so UE implements its own system: you will just need to ensure that valid references to the objects are maintained. </span><span class="koboSpan" id="kobo.343.2">In order to enable GC for your classes, you need to assure that they inherit from </span><strong class="source-inline"><span class="koboSpan" id="kobo.344.1">UObject</span></strong><span class="koboSpan" id="kobo.345.1">; then the system will keep a list of </span><a id="_idIndexMarker216"/><span class="koboSpan" id="kobo.346.1">objects (also called </span><strong class="bold"><span class="koboSpan" id="kobo.347.1">root</span></strong><span class="koboSpan" id="kobo.348.1">) that should not be garbage-collected. </span><span class="koboSpan" id="kobo.348.2">As long as an object is listed in the root, it will be preserved from deletion; once it is removed from this list, it will be deleted from memory the next time the garbage collector is called (i.e., at </span><span class="No-Break"><span class="koboSpan" id="kobo.349.1">certain intervals).</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.350.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.351.1">Actors are only destroyed at the level’s shutdown unless you call the </span><strong class="source-inline"><span class="koboSpan" id="kobo.352.1">Destroy()</span></strong><span class="koboSpan" id="kobo.353.1"> method on them: in this case, they will be immediately removed from the game and deleted by the garbage collector </span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">when activated.</span></span></p>
<p><span class="koboSpan" id="kobo.355.1">In this section, I have introduced you to the main features that distinguish an Unreal Engine project from a regular C++ one. </span><span class="koboSpan" id="kobo.355.2">In the next section, you will begin to apply this knowledge by creating an empty project and extending the main Unreal </span><span class="No-Break"><span class="koboSpan" id="kobo.356.1">GF classes.</span></span></p>
<h1 id="_idParaDest-97"><a id="_idTextAnchor098"/><span class="koboSpan" id="kobo.357.1">Starting your Unreal multiplayer project</span></h1>
<p><span class="koboSpan" id="kobo.358.1">In this section, you are</span><a id="_idIndexMarker217"/><span class="koboSpan" id="kobo.359.1"> finally going to start developing the multiplayer project (I know you are eager to begin it!). </span><span class="koboSpan" id="kobo.359.2">You’ll be creating an Unreal C++ blank project and adding the already packaged assets I will provide you. </span><span class="koboSpan" id="kobo.359.3">Then, you’ll be creating the GF classes needed to manage a multiplayer session. </span><span class="koboSpan" id="kobo.359.4">So, let’s </span><span class="No-Break"><span class="koboSpan" id="kobo.360.1">get started.</span></span></p>
<h2 id="_idParaDest-98"><a id="_idTextAnchor099"/><span class="koboSpan" id="kobo.361.1">Creating your project file</span></h2>
<p><span class="koboSpan" id="kobo.362.1">Let’s start by </span><a id="_idIndexMarker218"/><span class="koboSpan" id="kobo.363.1">creating a </span><span class="No-Break"><span class="koboSpan" id="kobo.364.1">blank project:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.365.1">Open the Epic Games Launcher and launch the </span><span class="No-Break"><span class="koboSpan" id="kobo.366.1">Unreal</span></span><span class="No-Break"><span class="koboSpan" id="kobo.367.1"> Editor.</span></span></li>
<li><span class="koboSpan" id="kobo.368.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.369.1">Games</span></strong><span class="koboSpan" id="kobo.370.1"> section, select the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.371.1">Blank</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.372.1"> template.</span></span></li>
<li><span class="koboSpan" id="kobo.373.1">In </span><strong class="bold"><span class="koboSpan" id="kobo.374.1">Project Defaults</span></strong><span class="koboSpan" id="kobo.375.1">, select </span><strong class="bold"><span class="koboSpan" id="kobo.376.1">C++</span></strong><span class="koboSpan" id="kobo.377.1"> as the </span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">project type.</span></span></li>
<li><span class="koboSpan" id="kobo.379.1">Make sure the </span><strong class="bold"><span class="koboSpan" id="kobo.380.1">Starter Content</span></strong><span class="koboSpan" id="kobo.381.1"> field is unselected as you won’t be </span><span class="No-Break"><span class="koboSpan" id="kobo.382.1">using it.</span></span></li>
<li><span class="koboSpan" id="kobo.383.1">Give the project a meaningful name (for </span><span class="No-Break"><span class="koboSpan" id="kobo.384.1">example, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.385.1">UnrealShadows_LOTL</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.386.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.387.1">Click the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.388.1">Create</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.389.1"> button.</span></span></li>
<li><span class="koboSpan" id="kobo.390.1">Once the UE project has been created, get the </span><strong class="source-inline"><span class="koboSpan" id="kobo.391.1">UnrealShadows-StarterContent.zip</span></strong><span class="koboSpan" id="kobo.392.1"> file you downloaded at the beginning of this chapter and unzip it in </span><span class="No-Break"><span class="koboSpan" id="kobo.393.1">your computer.</span></span></li>
<li><span class="koboSpan" id="kobo.394.1">Navigate to your project </span><strong class="source-inline"><span class="koboSpan" id="kobo.395.1">Content</span></strong><span class="koboSpan" id="kobo.396.1"> folder located at </span><strong class="source-inline"><span class="koboSpan" id="kobo.397.1">[Your Project Path]</span></strong><span class="koboSpan" id="kobo.398.1"> | </span><strong class="source-inline"><span class="koboSpan" id="kobo.399.1">UnrealShadows_LOTL</span></strong><span class="koboSpan" id="kobo.400.1"> | </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.401.1">Content</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.402.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.403.1">Copy the content of the unzipped file (</span><strong class="source-inline"><span class="koboSpan" id="kobo.404.1">_ExternalActors_</span></strong><span class="koboSpan" id="kobo.405.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.406.1">Blueprints</span></strong><span class="koboSpan" id="kobo.407.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.408.1">KayKit</span></strong><span class="koboSpan" id="kobo.409.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.410.1">Maps</span></strong><span class="koboSpan" id="kobo.411.1"> folders) into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.412.1">Content</span></strong><span class="koboSpan" id="kobo.413.1"> folder to add all the needed assets to </span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">your project.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.415.1">Once you have copied the files, they should appear in the UE Editor and be available in your project. </span><span class="koboSpan" id="kobo.415.2">If the files do not pop up in the Content Browser, simply close the Editor and open it again to let UE update the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.416.1">Content</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.417.1"> folder.</span></span></p>
<p><span class="koboSpan" id="kobo.418.1">You will notice that I have already added two levels (</span><strong class="bold"><span class="koboSpan" id="kobo.419.1">Level_01</span></strong><span class="koboSpan" id="kobo.420.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.421.1">Level_Boss</span></strong><span class="koboSpan" id="kobo.422.1">) to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.423.1">Maps</span></strong><span class="koboSpan" id="kobo.424.1"> folder: these levels will be used during the book and have been created for ease of development. </span><span class="koboSpan" id="kobo.424.2">You are free to create your own maps or add additional assets. </span><span class="koboSpan" id="kobo.424.3">which can be located at </span><strong class="bold"><span class="koboSpan" id="kobo.425.1">Content</span></strong><span class="koboSpan" id="kobo.426.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.427.1">KayKit</span></strong><span class="koboSpan" id="kobo.428.1"> | </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.429.1">Dungeon Elements</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.430.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.431.1">Just to check that everything went as expected, open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.432.1">Level_01</span></strong><span class="koboSpan" id="kobo.433.1"> map and you should see the level shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.434.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.435.1">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.436.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer067">
<span class="koboSpan" id="kobo.437.1"><img alt="Figure 4.3 – The Level 01 map" src="image/Image96388.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.438.1">Figure 4.3 – The Level 01 map</span></p>
<p><span class="koboSpan" id="kobo.439.1">It’s time to add some </span><a id="_idIndexMarker219"/><span class="koboSpan" id="kobo.440.1">of the main classes used in any UE5 project, the ones that extend the </span><span class="No-Break"><span class="koboSpan" id="kobo.441.1">GF elements.</span></span></p>
<h2 id="_idParaDest-99"><a id="_idTextAnchor100"/><span class="koboSpan" id="kobo.442.1">Creating the project game instance</span></h2>
<p><span class="koboSpan" id="kobo.443.1">As you </span><a id="_idIndexMarker220"/><span class="koboSpan" id="kobo.444.1">probably already know, in UE5, a </span><strong class="bold"><span class="koboSpan" id="kobo.445.1">GameInstance</span></strong><span class="koboSpan" id="kobo.446.1"> is a </span><a id="_idIndexMarker221"/><span class="koboSpan" id="kobo.447.1">class responsible for managing high-level data that needs to persist across level changes or game sessions. </span><span class="koboSpan" id="kobo.447.2">It is essentially a globally accessible UObject that can store any data you want to keep across the entire game, such as the player score, and other information that needs to be shared across different levels or </span><span class="No-Break"><span class="koboSpan" id="kobo.448.1">game sessions.</span></span></p>
<p><span class="koboSpan" id="kobo.449.1">A class extending a GameInstance can be created as a Blueprint Class or in C++ and is instantiated when the game is started and is only destroyed when the game is </span><span class="No-Break"><span class="koboSpan" id="kobo.450.1">shut down.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.451.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.452.1">As with most C++ Unreal Engine projects, you will be working with a mix of C++ classes and Blueprints. </span><span class="koboSpan" id="kobo.452.2">C++ classes are located in the </span><strong class="bold"><span class="koboSpan" id="kobo.453.1">All | C++ classes | UnrealShadows_LOTL</span></strong><span class="koboSpan" id="kobo.454.1"> folder and can only be added there (or in a subfolder). </span><span class="koboSpan" id="kobo.454.2">If you can’t find this folder, you have probably created a Blueprint-only project. </span><span class="koboSpan" id="kobo.454.3">Don’t despair, once the first C++ has been created (more on this in a minute), the Unreal Engine Editor will take care of it, transforming your Blueprint-only project into a C++ one and everything will be </span><span class="No-Break"><span class="koboSpan" id="kobo.455.1">in place!</span></span></p>
<p><span class="koboSpan" id="kobo.456.1">To create </span><a id="_idIndexMarker222"/><span class="koboSpan" id="kobo.457.1">your project GameInstance, follow</span><a id="_idIndexMarker223"/> <span class="No-Break"><span class="koboSpan" id="kobo.458.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.459.1">On the main menu, select </span><strong class="bold"><span class="koboSpan" id="kobo.460.1">Tools</span></strong><span class="koboSpan" id="kobo.461.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.462.1">New </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.463.1">C++ Class...</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.465.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.466.1">Add C++ Class</span></strong><span class="koboSpan" id="kobo.467.1"> wizard will open, showing the </span><strong class="bold"><span class="koboSpan" id="kobo.468.1">CHOOSE PARENT CLASS</span></strong><span class="koboSpan" id="kobo.469.1"> section. </span><span class="koboSpan" id="kobo.469.2">Select the </span><strong class="bold"><span class="koboSpan" id="kobo.470.1">All Classes</span></strong><span class="koboSpan" id="kobo.471.1"> tab and, in the search field, type </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">game instance</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.473.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.474.1">Select the </span><strong class="bold"><span class="koboSpan" id="kobo.475.1">GameInstance</span></strong><span class="koboSpan" id="kobo.476.1"> class, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.477.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.478.1">.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.479.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer068">
<span class="koboSpan" id="kobo.480.1"><img alt="Figure 4.4 – The class creation wizard" src="image/Figure_04.4_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.481.1">Figure 4.4 – The class creation wizard</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.482.1">Click </span><strong class="bold"><span class="koboSpan" id="kobo.483.1">Next</span></strong><span class="koboSpan" id="kobo.484.1"> to access the </span><strong class="bold"><span class="koboSpan" id="kobo.485.1">NAME YOUR NEW GAME </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.486.1">INSTANCE</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.487.1"> panel.</span></span></li>
<li><span class="koboSpan" id="kobo.488.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.489.1">Name</span></strong><span class="koboSpan" id="kobo.490.1"> field, insert </span><strong class="source-inline"><span class="koboSpan" id="kobo.491.1">US_GameInstance</span></strong><span class="koboSpan" id="kobo.492.1">. </span><span class="koboSpan" id="kobo.492.2">You can leave the other fields as they are so that the panel looks like </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.493.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.494.1">.5</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.495.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer069">
<span class="koboSpan" id="kobo.496.1"><img alt="Figure 4.5 – Naming your class" src="image/Figure_04.5_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.497.1">Figure 4.5 – Naming your class</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.498.1">Click</span><a id="_idIndexMarker224"/><span class="koboSpan" id="kobo.499.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.500.1">Create Class</span></strong><span class="koboSpan" id="kobo.501.1"> button </span><a id="_idIndexMarker225"/><span class="koboSpan" id="kobo.502.1">to generate your </span><span class="No-Break"><span class="koboSpan" id="kobo.503.1">class files.</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.504.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.505.1">I’ll be using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.506.1">US_</span></strong><span class="koboSpan" id="kobo.507.1"> prefix for most of the classes in the project extending the main GF elements: this is just a shorthand for UnrealShadows and will let us see that these files are from </span><span class="No-Break"><span class="koboSpan" id="kobo.508.1">our project.</span></span></p>
<p><span class="koboSpan" id="kobo.509.1">Once the creation process has ended, you will get two new files: </span><strong class="source-inline"><span class="koboSpan" id="kobo.510.1">US_GameInstance.h</span></strong><span class="koboSpan" id="kobo.511.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.512.1">US_GameInstance.cpp</span></strong><span class="koboSpan" id="kobo.513.1">. </span><span class="koboSpan" id="kobo.513.2">Congratulations – you have just created your first Unreal </span><span class="No-Break"><span class="koboSpan" id="kobo.514.1">C++ class!</span></span></p>
<p><span class="koboSpan" id="kobo.515.1">Opening the header file, you will see the </span><span class="No-Break"><span class="koboSpan" id="kobo.516.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.517.1">
// Fill out your copyright notice in the Description page of Project Settings.
</span><span class="koboSpan" id="kobo.517.2">#pragma once
#include "CoreMinimal.h"
#include "Engine/GameInstance.h"
#include "US_GameInstance.generated.h"
/**
 *
*/
UCLASS()
class UNREALSHADOWS_LOTL_API UUSGameInstance : public UGameInstance
{
  GENERATED_BODY()
};</span></pre>
<p><span class="koboSpan" id="kobo.518.1">The source </span><a id="_idIndexMarker226"/><span class="koboSpan" id="kobo.519.1">file will be empty, apart from the</span><a id="_idIndexMarker227"/><span class="koboSpan" id="kobo.520.1"> header </span><strong class="source-inline"><span class="koboSpan" id="kobo.521.1">#</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.522.1">include</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.523.1"> declaration:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.524.1">
// Fill out your copyright notice in the Description page of Project Settings.
</span><span class="koboSpan" id="kobo.524.2">#include "US_GameInstance.h"</span></pre>
<p><span class="koboSpan" id="kobo.525.1">As you can see, this class extends the base </span><strong class="source-inline"><span class="koboSpan" id="kobo.526.1">GameInstance</span></strong><span class="koboSpan" id="kobo.527.1"> class (i.e., </span><strong class="source-inline"><span class="koboSpan" id="kobo.528.1">UGameInstance</span></strong><span class="koboSpan" id="kobo.529.1">) and it currently does nothing apart from the macro declarations that were introduced in the previous section. </span><span class="koboSpan" id="kobo.529.2">However, as the project progresses, new features such as data collection or online services management will be added </span><span class="No-Break"><span class="koboSpan" id="kobo.530.1">to it.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.531.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.532.1">If you named your project with a name other than mine (i.e., </span><strong class="source-inline"><span class="koboSpan" id="kobo.533.1">UnrealShadows_LOTL</span></strong><span class="koboSpan" id="kobo.534.1">), you will get a different API export name in your class declaration; as you can see from the previous code, mine is </span><strong class="source-inline"><span class="koboSpan" id="kobo.535.1">UNREALSHADOWS_LOTL_API</span></strong><span class="koboSpan" id="kobo.536.1">. </span><span class="koboSpan" id="kobo.536.2">Please keep this in mind throughout the book, as my code will reference this name and you may get a compilation error. </span><span class="koboSpan" id="kobo.536.3">To fix this, you should change the </span><strong class="source-inline"><span class="koboSpan" id="kobo.537.1">UNREALSHADOWS_LOTL_API</span></strong><span class="koboSpan" id="kobo.538.1"> text with </span><strong class="source-inline"><span class="koboSpan" id="kobo.539.1">YOUR_PROJECT_NAME</span></strong><span class="koboSpan" id="kobo.540.1"> (in all caps), with the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.541.1">_API</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.542.1"> suffix.</span></span></p>
<p><span class="koboSpan" id="kobo.543.1">This </span><a id="_idIndexMarker228"/><span class="koboSpan" id="kobo.544.1">game instance needs to be added to the </span><a id="_idIndexMarker229"/><span class="koboSpan" id="kobo.545.1">project settings so it will be the one instantiated at runtime. </span><span class="koboSpan" id="kobo.545.2">To do so, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.546.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.547.1">From the main menu, open </span><strong class="bold"><span class="koboSpan" id="kobo.548.1">Project Settings</span></strong><span class="koboSpan" id="kobo.549.1">. </span><span class="koboSpan" id="kobo.549.2">Then click on the </span><strong class="bold"><span class="koboSpan" id="kobo.550.1">Project</span></strong><span class="koboSpan" id="kobo.551.1"> |</span><strong class="bold"><span class="koboSpan" id="kobo.552.1"> Maps &amp; </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.553.1">Modes</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.554.1"> section.</span></span></li>
<li><span class="koboSpan" id="kobo.555.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.556.1">Game Instance Class</span></strong><span class="koboSpan" id="kobo.557.1"> drop-down menu, select </span><strong class="bold"><span class="koboSpan" id="kobo.558.1">UG_GameInstance</span></strong><span class="koboSpan" id="kobo.559.1">, as depicted in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.560.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.561.1">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.562.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer070">
<span class="koboSpan" id="kobo.563.1"><img alt="Figure 4.6 – The game instance assigned to the project" src="image/Figure_04.6_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.564.1">Figure 4.6 – The game instance assigned to the project</span></p>
<p><span class="koboSpan" id="kobo.565.1">Now that we have a game instance assigned to the project, it’s time to create a Game Mode for the menu and </span><span class="No-Break"><span class="koboSpan" id="kobo.566.1">lobby levels.</span></span></p>
<h2 id="_idParaDest-100"><a id="_idTextAnchor101"/><span class="koboSpan" id="kobo.567.1">Creating the Game Mode and the Game State</span></h2>
<p><span class="koboSpan" id="kobo.568.1">In UE, a </span><strong class="bold"><span class="koboSpan" id="kobo.569.1">Game Mode</span></strong><span class="koboSpan" id="kobo.570.1"> is a</span><a id="_idIndexMarker230"/><span class="koboSpan" id="kobo.571.1"> class that </span><a id="_idIndexMarker231"/><span class="koboSpan" id="kobo.572.1">controls the game rules, such as how a player joins the game, how to transition between levels, and other game-specific settings. </span><span class="koboSpan" id="kobo.572.2">The Game Mode is typically paired with</span><a id="_idIndexMarker232"/><span class="koboSpan" id="kobo.573.1"> a </span><strong class="bold"><span class="koboSpan" id="kobo.574.1">Game State</span></strong><span class="koboSpan" id="kobo.575.1"> class, which</span><a id="_idIndexMarker233"/><span class="koboSpan" id="kobo.576.1"> manages the current state of the game, such as the score, time remaining, and other important information. </span><span class="koboSpan" id="kobo.576.2">Together, the Game Mode and Game State classes allow developers to create complex and customized game mechanics </span><span class="No-Break"><span class="koboSpan" id="kobo.577.1">in UE.</span></span></p>
<p><span class="koboSpan" id="kobo.578.1">If you </span><a id="_idIndexMarker234"/><span class="koboSpan" id="kobo.579.1">check your </span><strong class="source-inline"><span class="koboSpan" id="kobo.580.1">C++ Classes</span></strong><span class="koboSpan" id="kobo.581.1"> folder, you will notice that there is already a Game Mode named </span><strong class="source-inline"><span class="koboSpan" id="kobo.582.1">UnrealShadowsLOTLGameModeBase</span></strong><span class="koboSpan" id="kobo.583.1"> (the name may differ slightly if you named your project differently from mine). </span><span class="koboSpan" id="kobo.583.2">This is an autogenerated class extending </span><strong class="source-inline"><span class="koboSpan" id="kobo.584.1">AGameModeBase</span></strong><span class="koboSpan" id="kobo.585.1"> from </span><span class="No-Break"><span class="koboSpan" id="kobo.586.1">the GF.</span></span></p>
<p><span class="koboSpan" id="kobo.587.1">You won’t be using this because</span><a id="_idIndexMarker235"/><span class="koboSpan" id="kobo.588.1"> you need to create a class from </span><strong class="source-inline"><span class="koboSpan" id="kobo.589.1">AGameMode</span></strong><span class="koboSpan" id="kobo.590.1">; this class extends </span><strong class="source-inline"><span class="koboSpan" id="kobo.591.1">AGameModeBase</span></strong><span class="koboSpan" id="kobo.592.1"> by adding some features that will enhance the multiplayer system, such as game rules and win/lose conditions. </span><span class="koboSpan" id="kobo.592.2">To extend the Game Mode with your own settings, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.593.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.594.1">Create a new C++ class just like you did for the game instance in the </span><span class="No-Break"><span class="koboSpan" id="kobo.595.1">previous sections.</span></span></li>
<li><span class="koboSpan" id="kobo.596.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.597.1">All Classes</span></strong><span class="koboSpan" id="kobo.598.1"> section, select </span><strong class="bold"><span class="koboSpan" id="kobo.599.1">GameMode</span></strong><span class="koboSpan" id="kobo.600.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.601.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.602.1">Next</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.603.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.604.1">Name your class </span><strong class="source-inline"><span class="koboSpan" id="kobo.605.1">US_GameMode</span></strong><span class="koboSpan" id="kobo.606.1"> and click the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.607.1">CreateClass</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.608.1"> button.</span></span></li>
<li><span class="koboSpan" id="kobo.609.1">Once the class has been created, it’s time to set it as the default Game Mode for all your levels. </span><span class="koboSpan" id="kobo.609.2">To do this, open </span><strong class="bold"><span class="koboSpan" id="kobo.610.1">Project Settings</span></strong><span class="koboSpan" id="kobo.611.1"> and select the </span><strong class="bold"><span class="koboSpan" id="kobo.612.1">Maps &amp; </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.613.1">Modes</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.614.1"> section.</span></span></li>
<li><span class="koboSpan" id="kobo.615.1">Then, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.616.1">Default GameMode</span></strong><span class="koboSpan" id="kobo.617.1"> drop-down menu and select </span><strong class="bold"><span class="koboSpan" id="kobo.618.1">US_GameMode</span></strong><span class="koboSpan" id="kobo.619.1">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.620.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.621.1">.7</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.622.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer071">
<span class="koboSpan" id="kobo.623.1"><img alt="Figure 4.7 – The default game mode" src="image/Figure_04.7_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.624.1">Figure 4.7 – The default game mode</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.625.1">Close the </span><strong class="bold"><span class="koboSpan" id="kobo.626.1">Project </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.627.1">Settings</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.628.1"> window.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.629.1">Now that the</span><a id="_idIndexMarker236"/><span class="koboSpan" id="kobo.630.1"> Game Mode has been defined, it’s time to create a </span><span class="No-Break"><span class="koboSpan" id="kobo.631.1">Game State:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.632.1">Create another C++ class that will extend from </span><strong class="source-inline"><span class="koboSpan" id="kobo.633.1">GameState</span></strong><span class="koboSpan" id="kobo.634.1"> (from the </span><strong class="bold"><span class="koboSpan" id="kobo.635.1">All </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.636.1">Classes</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.637.1"> section).</span></span></li>
<li><span class="koboSpan" id="kobo.638.1">After clicking </span><strong class="bold"><span class="koboSpan" id="kobo.639.1">Next</span></strong><span class="koboSpan" id="kobo.640.1">, name your class </span><strong class="source-inline"><span class="koboSpan" id="kobo.641.1">US_GameState</span></strong><span class="koboSpan" id="kobo.642.1"> and click the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.643.1">CreateClass</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.644.1"> button.</span></span></li>
<li><span class="koboSpan" id="kobo.645.1">Now, declare </span><strong class="bold"><span class="koboSpan" id="kobo.646.1">Game State</span></strong><span class="koboSpan" id="kobo.647.1"> inside the </span><strong class="bold"><span class="koboSpan" id="kobo.648.1">Game Mode</span></strong><span class="koboSpan" id="kobo.649.1">, so that they are interconnected </span><a id="_idIndexMarker237"/><span class="koboSpan" id="kobo.650.1">and fully functional in the level. </span><span class="koboSpan" id="kobo.650.2">To do this, open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.651.1">US_GameMode</span></strong><span class="koboSpan" id="kobo.652.1"> files by double-clicking on the corresponding icon in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.653.1">C++ Classes</span></strong><span class="koboSpan" id="kobo.654.1"> folder of the Unreal Editor. </span><span class="koboSpan" id="kobo.654.2">This will open the header and source files inside </span><span class="No-Break"><span class="koboSpan" id="kobo.655.1">your IDE.</span></span></li>
<li><span class="koboSpan" id="kobo.656.1">Declare a constructor inside </span><strong class="source-inline"><span class="koboSpan" id="kobo.657.1">US_GameMode.h</span></strong><span class="koboSpan" id="kobo.658.1"> by adding these two lines </span><span class="No-Break"><span class="koboSpan" id="kobo.659.1">of code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.660.1">
public:</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.661.1">
   AUS_GameMode();</span></pre></li>
<li><span class="koboSpan" id="kobo.662.1">Implement the constructor inside </span><strong class="source-inline"><span class="koboSpan" id="kobo.663.1">US_GameMode.cpp</span></strong><span class="koboSpan" id="kobo.664.1"> by adding this piece </span><span class="No-Break"><span class="koboSpan" id="kobo.665.1">of code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.666.1">
#include "US_GameState.h"</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.667.1">
AUS_GameMode::AUS_GameMode()</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.668.1">
{</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.669.1">
   GameStateClass = AUS_GameState::StaticClass();</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.670.1">
}</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.671.1">The previous code essentially declares the Game State class for </span><strong class="source-inline"><span class="koboSpan" id="kobo.672.1">US_GameMode</span></strong><span class="koboSpan" id="kobo.673.1"> to be the previously created </span><strong class="source-inline"><span class="koboSpan" id="kobo.674.1">US_GameState</span></strong><span class="koboSpan" id="kobo.675.1">. </span><span class="koboSpan" id="kobo.675.2">Keep in mind that this declaration can be performed also in child Blueprints; this will enable class switching through a drop-down menu in the Editor. </span><span class="koboSpan" id="kobo.675.3">Ultimately, this is a matter of personal taste as you may be more code-oriented and prefer the code solution or you may want to take advantage of the impressive interplay between native code and </span><span class="No-Break"><span class="koboSpan" id="kobo.676.1">the Editor.</span></span></p>
<p><span class="koboSpan" id="kobo.677.1">In this section, you</span><a id="_idIndexMarker238"/><span class="koboSpan" id="kobo.678.1"> have created the main</span><a id="_idIndexMarker239"/><span class="koboSpan" id="kobo.679.1"> classes that will be used by the system to handle a multiplayer session. </span><span class="koboSpan" id="kobo.679.2">At the moment, these are just empty containers waiting for some game logic to be added; be patient, we still have so many chapters to fill </span><span class="No-Break"><span class="koboSpan" id="kobo.680.1">this void!</span></span></p>
<p><span class="koboSpan" id="kobo.681.1">In the next section, you’ll be creating the classes needed to handle the character input and presence in </span><span class="No-Break"><span class="koboSpan" id="kobo.682.1">the game.</span></span></p>
<h1 id="_idParaDest-101"><a id="_idTextAnchor102"/><span class="koboSpan" id="kobo.683.1">Adding the player classes</span></h1>
<p><span class="koboSpan" id="kobo.684.1">You</span><a id="_idIndexMarker240"/><span class="koboSpan" id="kobo.685.1"> are now ready to create some more </span><a id="_idIndexMarker241"/><span class="koboSpan" id="kobo.686.1">main classes used by almost any UE game: those dedicated to managing the input from the player and showing the character in-game, along with </span><span class="No-Break"><span class="koboSpan" id="kobo.687.1">its state.</span></span></p>
<p><span class="koboSpan" id="kobo.688.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.689.1">Player Controller</span></strong><span class="koboSpan" id="kobo.690.1"> is</span><a id="_idIndexMarker242"/><span class="koboSpan" id="kobo.691.1"> responsible for managing input from the player’s input devices (such as keyboard and mouse), and for sending commands to the player’s character so it will perform the corresponding actions. </span><span class="koboSpan" id="kobo.691.2">The Player Controller class is typically used to control</span><a id="_idIndexMarker243"/><span class="koboSpan" id="kobo.692.1"> a </span><strong class="bold"><span class="koboSpan" id="kobo.693.1">Pawn</span></strong><span class="koboSpan" id="kobo.694.1"> class or </span><a id="_idIndexMarker244"/><span class="koboSpan" id="kobo.695.1">a </span><strong class="bold"><span class="koboSpan" id="kobo.696.1">Character</span></strong><span class="koboSpan" id="kobo.697.1"> class that represents the player in </span><span class="No-Break"><span class="koboSpan" id="kobo.698.1">a game.</span></span></p>
<p><span class="koboSpan" id="kobo.699.1">Finally, the </span><strong class="bold"><span class="koboSpan" id="kobo.700.1">Player State</span></strong><span class="koboSpan" id="kobo.701.1"> is a</span><a id="_idIndexMarker245"/><span class="koboSpan" id="kobo.702.1"> class that holds information about a player’s game state, such as experience points, score, and other relevant data. </span><span class="koboSpan" id="kobo.702.2">It exists on both the server and clients to ensure that all players have access to the </span><span class="No-Break"><span class="koboSpan" id="kobo.703.1">same information.</span></span></p>
<p><span class="koboSpan" id="kobo.704.1">Let’s create these </span><span class="No-Break"><span class="koboSpan" id="kobo.705.1">three classes:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.706.1">Create a C++ class extending </span><strong class="source-inline"><span class="koboSpan" id="kobo.707.1">PlayerController</span></strong><span class="koboSpan" id="kobo.708.1"> and name </span><span class="No-Break"><span class="koboSpan" id="kobo.709.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.710.1">US_PlayerController</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.711.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.712.1">Create another C++ class extending </span><strong class="source-inline"><span class="koboSpan" id="kobo.713.1">Character</span></strong><span class="koboSpan" id="kobo.714.1"> and name </span><span class="No-Break"><span class="koboSpan" id="kobo.715.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.716.1">US_Character</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.717.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.718.1">Finally, create a C++ class extending </span><strong class="source-inline"><span class="koboSpan" id="kobo.719.1">PlayerState</span></strong><span class="koboSpan" id="kobo.720.1"> and call </span><span class="No-Break"><span class="koboSpan" id="kobo.721.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.722.1">US_PlayerState</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.723.1">.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.724.1">These three </span><a id="_idIndexMarker246"/><span class="koboSpan" id="kobo.725.1">classes should be added to the Game Mode, the same way the Game State was added, but to get a bit more flexibility to our </span><strong class="source-inline"><span class="koboSpan" id="kobo.726.1">Character</span></strong><span class="koboSpan" id="kobo.727.1"> class, you’ll be creating a Blueprint from it. </span><span class="koboSpan" id="kobo.727.2">To get a Blueprint out of a newly created C++ class, you need to compile </span><span class="No-Break"><span class="koboSpan" id="kobo.728.1">the</span></span><span class="No-Break"><a id="_idIndexMarker247"/></span><span class="No-Break"><span class="koboSpan" id="kobo.729.1"> project.</span></span></p>
<p><span class="koboSpan" id="kobo.730.1">You are now going to compile your source code for the first time to check that everything has been </span><span class="No-Break"><span class="koboSpan" id="kobo.731.1">properly set.</span></span></p>
<h2 id="_idParaDest-102"><a id="_idTextAnchor103"/><span class="koboSpan" id="kobo.732.1">Compiling your source code</span></h2>
<p><span class="koboSpan" id="kobo.733.1">Compiling in</span><a id="_idIndexMarker248"/><span class="koboSpan" id="kobo.734.1"> an Unreal Engine project refers to the process of converting human-readable code written in C++ and Blueprint into executable code that the computer can understand and run – this is an essential step in the development process. </span><span class="koboSpan" id="kobo.734.2">UE provides tools to streamline the compiling process and improve the </span><span class="No-Break"><span class="koboSpan" id="kobo.735.1">development experience.</span></span></p>
<p><span class="koboSpan" id="kobo.736.1">In</span><a id="_idIndexMarker249"/><span class="koboSpan" id="kobo.737.1"> Unreal Engine, you can leverage </span><strong class="bold"><span class="koboSpan" id="kobo.738.1">Live Coding</span></strong><span class="koboSpan" id="kobo.739.1">, a feature that enables your application’s C++ code to be rebuilt and its binaries patched while the UE engine </span><span class="No-Break"><span class="koboSpan" id="kobo.740.1">is running.</span></span></p>
<p><span class="koboSpan" id="kobo.741.1">With Live Coding, you can modify C++ classes, compile them, and observe the changes taking effect while the Editor is running – all without interrupting the play-testing sessions or work in progress. </span><span class="koboSpan" id="kobo.741.2">This feature boasts enormous advantages for iterative development, especially when using C++ runtime logic such as gameplay code or frontend </span><span class="No-Break"><span class="koboSpan" id="kobo.742.1">user interactions.</span></span></p>
<p><span class="koboSpan" id="kobo.743.1">Live coding is enabled by default, and you can initiate a Live Coding build by pressing </span><em class="italic"><span class="koboSpan" id="kobo.744.1">Ctrl</span></em><span class="koboSpan" id="kobo.745.1"> +</span><em class="italic"><span class="koboSpan" id="kobo.746.1">Alt</span></em><span class="koboSpan" id="kobo.747.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.748.1">F11</span></em><span class="koboSpan" id="kobo.749.1"> on your keyboard when utilizing your IDE or </span><span class="No-Break"><span class="koboSpan" id="kobo.750.1">Unreal Engine.</span></span></p>
<p><span class="koboSpan" id="kobo.751.1">Alternatively, to start the compilation process with Live Coding disabled, you can click the </span><strong class="bold"><span class="koboSpan" id="kobo.752.1">Compile</span></strong><span class="koboSpan" id="kobo.753.1"> button at the bottom right of the Unreal Engine Editor, as depicted in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.754.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.755.1">.8</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.756.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer072">
<span class="koboSpan" id="kobo.757.1"><img alt="Figure 4.8 – The Compile button" src="image/Figure_04.8_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.758.1">Figure 4.8 – The Compile button</span></p>
<p><span class="koboSpan" id="kobo.759.1">Once the source code has been compiled, you should get a success message. </span><span class="koboSpan" id="kobo.759.2">Otherwise, you will get the usual errors or warnings from a failed compilation; in this case, it is essential to ensure</span><a id="_idIndexMarker250"/><span class="koboSpan" id="kobo.760.1"> that your code is written correctly and free </span><span class="No-Break"><span class="koboSpan" id="kobo.761.1">from errors.</span></span></p>
<p><span class="koboSpan" id="kobo.762.1">Once your project has been successfully compiled, it’s time to create a Blueprint out of your </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.763.1">Character</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.764.1"> class.</span></span></p>
<h2 id="_idParaDest-103"><a id="_idTextAnchor104"/><span class="koboSpan" id="kobo.765.1">Creating the Character Blueprint Class</span></h2>
<p><span class="koboSpan" id="kobo.766.1">As you’ll be working </span><a id="_idIndexMarker251"/><span class="koboSpan" id="kobo.767.1">on some </span><a id="_idIndexMarker252"/><span class="koboSpan" id="kobo.768.1">customization for your character later on, it’s essential to have the extra flexibility provided by a </span><span class="No-Break"><span class="koboSpan" id="kobo.769.1">Blueprint Class.</span></span></p>
<p><span class="koboSpan" id="kobo.770.1">As you have successfully compiled your code, you may expect that the classes you created will now be ready to be available in the Blueprint creation wizard. </span><span class="koboSpan" id="kobo.770.2">This is a correct assumption and you are going to test it right now. </span><span class="koboSpan" id="kobo.770.3">Let’s </span><span class="No-Break"><span class="koboSpan" id="kobo.771.1">do so:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.772.1">Navigate to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.773.1">Content</span></strong><span class="koboSpan" id="kobo.774.1"> | </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.775.1">Blueprints</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.776.1"> folder.</span></span></li>
<li><span class="koboSpan" id="kobo.777.1">Create a Blueprint Class that will inherit from </span><strong class="source-inline"><span class="koboSpan" id="kobo.778.1">US_Character</span></strong><span class="koboSpan" id="kobo.779.1"> and name </span><span class="No-Break"><span class="koboSpan" id="kobo.780.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.781.1">BP_Character</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.782.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.783.1">Save and close the Blueprint: you are not going to do anything yet </span><span class="No-Break"><span class="koboSpan" id="kobo.784.1">on it.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.785.1">This new Blueprint should be added to the Game Mode as the default Pawn to be used during a game session. </span><span class="koboSpan" id="kobo.785.2">Unfortunately, a Blueprint Class cannot be directly referenced in a C++ class. </span><span class="koboSpan" id="kobo.785.3">This means you’ll have to find it through a method called </span><strong class="source-inline"><span class="koboSpan" id="kobo.786.1">FClassFinder</span></strong><span class="koboSpan" id="kobo.787.1"> available in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.788.1">ConstructorHelpers</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.789.1">utility class.</span></span></p>
<h2 id="_idParaDest-104"><a id="_idTextAnchor105"/><span class="koboSpan" id="kobo.790.1">Adding the Player classes to the Game Mode</span></h2>
<p><span class="koboSpan" id="kobo.791.1">You are </span><a id="_idIndexMarker253"/><span class="koboSpan" id="kobo.792.1">now going to declare the newly created classes to the Game Mode. </span><span class="koboSpan" id="kobo.792.2">Let’s open again the </span><strong class="source-inline"><span class="koboSpan" id="kobo.793.1">US_GameMode.cpp</span></strong><span class="koboSpan" id="kobo.794.1"> file and add some code logic. </span><span class="koboSpan" id="kobo.794.2">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.795.1">declarations</span></strong><span class="koboSpan" id="kobo.796.1"> section, add the following block </span><span class="No-Break"><span class="koboSpan" id="kobo.797.1">of code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.798.1">
#include "US_PlayerController.h"
#include "US_PlayerState.h"
#include "US_Character.h"
#include "UObject/ConstructorHelpers.h"</span></pre>
<p><span class="koboSpan" id="kobo.799.1">This will declare all the GF classes you will be declaring, and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.800.1">ConstructorHelpers</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.801.1">utility class.</span></span></p>
<p><span class="koboSpan" id="kobo.802.1">Then, before the closing bracket of the constructor, add the following block </span><span class="No-Break"><span class="koboSpan" id="kobo.803.1">of code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.804.1">
PlayerStateClass = AUS_PlayerState::StaticClass();
PlayerControllerClass = AUS_PlayerController::StaticClass();
static ConstructorHelpers::FClassFinder&lt;APawn&gt; PlayerPawnBPClass(TEXT("/Game/Blueprints/BP_Character"));
if (PlayerPawnBPClass.Class != nullptr)
{
   DefaultPawnClass = PlayerPawnBPClass.Class;
}</span></pre>
<p><span class="koboSpan" id="kobo.805.1">As you can see, the first two lines of code declare </span><strong class="source-inline"><span class="koboSpan" id="kobo.806.1">PlayerStateClass</span></strong><span class="koboSpan" id="kobo.807.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.808.1">PlayerControllerClass</span></strong><span class="koboSpan" id="kobo.809.1"> in a similar way as you did in the previous section </span><span class="No-Break"><span class="koboSpan" id="kobo.810.1">for </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.811.1">GameStateClass</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.812.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.813.1">Meanwhile, retrieving a Blueprint reference (i.e., </span><strong class="source-inline"><span class="koboSpan" id="kobo.814.1">PlayerPawnBPClass</span></strong><span class="koboSpan" id="kobo.815.1">) from a C++ class works differently from how it works for a regular C++ class: you need to hardcode a path to your project. </span><span class="koboSpan" id="kobo.815.2">This may be not an ideal solution because files can be moved around or deleted but, well... </span><span class="No-Break"><span class="koboSpan" id="kobo.816.1">it works!</span></span></p>
<p><span class="koboSpan" id="kobo.817.1">Just keep in mind that my file path (i.e., </span><strong class="source-inline"><span class="koboSpan" id="kobo.818.1">"/Game/Blueprints/BP_Character"</span></strong><span class="koboSpan" id="kobo.819.1">) may be slightly different from yours, depending on your </span><span class="No-Break"><span class="koboSpan" id="kobo.820.1">folder organization.</span></span></p>
<p><span class="koboSpan" id="kobo.821.1">Now that the Game Mode class has been modified, click the </span><strong class="bold"><span class="koboSpan" id="kobo.822.1">Compile</span></strong><span class="koboSpan" id="kobo.823.1"> button in the </span><span class="No-Break"><span class="koboSpan" id="kobo.824.1">Unreal Editor.</span></span></p>
<p><span class="koboSpan" id="kobo.825.1">Once you get a successful result, it’s time to look at the Game Mode instance to check that everything is correct. </span><span class="koboSpan" id="kobo.825.2">To do this, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.826.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.827.1">Open the </span><strong class="bold"><span class="koboSpan" id="kobo.828.1">Project Settings</span></strong><span class="koboSpan" id="kobo.829.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.830.1">Maps &amp; </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.831.1">Modes</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.832.1"> section.</span></span></li>
<li><span class="koboSpan" id="kobo.833.1">Locate the </span><strong class="bold"><span class="koboSpan" id="kobo.834.1">Selected GameMode</span></strong><span class="koboSpan" id="kobo.835.1"> field and expand it by clicking the small arrow next </span><span class="No-Break"><span class="koboSpan" id="kobo.836.1">to it.</span></span></li>
<li><span class="koboSpan" id="kobo.837.1">Check that </span><a id="_idIndexMarker254"/><span class="koboSpan" id="kobo.838.1">the GF classes we have created are all correctly allocated, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.839.1">Figure 4</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.840.1">.9</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.841.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer073">
<span class="koboSpan" id="kobo.842.1"><img alt="Figure 4.9 – The updated default Game Mode" src="image/Figure_04.9_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.843.1">Figure 4.9 – The updated default Game Mode</span></p>
<p><span class="koboSpan" id="kobo.844.1">In this last section, you have completed the Game Mode setup by adding all the GF classes you’ll be expanding in the </span><span class="No-Break"><span class="koboSpan" id="kobo.845.1">next chapters.</span></span></p>
<h1 id="_idParaDest-105"><a id="_idTextAnchor106"/><span class="koboSpan" id="kobo.846.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.847.1">In this chapter, you were briefed about the project you’ll be developing through the rest of the book: a multiplayer stealth game involving thieves, secret treasures, and a ton of undead minions. </span><span class="koboSpan" id="kobo.847.2">The road is still long, but the Lichlord must </span><span class="No-Break"><span class="koboSpan" id="kobo.848.1">be stopped!</span></span></p>
<p><span class="koboSpan" id="kobo.849.1">After that, you were introduced to the main topics of the Unreal Engine C++ “dialect.” </span><span class="koboSpan" id="kobo.849.2">There are a lot of additional features involved and many more will be discovered throughout the rest of the book. </span><span class="koboSpan" id="kobo.849.3">One of the most exciting things is that, if things are set up properly, you won’t have to worry about memory management: Unreal Engine flawlessly handles it. </span><span class="koboSpan" id="kobo.849.4">What’s more, by adding decorations to your classes, variables, and functions, you can expose them to the Blueprint system, letting your project be more flexible and accessible to </span><span class="No-Break"><span class="koboSpan" id="kobo.850.1">non-code-oriented developers.</span></span></p>
<p><span class="koboSpan" id="kobo.851.1">Lastly, you created the main classes that will be used by your game and that extend those offered by the GF. </span><span class="koboSpan" id="kobo.851.2">Starting from the persistent GameInstance, you went to the Game Mode, and then to all the player-oriented elements. </span><span class="koboSpan" id="kobo.851.3">You now have a solid base to start developing your </span><span class="No-Break"><span class="koboSpan" id="kobo.852.1">multiplayer project.</span></span></p>
<p><span class="koboSpan" id="kobo.853.1">In the next chapter, I will guide you through the creation of the player character by presenting how to manage it in a </span><span class="No-Break"><span class="koboSpan" id="kobo.854.1">multiplayer environment.</span></span></p>
</div>
</body></html>