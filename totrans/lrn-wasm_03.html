<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Setting Up a Development Environment</h1>
                </header>
            
            <article>
                
<p class="mce-root">Now that you're familiar with the elements of WebAssembly, it's time to set up a suitable development environment. Developing with WebAssembly is tantamount to developing in C or C++. The difference lies in the build process and the output. In this chapter, we will cover the development tooling, and how to install and configure it on your system.</p>
<p class="mce-root">Our goal for this chapter is to understand the following:</p>
<ul>
<li class="mce-root">How to install the required development tooling (Git, Node.js, and Visual Studio Code)</li>
<li class="mce-root">How to configure Visual Studio Code for use with C/C++ and WebAssembly using extensions</li>
<li class="mce-root">How to set up a local HTTP server to serve up the HTML, JavaScript, and <kbd>.wasm</kbd> files</li>
<li class="mce-root">Checking your browser for WebAssembly support</li>
<li class="mce-root">What helpful tools are available to simplify and improve the development process</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing the development tooling</h1>
                </header>
            
            <article>
                
<p>You'll need to install some applications and tooling to start developing WebAssembly. We will use Visual Studio Code, a text editor, to write our C/C++, JavaScript, HTML, and Wat. We'll also use Node.js for serving up the files and Git to manage our code. We will use package managers to install these tools, which makes the installation process much simpler than downloading and installing them manually. In this section, we will cover the operating systems, as well as the package managers for each platform. We'll also review each of the applications, with a brief overview of their role in the development process.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Operating systems and hardware</h1>
                </header>
            
            <article>
                
<p class="mce-root">To ensure that the installation and configuration process goes smoothly, it's important to be aware of the operating systems I will use for the examples in this book. If you encounter an issue, it may be due to an incompatibility between the platform you're using and the one I'm using. In most cases, you shouldn't have an issue. For the sake of eliminating the OS version as a potential problem causer, I've provided details for the operating systems I'm using in the following list:</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">macOS </h1>
                </header>
            
            <article>
                
<ul>
<li class="mce-root">High Sierra, version 10.13.x</li>
<li class="mce-root">2.2 GHz Intel i7 processor</li>
<li class="mce-root">16 GB of RAM</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Ubuntu</h1>
                </header>
            
            <article>
                
<ul>
<li class="mce-root">Ubuntu 16.04 LTS running in VMware Fusion</li>
<li class="mce-root">2.2 GHz Intel i7 Processor</li>
<li class="mce-root">4 GB of RAM</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Windows</h1>
                </header>
            
            <article>
                
<ul>
<li class="mce-root">Windows 10 Pro running in VMware Fusion</li>
<li class="mce-root">2.2 GHz Intel i7 Processor</li>
<li class="mce-root">8 GB of RAM</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Package managers</h1>
                </header>
            
            <article>
                
<p class="mce-root">Package managers are tools that simplify the installation process for software. They allow us to upgrade, configure, uninstall, and search for available software from the command line without having to go to a website to download and run the installer. They also simplify the installation process for software that may have multiple dependencies or require manual configuration before use. In this section, I'll cover the package manager for each platform.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Homebrew for macOS</h1>
                </header>
            
            <article>
                
<p class="mce-root">Homebrew is an excellent package manager for macOS that allows us to install most of the tools we will use out of the box. Homebrew is as simple as pasting the following command in Terminal and running it:</p>
<pre class="mce-root"><strong>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</strong></pre>
<p class="mce-root">You'll see messages in Terminal that will walk you through the installation process. Once that's complete, you'll need to install an extension for Homebrew called <strong>Homebrew-Cask</strong> that allows you to install macOS applications without having to download the installer, mount it, and drag the application into the <kbd>Applications</kbd> folder. You can install this by running the following command:</p>
<pre class="mce-root"><strong>brew tap caskroom/cask</strong></pre>
<p class="mce-root">That's it! You're now able to install applications by running either of these commands:</p>
<pre class="mce-root"># For command line tools:<strong><br/>brew install &lt;Tool Name&gt;<br/></strong><br/># For desktop applications:<br/><strong>brew cask install &lt;Application Name&gt;</strong></pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Apt for Ubuntu</h1>
                </header>
            
            <article>
                
<p class="mce-root">Apt is the package manager provided with Ubuntu; there's no need to install it. It allows you to install both command-line tools and applications out of the box. If an application isn't available from Apt's repository, you can add a repository using the following <span>command:</span></p>
<pre class="mce-root"><strong>add-apt-repository </strong></pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Chocolatey for Windows</h1>
                </header>
            
            <article>
                
<p class="mce-root">Chocolatey is a package manager for Windows. It's similar to Apt in that it lets you install both command-line tools and applications. To install Chocolatey, you need to run the command prompt (<kbd>cmd.exe</kbd>) as an administrator. You can do this by pressing the <span class="packt_screen">Start</span> menu button, typing <span class="packt_screen">cmd</span>, and right-clicking on the <span class="packt_screen">Command Prompt</span> application and selecting <span class="packt_screen">Run as administrator</span>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/257d1dc9-7c8b-4e3e-91ff-2697e0749527.png" style="width:29.58em;height:13.58em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Running the Command Prompt as an administrator</div>
<p class="mce-root">Then just run the following command:</p>
<pre class="mce-root"><strong>@"%SystemRoot%\System32\WindowsPowerShell\v1.0\powershell.exe" -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command "iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))" &amp;amp;&amp;amp; SET "PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin"</strong></pre>
<div class="mce-root packt_tip">The easiest way to get the command text is through Chocolatey's installation page at <a href="https://chocolatey.org/install">https://chocolatey.org/install</a>. There's a button to copy the text to your clipboard under the <em>Install with</em> <em>cmd.exe</em> section. You could also install the application using PowerShell if you follow the steps on the <span class="packt_screen">Installation</span> page.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Git</h1>
                </header>
            
            <article>
                
<p class="mce-root">Git is a <strong>version control system</strong> (<strong>VCS</strong>) that allows you to track changes to files and manage work between multiple developers contributing to the same code base. Git is the VCS powering GitHub and GitLab, and is also available on Bitbucket (they also offer Mercurial, which is another VCS). Git will allow us to clone repositories from GitHub, and is a prerequisite for the EMSDK, which we'll cover in the next chapter. In this section, we will cover the installation process for Git.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing Git on macOS</h1>
                </header>
            
            <article>
                
<p class="mce-root">Git is probably already available if you're using macOS. macOS comes bundled with Apple Git, which will probably be a few versions behind the most recent version. For the purposes of this book, the version you already have installed should be sufficient. If you wish to upgrade, you can install the most recent version of Git using Homebrew by running the following commands in Terminal:</p>
<pre class="mce-root"># Install Git to the Homebrew installation folder (/usr/local/bin/git):<br/><strong>brew install git</strong><br/><br/># Ensure the default Git is pointing to the Homebrew installation:<br/><strong>sudo mv /usr/bin/git /usr/bin/git-apple</strong></pre>
<p class="mce-root">If you run this command, you should see <kbd>/usr/local/bin/git</kbd>:</p>
<pre><strong>which git</strong></pre>
<p class="mce-root">You can check to ensure that the installation was successful by running this command:</p>
<pre class="mce-root"><strong>git --version</strong></pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing Git on Ubuntu</h1>
                </header>
            
            <article>
                
<p class="mce-root">You can use <kbd>apt</kbd> to install Git; just run the following command in Terminal:</p>
<pre class="mce-root"><strong><span>sudo apt install git</span></strong></pre>
<p class="mce-root">You can check to ensure that the installation was successful by running this command:</p>
<pre class="mce-root"><strong>git --version</strong></pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing Git on Windows</h1>
                </header>
            
            <article>
                
<p class="mce-root">You can install Git using Chocolatey. Open up Command Prompt or PowerShell and run this command:</p>
<pre class="mce-root"><strong>choco install git</strong></pre>
<p class="mce-root">You can check to ensure that the installation was successful by running this command:</p>
<pre class="mce-root"><strong>git --version</strong></pre>
<div class="mce-root packt_tip">You can bypass the confirmation messages by adding a <kbd>-y</kbd> to the end of the install command (for example, <kbd>choco install git -y</kbd>). You can also opt to always skip the confirmation by entering the  <br/>
<strong><kbd>choco feature enable -n allowGlobalConfirmation</kbd></strong> command.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Node.js</h1>
                </header>
            
            <article>
                
<p class="mce-root">The official website for Node.js describes it as an asynchronous event-driven JavaScript runtime. Node is designed to build scalable network applications. We will use it in this book to serve up our files and work with them in a browser. Node.js comes packaged with <kbd>npm</kbd>, a package manager for JavaScript, which will allow us to install packages globally and access them through the command line. In this section, we'll cover the installation process for each platform using the <strong>Node Version Manager</strong> (<strong>nvm</strong>).</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">nvm</h1>
                </header>
            
            <article>
                
<p class="mce-root">We will use the <strong>long-term stable</strong> (<strong>LTS</strong>) release of Node.js (Version 8) to ensure that we're using the most stable version of the platform. We will use <kbd>nvm</kbd> to manage Node.js versions. This will prevent conflicts if you already have a higher (or lower) version of Node.js installed on your computer. <kbd>nvm</kbd> allows you to have multiple versions of Node.js installed that you can quickly switch to and isolate in the context of a single terminal window.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing nvm on macOS</h1>
                </header>
            
            <article>
                
<p class="mce-root">Run the following command in Terminal:</p>
<pre class="mce-root"><strong>brew install nvm</strong></pre>
<p class="mce-root">Follow the post-installation steps Homebrew specifies to ensure that you can start using it (you may have to restart your Terminal session). If you cleared your Terminal contents before performing the steps, you can run this command to see the installation steps again:</p>
<pre><strong>brew info nvm</strong></pre>
<p class="mce-root">You can check to ensure that the installation was successful by running this command:</p>
<pre class="mce-root"><strong>nvm --version</strong></pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Install nvm on Ubuntu</h1>
                </header>
            
            <article>
                
<p class="mce-root">Ubuntu comes bundled with<span> </span><kbd>wget</kbd>, which can retrieve files using HTTP/S and FTP/S protocols. The GitHub page for <kbd>nvm</kbd> (<a href="https://github.com/creationix/nvm">https://github.com/creationix/nvm</a>) contains the following command to install it using<span> </span><kbd>wget</kbd>:</p>
<pre class="mce-root"><strong>wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash</strong></pre>
<p class="mce-root">Once installed, restart Terminal to complete the installation. You can check to ensure that the installation was successful by running the following command:</p>
<pre class="mce-root"><strong>nvm --version</strong></pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing nvm on Windows</h1>
                </header>
            
            <article>
                
<p class="mce-root"><kbd>nvm</kbd> doesn't currently support Windows, so you're actually installing a different application named <kbd>nvm</kbd>-windows. The GitHub page for <kbd>nvm</kbd>-windows can be found at <a href="https://github.com/coreybutler/nvm-windows">https://github.com/coreybutler/nvm-windows</a>. Some of the commands are slightly different, but the installation command we run will be the same. To install <kbd>nvm</kbd>-windows, open up Command Prompt or PowerShell and run this command:</p>
<pre class="mce-root"><strong>choco install nvm</strong></pre>
<p class="mce-root">You can check to ensure that the installation was successful by running the following command:</p>
<pre class="mce-root"><strong>nvm --version</strong></pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing Node.js using nvm</h1>
                </header>
            
            <article>
                
<p class="mce-root">After installing <kbd>nvm</kbd>, you need to install the version of Node.js we will use in this book: version 8.11.1. To install it, run this command:</p>
<pre class="mce-root"><strong>nvm install 8.11.1</strong></pre>
<p class="mce-root">If you didn't have Node.js or <kbd>nvm</kbd> previously installed, it will automatically set this to your default Node.js installation, so the output of this command should be <kbd>v8.11.1</kbd>:</p>
<pre><strong>node --version</strong></pre>
<p class="mce-root"/>
<p class="mce-root">If you have existing Node.js versions installed, you can either use v8.11.1 as a default, or ensure that you run this command to use v8.11.1 when working through the examples in this book:</p>
<pre><strong>nvm use 8.11.1</strong></pre>
<div class="mce-root packt_tip">You can create a file named <kbd>.nvmrc</kbd> in the folder with your code and populate it with the contents <kbd>v8.11.1</kbd>. You can run <kbd>nvm use</kbd> within this directory and it will set the version to <kbd>8.11.1</kbd> without having to specify it.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">GNU make and rimraf</h1>
                </header>
            
            <article>
                
<p>In the <kbd>learn-webassembly</kbd> repository, the code examples use GNU Make and VS Code's Tasks feature (which we'll cover in <a href="51201d69-0a8e-45f3-bb4f-03ded5bbeb6c.xhtml">Chapter 5</a>, <em>Creating and Loading a WebAssembly Module</em>) to perform the build tasks defined throughout the book. GNU Make is an excellent cross-platform tool for automating build processes. You can read more about GNU Make at <a href="https://www.gnu.org/software/make">https://www.gnu.org/software/make</a>. Let's review the installation steps for each platform.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">GNU Make on macOS and Ubuntu</h1>
                </header>
            
            <article>
                
<p>If you're using macOS or Linux, GNU <kbd>make</kbd> should already be installed. To validate this, run the following command in Terminal:</p>
<pre><strong>make -v</strong></pre>
<p>If you see version information, you're ready to go. Skip ahead to the <em>Installing rimraf</em> section. Otherwise, follow the GNU Make installation instructions for your platform.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing GNU Make on macOS</h1>
                </header>
            
            <article>
                
<p>To install GNU Make on macOS, run the following command from Terminal:</p>
<pre><strong>brew install make</strong></pre>
<p>You can check to ensure that the installation was successful by running this command:</p>
<pre><strong>make -v</strong></pre>
<p>If you see version information, skip to the <em>Installing</em> <em>rimraf</em> section.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing GNU Make on Ubuntu</h1>
                </header>
            
            <article>
                
<p>To install GNU Make on Ubuntu, run the following command from Terminal:</p>
<pre><strong>sudo apt-get install make</strong></pre>
<p>You can check to ensure that the installation was successful by running this command:</p>
<pre><strong>make -v</strong></pre>
<p>If you see version information, skip to the <em>Installing rimraf</em> section.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing GNU make on Windows</h1>
                </header>
            
            <article>
                
<p>You can install GNU <kbd>make</kbd> on Windows using Chocolatey. Open up Command Prompt or PowerShell and run the following command:</p>
<pre><strong>choco install make</strong></pre>
<p>You may need to restart the CLI to use the <kbd>make</kbd> command. Once restarted, run the following command to validate the installation:</p>
<pre><strong>make -v</strong></pre>
<p>If you see version information, continue to the next section. If you encounter issues, you may need to download and install the setup package at <a href="http://gnuwin32.sourceforge.net/packages/make.htm">http://gnuwin32.sourceforge.net/packages/make.htm</a>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing rimraf</h1>
                </header>
            
            <article>
                
<p>Some of the build steps defined in the Makefiles or <span>VS</span> Code Tasks delete files or directories. The commands required to delete a file or folder differ based on your platform and shell. To address this issue we'll use the <kbd>rimraf npm</kbd> package (<a href="https://www.npmjs.com/package/rimraf">https://www.npmjs.com/package/rimraf</a>). Installing the package globally provides a <kbd>rimraf</kbd> command that performs the correct deletion operation for the operating system and shell.</p>
<p>To install <kbd>rimraf</kbd>, ensure that Node.js is installed and run the following command from a CLI:</p>
<pre><strong>npm install -g rimraf</strong></pre>
<p class="mce-root"/>
<p>To ensure that the installation was successful, run the following command:</p>
<pre><strong>rimraf --help</strong></pre>
<p>You should see usage instructions and a list of command line flags. Let's move on to the VS Code installation.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">VS Code</h1>
                </header>
            
            <article>
                
<p class="mce-root">VS Code is a cross-platform text editor with multiple-language support and a rich extensions ecosystem. Integrated debugging and Git support are built in, and new features are being added all the time. We're able to use it for the entire WebAssembly development process throughout the course of this book. In this section, we will cover the installation steps for each platform:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/d936d227-0ea4-44a0-8ffa-f43768420eb0.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Screenshot from Visual Studio Code's website</div>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing Visual Studio Code on macOS</h1>
                </header>
            
            <article>
                
<p>Use Homebrew-Cask to install VS Code. Run the following command in Terminal to install:</p>
<pre><strong>brew cask install visual-studio-code</strong></pre>
<p>Once it's complete, you should be able to launch it from the <kbd>Applications</kbd> folder or the Launchpad.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing Visual Studio Code on Ubuntu</h1>
                </header>
            
            <article>
                
<p>The process for installing VS Code on Ubuntu has a few extra steps, but is still relatively simple. First, download the <kbd>.deb</kbd> file from VS Code's download page (<a href="https://code.visualstudio.com/Download">https://code.visualstudio.com/Download</a>). Once the download completes, run the following commands to complete the installation:</p>
<pre># Change directories to the Downloads folder<br/><strong>cd ~/Downloads</strong><br/><br/># Replace &lt;file&gt; with the name of the downloaded file<br/><strong>sudo dpkg -i &lt;file&gt;.deb</strong><br/><br/># Complete installation<br/><strong>sudo apt-get install -f</strong></pre>
<p>If you get a missing dependency error, you can fix it by running the following command before<span> </span><kbd>sudo dpkg</kbd>:</p>
<pre class="mce-root"><strong>sudo apt-get install libgconf-2-4</strong><br/><strong>sudo apt --fix-broken install</strong></pre>
<p>You should now be able to open VS Code from the <span class="packt_screen">Launcher</span>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing VS Code on Windows</h1>
                </header>
            
            <article>
                
<p>You can install VS Code using Chocolatey. Run this command from Command Prompt or PowerShell:</p>
<pre class="mce-root"><strong>choco install visualstudiocode</strong></pre>
<p>Once installed, you can access it from the Start menu.</p>
<p class="mce-root"/>
<div class="packt_tip">You can open VS Code with the current working directory as the project by running <kbd>code .</kbd> in the CLI.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Configuring VS Code</h1>
                </header>
            
            <article>
                
<p class="mce-root">Out of the box, VS Code is a powerful text editor with a lot of great functionality. In addition to being highly configurable and customizable, it possesses an incredibly rich extensions ecosystem. We'll need to install some of these extensions so we won't need to use different editors for different programming languages. In this section, we will cover how to configure <span>VS</span> Code and which extensions to install to simplify the WebAssembly development process.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Managing settings and customization</h1>
                </header>
            
            <article>
                
<p>Customizing and configuring <span>VS</span> Code is simple and intuitive. You can manage custom settings such as editor font and tab sizes by selecting <span class="packt_screen">Code</span> | <span class="packt_screen">Preferences</span> | <span class="packt_screen">Settings</span> on macOS or <span class="packt_screen">File</span> | <span class="packt_screen">Preferences</span> | <span class="packt_screen">Settings</span> on Windows. User and workspace settings are managed separately in JSON files and auto completion is provided in case you can't remember the exact name of a setting. You can also change the themes or keyboard shortcuts by selecting the appropriate option in the <span class="packt_screen">Preferences</span> menu. The settings file is also where you can set custom settings for any extensions you install. Some settings are added by default when you install an extension, so changing them is as simple as updating and saving this file.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Extensions overview</h1>
                </header>
            
            <article>
                
<p class="mce-root">We'll need to install some extensions as part of the configuration process. There are multiple ways to find and install extensions in <span>VS</span> Code. I prefer to click on the <span class="packt_screen">Extensions</span> button (fourth button from the top in the <span class="packt_screen">Activity</span> bar on the left-hand side of the editor), enter what I'm looking for in the <span class="packt_screen">Search</span> box, and press the green <span class="packt_screen">Install</span> button for the extension I'd like to install. You could also visit the VS Code Marketplace at <a href="https://marketplace.visualstudio.com/vscode">https://marketplace.visualstudio.com/vscode</a>, search for and select an extension you'd like to install, and press the green <span class="packt_screen">Install</span> button on the extension's page. You can manage extensions through the command line as well. For more information, visit <a href="https://code.visualstudio.com/docs/editor/extension-gallery">https://code.visualstudio.com/docs/editor/extension-gallery</a>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/a4681032-4748-44a9-a937-d92678e2636f.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Installing extensions in VS Code</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Configuration for C/C++ and WebAssembly</h1>
                </header>
            
            <article>
                
<p>VS Code doesn't support C and C++ out of the box, but there is an excellent extension that allows you to work with these languages. It also doesn't support syntax highlighting for the WebAssembly text format, but there is an extension that adds that functionality as well. In this section, we will cover the installation and configuration of the <em>C/C++ for VS Code</em> and <em>WebAssembly Toolkit for VSCode</em> extensions.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing C/C++ for VS Code</h1>
                </header>
            
            <article>
                
<p>The C/C++ extension for VS Code includes several features for writing and debugging C and C++ code, such as auto completion, symbol searching, class/method navigation, line-by-line code stepping, and many others. To install the extension, search for C/C++ in the <span class="packt_screen">Extensions</span> and install the extension titled C/C++ (it's created by Microsoft) or navigate to the extension's official page at <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools</a> and press the green <span class="packt_screen">Install</span> button.</p>
<p>Once installed, you can view configuration details for the extension by selecting the extension from the <span class="packt_screen">Extensions</span> list in VS Code and selecting the <span class="packt_screen">Contributions</span> tab. This tab contains the various settings, commands, and debugger details:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/db5aeb52-94d7-4d7b-9af0-e3637e5cb4ce.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign"><em>Contributions</em> tab for the C/C++ extension</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Configuring C/C++ for VS Code</h1>
                </header>
            
            <article>
                
<p>Microsoft has an official page for the extension, which you can view at <a href="https://code.visualstudio.com/docs/languages/cpp">https://code.visualstudio.com/docs/languages/cpp</a>. This page describes, among other things, how to configure through the use of JSON files. Let's start by creating a new configuration file to manage our C/C++ environment. You can generate a new configuration file by pressing the <em>F1</em> key, typing <span class="packt_screen">C/C</span>, and selecting <span class="packt_screen">C/Cpp: Edit Configurations…</span>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/653b245b-f3a0-4fb5-bacd-9624555a6bde.png" style="width:49.50em;height:30.83em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Command Palette with C/C++ extension options</div>
<p>This will generate a new <kbd>c_cpp_properties.json</kbd> in a <kbd>.vscode</kbd> folder within your current project. The file will contain configuration options for your C/C++ compiler based on your platform, the C and C++ standards to use, and the include paths for header files. You can close this file once it's generated. We will revisit it when we configure the EMSDK.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">WebAssembly Toolkit for VSCode</h1>
                </header>
            
            <article>
                
<p>There are a few different WebAssembly extensions for VS Code currently available. I'm using the WebAssembly Toolkit for VSCode extension because it allows you to right-click on a <kbd>.wasm</kbd> file and select <span class="packt_screen">Show WebAssembly</span>, which displays the Wat representation of the file. You can install this extension through the <span class="packt_screen">Extensions</span> panel (search for WebAssembly), or from the official extension page in the VS Code Marketplace (<a href="https://marketplace.visualstudio.com/items?itemName=dtsvet.vscode-wasm">https://marketplace.visualstudio.com/items?itemName=dtsvet.vscode-wasm</a>):</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/e5df8895-859b-40c0-a647-5c7d51fd567e.png" style="width:38.50em;height:41.08em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Viewing the Wat for a <kbd>.wasm</kbd> file using the WebAssembly Toolkit for the VS Code extension</div>
<p class="mce-root"/>
<p>Once installed, you're ready to go! Now that you've got all of the required extensions, let's evaluate some optional extensions that can simplify common tasks.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Other useful extensions</h1>
                </header>
            
            <article>
                
<p>VS Code has some great extensions to improve efficiency and customize the interface. In this section, I will cover some of the extensions I have installed that simplify common tasks as well as the user interface/icon themes. You don't need to install any of these extensions for the examples in this book, but you may find some of them useful.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Auto rename tag</h1>
                </header>
            
            <article>
                
<p>This extension is incredibly helpful when working with HTML. It automatically changes the name of the closing tag if you change the tag type. For example, if you have a <kbd>&lt;div&gt;</kbd> element and you want to make it a <kbd>&lt;span&gt;</kbd>, changing the text of the opening element to <kbd>span</kbd> will update the closing element text (<kbd>&lt;/div&gt;</kbd> to <kbd>&lt;/span&gt;</kbd>):</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/94ea0207-f80b-43fd-8907-fca386c945c7.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Auto renaming tag renaming HTML tag</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Bracket pair colorizer</h1>
                </header>
            
            <article>
                
<p>This extension colorizes the brackets, braces, and parentheses in your code so you can quickly identify the opening and closing brackets. WebAssembly's text format uses parentheses extensively, so being able to determine which elements are enclosed in which list makes debugging and evaluation much simpler:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/6a7bd70b-1c52-43b9-ba23-3db2d688ca43.png" style="width:31.75em;height:21.83em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Bracket pair colorizer color matching parentheses in a Wat file</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Material Icon theme and Atom One Light theme</h1>
                </header>
            
            <article>
                
<p>There are over 1,000 icon and interface themes available on the VS Code Marketplace. I'm including the Material Icon theme and Atom One Light theme in this section because they're being used in the screenshots in this book. The Material Icon theme is incredibly popular, with over 2 million downloads, while the Atom One Light theme has over 70,000 downloads:</p>
<div class="mce-root CDPAlignCenter CDPAlign"><img src="assets/c32d88eb-7850-49c3-9ff4-84e0eb89969d.png" style="width:23.17em;height:31.00em;"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Icons in the Material Icons theme</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up for the web</h1>
                </header>
            
            <article>
                
<p>Interacting with and debugging Wasm modules will be done in the browser, which means we'll need a way to serve up a folder containing our example files. As we discussed in <a href="0b30dfc9-4624-48b6-a968-0342540d1ef5.xhtml">Chapter 2</a>, <em>Elements of WebAssembly - Wat, Wasm, and the JavaScript API</em><a href="0b30dfc9-4624-48b6-a968-0342540d1ef5.xhtml"/>, WebAssembly is integrated into the browser's JavaScript engine, but you'll need to make sure you're using a browser that supports it. In this section, we will provide instructions for cloning the book examples repository. We will also review how to quickly set up a local web server for testing and evaluating browser options to ensure that you're able to develop locally.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Cloning the book examples repository</h1>
                </header>
            
            <article>
                
<p>You may want to clone the GitHub repository now with all of the examples contained in this book. You'll definitely need to have the code available for<span> </span><a href="79019325-2d3e-452c-b680-ac90522aa4bf.xhtml"/><a href="79019325-2d3e-452c-b680-ac90522aa4bf.xhtml">Chapter 7</a>,<span> </span><em>Creating an Application from Scratch</em>, because the application's code base is too large to fit into a single chapter. Select a folder on your hard drive and run the following command to clone the repository:</p>
<pre><strong>git clone https://github.com/mikerourke/learn-webassembly</strong></pre>
<p>Once the clone process is complete, you'll find that the examples are organized by chapter. If there are several examples in a chapter, they're broken down by subfolders within the chapter folder.</p>
<div class="packt_infobox">If you're using Windows, do not clone the repository into the<span> </span><kbd>\Windows</kbd><span> </span>folder or any other folder with limited permissions. Otherwise, you will run into issues when attempting to compile the examples.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing a local server</h1>
                </header>
            
            <article>
                
<p>We will use an <kbd>npm</kbd> package, <kbd>serve</kbd>, for serving up the files. To install, simply run this command:</p>
<pre><strong>npm install -g serve</strong></pre>
<p>Once installation is completed, you can serve up the files in any folder. To ensure that it's working, let's try serving up a local folder. The code for this section is located in the <kbd>/chapter-03-dev-env</kbd> folder of the <kbd>learn-webassembly</kbd> repository. Follow these instructions to validate your server installation:</p>
<ol>
<li>First, let's create a folder that will contain the code samples we'll be working through for the remainder of the book (the examples use the name <kbd>book-examples</kbd>).</li>
<li>Launch VS Code and select <span class="packt_screen">File</span> | <span class="packt_screen">Open...</span> from the menu bar for macOS/Linux, and <span class="packt_screen">File</span> | <span class="packt_screen">Open Folder...</span> for Windows.</li>
<li>Next, select the folder, <kbd>book-examples</kbd>, and press the <span class="packt_screen">Open</span> (or <span class="packt_screen">Select Folder</span>) button.</li>
</ol>
<ol start="4">
<li>Once VS Code finishes loading, right-click within the VS Code file explorer and select <span class="packt_screen">New Folder</span> <span>from the menu and name the folder</span> <kbd>chapter-03-dev-env</kbd>.</li>
<li><span>Select the</span> <kbd>chapter-03-dev-env</kbd> <span>folder and press the</span> <span class="packt_screen">New File</span> <span>button (or</span> <em>Cmd</em>/<em>Ctrl</em> + <em>N</em><span>) to create a new file. Name the file</span> <kbd>index.html</kbd><span> and populate it with the following contents:</span></li>
</ol>
<pre style="padding-left: 60px" class="mce-root">&lt;!doctype html&gt;<br/>&lt;html lang="en-us"&gt;<br/>  &lt;title&gt;Test Server&lt;/title&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>  &lt;h1&gt;Test&lt;/h1&gt;<br/>  &lt;div&gt;<br/>    This is some text on the main page. Click &lt;a href="stuff.html"&gt;here&lt;/a&gt;<br/>    to check out the stuff page.<br/>  &lt;/div&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</pre>
<ol start="6">
<li class="mce-root">Create another file in the <kbd>chapter-03-dev-env</kbd> folder named <kbd>stuff.html</kbd> and populate it with the following contents:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root">&lt;!doctype html&gt;<br/>&lt;html lang="en-us"&gt;<br/>&lt;head&gt;<br/>  &lt;title&gt;Test Server&lt;/title&gt;<br/>&lt;/head&gt;<br/>&lt;body&gt;<br/>  &lt;h1&gt;Stuff&lt;/h1&gt;<br/>  &lt;div&gt;<br/>    This is some text on the stuff page. Click &lt;a href="index.html"&gt;here&lt;/a&gt;<br/>    to go back to the index page.<br/>  &lt;/div&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</pre>
<ol start="7">
<li class="mce-root">We will use VS Code's integrated terminal to serve up the files. You can access this by selecting <span class="packt_screen">View</span> | <span class="packt_screen">Integrated Terminal</span>, or using the keyboard shortcut <em>Ctrl</em> + <em>`</em> (the <em>`</em> is the backtick key under the <em>Esc</em> key). Once loaded, run this command to serve up the working folder:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root"><strong>serve -l 8080 chapter-03-dev-env</strong></pre>
<p class="mce-root">You should see the following:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/00cc7407-20b7-42e2-8831-9dcedd076726.png" style="width:30.33em;height:25.42em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Results of running the serve command in terminal</div>
<p><span>The <kbd>-l 8080</kbd> flag tells <kbd>serve</kbd> to serve the folder on port <kbd>8080</kbd>. </span>The first link (<kbd>http://127.0.0.1:8080</kbd>) is only accessible on your computer. Any links below that can be used to access the page from another computer on your local network. If you navigate to the first link (<kbd>http://127.0.0.1:8080/index.html</kbd>) in your browser, you should see this:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/2c6d3092-1cb0-4e6e-8aa7-436774502b04.png" style="width:32.50em;height:13.50em;"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Test page served up in Google Chrome</div>
<p>Clicking on the <span class="packt_screen">here</span> link should bring you to the <span class="packt_screen">Stuff</span> page (the address bar will show <kbd>127.0.0.1:8080/stuff.html</kbd>. If everything is working correctly, it's time to validate your browser.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Validating your browser</h1>
                </header>
            
            <article>
                
<p>To ensure that you're able to test out the examples in a browser, you need to make sure that there's a global <kbd>WebAssembly</kbd> object available. To prevent any issues related to browser compatibility, I recommend that you have either Google Chrome or Mozilla Firefox installed for development. If you had either of these browsers installed beforehand, there's a very good chance that your browser is already valid. For the sake of being thorough, we will still cover the validation process. In this section, I will review the steps you can take to ensure that your browser supports WebAssembly.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Validating Google Chrome</h1>
                </header>
            
            <article>
                
<p class="mce-root">The process for validating Chrome pretty straightforward. Select the button that looks like three vertical dots (next to the address bar) and select <span class="packt_screen"><strong>More Tools</strong></span> | <span class="packt_screen"><strong>Developer Tools</strong></span> or use the keyboard shortcut <em>Cmd</em>/<em>Ctrl</em> + <em>Shift</em> + <em>I</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/a8ed36a6-4d8f-4db0-9a43-316d02af59ee.png" style="width:34.92em;height:23.17em;"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Accessing Developer Tools in Google Chrome</div>
<p class="mce-root">Once the <span class="packt_screen">Developer Tools</span> window appears, select the <span class="packt_screen">Console</span> tab, type <kbd>WebAssembly</kbd>, and press <em>Enter.</em> If you see this, your browser is valid:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/8a26528d-e9a8-4b91-920d-52a4472250e0.png" style="width:40.75em;height:10.58em;"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Results of WebAssembly validation in Google Chrome's Developer Tools console</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Validating Mozilla Firefox</h1>
                </header>
            
            <article>
                
<p class="mce-root">The process for validating Firefox is almost identical to that for Google Chrome. Select <span class="packt_screen"><strong>Tools</strong></span> | <span class="packt_screen"><strong>Web Developer</strong></span> | <span class="packt_screen"><strong>Toggle Tools</strong></span> from the menu bar or use the keyboard shortcut <em>Cmd</em>/<em>Ctrl</em> + <em>Shift</em> + <em>I</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/ec99f38f-7129-4e8c-a154-e616dc89e593.png" style="width:34.25em;height:18.50em;"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign"><span>Accessing Developer Tools in Mozilla Firefox</span></div>
<p class="mce-root">Select the <span class="packt_screen">Console</span> tab, click inside the command input box, type <kbd>WebAssembly</kbd>, and press <em>Enter</em>. You'll see this if your version of Firefox is valid:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/a9aa4970-18d1-42f9-94fa-a572856d2b08.png" style="width:36.50em;height:20.92em;"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign"><span>Results of WebAssembly validation in Mozilla Firefox's Developer Tools console<br/></span></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Validating other browsers</h1>
                </header>
            
            <article>
                
<p>The validation process for other browsers is essentially the same; the only aspect of validation that differs across browsers is how to access the developer tools. If a <kbd>WebAssembly</kbd> object is available through the console of the browser you're using, you can use that browser for WebAssembly development.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Other tools</h1>
                </header>
            
            <article>
                
<p>In addition to the applications and tools we covered in the previous sections, there are some great tools that are free to use and rich in functionality that can greatly improve your development process. I won't have time to cover them all, but I'd like to highlight the ones I use regularly. In this section, I will briefly review some of the popular tooling and applications that are available for each platform.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">iTerm2 for macOS</h1>
                </header>
            
            <article>
                
<p>The default macOS installation includes Terminal application, Terminal, that is sufficient for use in this book. If you want a more full-featured Terminal, iTerm2 is an excellent option. It offers features such as splitting windows, extensive customization, multiple profiles, and a Toolbelt feature that can display notes, running jobs, command history, and so on. You can download the image file from the official website (<a href="https://www.iterm2.com/">https://www.iterm2.com/</a>) and install it manually, or install iTerm with Homebrew-Cask using this command:</p>
<pre><strong>brew cask install iterm2</strong></pre>
<p>Here is iTerm2 running with the Toolbelt open and multiple editor windows:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/25f36b2a-329f-46ea-b070-2f580add757f.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">ITerm instance with multiple panes and Toolbelt</div>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Terminator for Ubuntu</h1>
                </header>
            
            <article>
                
<p>Terminator is the iTerm and <kbd>cmder</kbd> of Ubuntu, Terminal emulator that allows for multiple tabs and panes within a single window. Terminator also provides features such as drag and drop, find functionality, and a wide array of plugins and themes. You can install Terminator through <kbd>apt</kbd>. To ensure that you're using the most recent version, run the following commands in Terminal:</p>
<pre><strong>sudo add-apt-repository ppa:gnome-terminator</strong><br/><strong>sudo apt-get update</strong><br/><strong>sudo apt-get install terminator<br/></strong></pre>
<p>Refer the screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/e8a7a5ed-adea-42a2-9d92-b9c55bc1a87b.png"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Terminator screenshot taken from<span> </span>http://technicalworldforyou.blogspot.com<br/>
B09984_03_17</div>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">cmder for Windows</h1>
                </header>
            
            <article>
                
<p><kbd>cmder</kbd> is a console emulator for Windows that adds a lot of functionality and features to the standard Command Prompt or PowerShell. It offers features such as multiple tabs and customizability. It allows you to open up instances of different shells within the same program. You can download and install it from the official website (<a href="https://cmder.net">cmder.net</a>) or install it with Chocolatey using this command:</p>
<pre><strong>choco install cmder</strong></pre>
<p> </p>
<p>This is how it looks: </p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/2ec1d160-3abc-4e51-9614-da686a21035e.png" style="width:39.92em;height:32.58em;"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">cmder screenshot from the official website<br/></div>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Zsh and Oh-My-Zsh</h1>
                </header>
            
            <article>
                
<p class="mce-root">Zsh is an interactive shell that improves upon Bash. Oh-My-Zsh is a configuration manager for Zsh that has a wide array of useful plugins. You can see the whole list on their website (<a href="https://github.com/robbyrussell/oh-my-zsh">https://github.com/robbyrussell/oh-my-zsh</a>). For example, if you want powerful autocomplete and syntax highlighting functionality in your CLI, there are plugins such as zsh-autosuggestion and zsh-syntax-highlighting. You can install and configure Zsh and Oh-My-Zsh on macOS, Linux, and Windows. The Oh-My-Zsh page has installation instructions as well as a list of themes and plugins.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we covered the installation and configuration process for the development tooling we will use to start working with WebAssembly. We discussed how to install Git, Node.js, and VS Code quickly and easily using a package manager for your operating systems (for example, Homebrew for macOS). The steps to configure VS Code were presented as well as the required and optional extensions you can add to enhance the development experience. We discussed how to install a local web server for testing and how to validate your browser to ensure that WebAssembly is supported. Finally, we briefly reviewed some additional tools you can install for your platform to aid in development. </p>
<p>In <a href="d03f5dbf-8b6e-49aa-96be-9bb64681be24.xhtml">Chapter 4</a>, <em>Installing the Required Dependencies</em>, we'll install the required dependencies and test out the toolchain.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Questions</h1>
                </header>
            
            <article>
                
<ol>
<li>What is the name of the package manager you should use for your operating system?</li>
<li>Does BitBucket support Git?</li>
<li>Why are we using version 8 of Node.js instead of the most recent version?</li>
<li>How do you change the color theme in Visual Studio Code?</li>
<li>How do you access the Command Palette in Visual Studio Code?</li>
<li>How do you check if your browser supports WebAssembly?</li>
<li>Which of the tools in the <em>Other tools</em> section is supported on all three operating systems?</li>
</ol>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Further reading</h1>
                </header>
            
            <article>
                
<ul>
<li>Homebrew: <a href="https://brew.sh">https://brew.sh</a></li>
<li><kbd>apt</kbd> documentation: <a href="https://help.ubuntu.com/lts/serverguide/apt.html.en">https://help.ubuntu.com/lts/serverguide/apt.html.en</a></li>
<li>Chocolatey: <a href="https://chocolatey.org">https://chocolatey.org</a></li>
<li>Git: <a href="https://git-scm.com">https://git-scm.com</a></li>
<li>Node.js: <a href="https://nodejs.org/en">https://nodejs.org/en</a></li>
<li>GNU Make: <a href="https://www.gnu.org/software/make">https://www.gnu.org/software/make</a></li>
<li>VS Code: <a href="https://code.visualstudio.com">https://code.visualstudio.com</a></li>
</ul>


            </article>

            
        </section>
    </body></html>