# 前言

Unreal Engine 4 (UE4) 是一套极其强大的技术，现在任何人都可以免费获得。从学生到大型团队，无论他们正在开发何种游戏和平台，它都提供了一种将各种应用和游戏带给公众的手段。本书的宗旨是增强使用者的信心，并将开发者的水平提升到大师级别，使任何项目中的任何问题和挑战都能得到解决。

# 本书面向的对象

对于熟悉 UE4 开发的开发者来说，这本书应被视为最佳实践、实际示例和技术主要系统的参考，它将有助于培养领导技能和信心。

# 本书涵盖的内容

第一章，*为第一人称射击游戏创建 C++项目*，是本书的起点，以及其对应的 GitHub 上的 UE4 项目。我们将从安装引擎并在 C++中构建它开始，然后添加 Unreal 为我们提供的第一个人称射击游戏模板，并在 C++中构建它，接着添加一个新的玩家类和控制。

第二章，*玩家的库存和武器*，介绍了一些游戏基础知识，并使你熟悉在编辑器中添加 C++类并将它们连接到蓝图。到本章结束时，玩家将拥有一个完全功能性的库存系统，包括拾取物品和使用新控制进行循环。

第三章，*蓝图审查和何时使用 BP 脚本*，是我们详细检查 UE4 的蓝图脚本系统及其优缺点的地方，包括在我们游戏地图中的实际应用。

第四章，*UI 需求、菜单、HUD 以及加载/保存*，迅速深入到一些更深入的主题：首先设置我们的 UI 和 HUD，并将其连接到我们的库存后，我们将深入探讨 UE4 的文件系统和其它类，以实现一个可在任何地方保存和加载的系统，并通过 UI 进行连接。

第五章，*添加敌人！*，介绍了如何导入新角色，构建并连接其整个 AI 系统，以便注意到、动画到并攻击我们的玩家。

第六章，*改变关卡、流式传输和保留数据*，解释了在 UE4 中切换地图（关卡）或利用其流式传输选项是所有游戏的必备条件。我们将花时间熟悉 Unreal 的选项，然后转到在切换地图时保留数据。我们将调整我们的加载/保存系统，以便我们的玩家可以在关卡之间持久化库存，同时保留每个地图的状态，就像它被留下时一样。

第七章，*在游戏中添加音频*，讨论了音频是游戏经常被忽视的方面，它可以决定游戏的沉浸感！在对 UE4 的主要音频系统进行概述后，我们将深入探讨基于材料的影响声音和环境效果等主题。

第八章，*着色器编辑与优化技巧*，解释了材料和它们创建的着色器可能是 Unreal 最重要的系统。在 UE4 中可能实现的视觉效果几乎是无限的，但当你使用它们时，你需要了解它们的限制和成本。我们将通过一些创建新材料和对其进行分析的实用示例，来熟悉如何优化你的着色器并适应不同的平台。

第九章，*使用 Sequencer 添加游戏内场景*，向读者介绍了 Sequencer，这是现在主要在 UE4 中使用和支持的游戏内场景工具。在制作了包含玩家和敌人 AI 的游戏场景后，我们将讨论 Sequencer 的一些替代方案。

第十章，*打包游戏（PC、移动）*，解释了如果游戏不能在其目标平台上安装和运行，那么它就不完整！在这里，我们将通过一些打包游戏和安装的示例，并讨论 UE4 在设备上启动和进行独立构建之间的差异。

第十一章，*体光贴图、雾和预计算*，解释了 UE4 提供了一大堆令人惊叹的图形系统，但它的照明在业界享有盛誉，被认为是顶级的。本章探讨了可用的某些高级照明，并解释了如何将其添加到我们的游戏中。它还涵盖了添加和修改大气和体积雾。

第十二章，*场景中的视频和视觉效果*，探讨了 UE4 的媒体框架以及它提供的一些酷炫功能。具体来说，我们将拍摄游戏早期场景的一些视频，并在游戏中作为视频文件（MP4）播放。我们还将探索 Unreal 的粒子系统和物理粒子，将这些添加到我们的投射物影响中。

第十三章，*UE4 中的虚拟现实与增强现实*，涵盖了 Unreal 不断增长的平台列表中的两个最新主要新增功能：VR 和 AR。在本章的最后，我们将创建两个独立的项目（每个一个），并修改和实现它们各自独特的功能，包括将我们的投射物从主项目移植到 AR 项目中。

# 为了充分利用这本书

对使用虚幻引擎 4（Unreal Engine 4）的基本舒适度是一个重要的起点，但这并非强制要求。本书的目标是帮助那些与这项技术合作的人达到一个水平，使他们能够足够熟悉所有方面，成为项目中的技术领导者与推动者。虽然 UE4 是一个多平台的技术集合，但 Windows PC 与 Visual Studio 是主要的开发平台。MacBook Pro 和 XCode 也被频繁使用，Android 手机（包括 GearVR）和 iOS 设备也得到了代表。

# 下载示例代码文件

您可以从[www.packt.com](http://www.packtpub.com)的账户下载本书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

您可以通过以下步骤下载代码文件：

1.  在[www.packt.com](http://www.packtpub.com/support)上登录或注册。

1.  选择“支持”选项卡。

1.  点击“代码下载与勘误”。

1.  在搜索框中输入书籍名称，并遵循屏幕上的说明。

一旦文件下载完成，请确保使用最新版本的以下软件解压或提取文件夹：

+   Windows 版的 WinRAR/7-Zip

+   Zipeg/iZip/UnRarX for Mac

+   7-Zip/PeaZip for Linux

本书代码包也托管在 GitHub 上，地址为[`github.com/PacktPublishing/Mastering-Game-Development-with-Unreal-Engine-4-Second-Edition`](https://github.com/PacktPublishing/Mastering-Game-Development-with-Unreal-Engine-4-Second-Edition)。如果代码有更新，它将在现有的 GitHub 仓库中更新。

我们还有其他来自我们丰富的书籍和视频目录的代码包可供在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

# 下载彩色图像

我们还提供了一份包含本书中使用的截图/图表彩色图像的 PDF 文件。您可以从这里下载：[`www.packtpub.com/sites/default/files/downloads/9781788991445_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/9781788991445_ColorImages.pdf)。

# 使用的约定

本书使用了许多文本约定。

`CodeInText`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“将下载的`WebStorm-10*.dmg`磁盘映像文件挂载为系统中的另一个磁盘。”

代码块设置如下：

```cpp
/** Muzzle offset */
UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = Projectile)
class USceneComponent* MuzzleLocation;
```

任何命令行输入或输出都应如下所示：

```cpp
$ mkdir css
$ cd css
```

**粗体**：表示新术语、重要单词或您在屏幕上看到的单词。例如，菜单或对话框中的单词在文本中显示如下。以下是一个示例：“从管理面板中选择系统信息。”

警告或重要注意事项看起来像这样。

小贴士和技巧看起来像这样。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**: 请通过发送电子邮件至 `feedback@packt.com` 并在邮件主题中提及书籍标题。如果您对本书的任何方面有疑问，请通过发送电子邮件至 `questions@packt.com` 与我们联系。

**勘误**: 尽管我们已经尽最大努力确保内容的准确性，错误仍然可能发生。如果您在这本书中发现了错误，如果您能向我们报告，我们将不胜感激。请访问 [www.packt.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击勘误提交表单链接，并输入详细信息。

**盗版**: 如果您在互联网上发现任何形式的我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过发送链接至 `copyright@packt.com` 与我们联系。

**如果您有兴趣成为作者**: 如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问 [authors.packtpub.com](http://authors.packtpub.com/)。

# 评论

请留下评论。一旦您阅读并使用了这本书，为何不在您购买它的网站上留下评论呢？潜在读者可以查看并使用您的客观意见来做出购买决定，Packt 公司可以了解您对我们产品的看法，我们的作者也可以看到他们对书籍的反馈。谢谢！

如需更多关于 Packt 的信息，请访问 [packt.com](https://www.packtpub.com/)。
