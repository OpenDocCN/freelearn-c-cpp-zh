<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Setting Up OpenGL</h1>
                </header>
            
            <article>
                
<p>Welcome to the world of modern OpenGL. <strong>Open Graphics Library</strong> (<strong>OpenGL</strong>) is an API that provides developers with various sets of functions that enable them to manipulate graphics and images. It is the core framework of most games today, whether it's mobile games for iOS or Android, or for other platforms, such as desktops and consoles as well. OpenGL just speaks for itself. Take a look at any sort of game you can think of, and it is doable in OpenGL. It's not just restricted to 3D; you can create 2D games as well. The 2D and 3D game engines are created using OpenGL, so it is more than capable of anything that you can think of. In this book, we will learn all the concepts necessary for 3D game development.</p>
<p>In this chapter, we'll take a look at how to set up OpenGL on Windows and Mac, using various libraries, such as GLFW, GLEW, SDL, and SFML. Our main focus for this chapter will be to understand how to download the libraries and set up OpenGL using those. While we are learning about how to set up our projects, we will also take a look at how to link these libraries to our project using absolute and relative linking.</p>
<p>The following topics will be covered in this chapter:</p>
<ul>
<li>Downloading the essential libraries</li>
<li>Setting up a project on different platforms to use the libraries </li>
<li>Creating an OpenGL rendering window using the libraries</li>
</ul>
<div class="packt_infobox">You can refer to all the code files for this chapter in the <kbd>Chapter01</kbd> folder on GitHub. The GitHub link can be found in the preface of the book.</div>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up OpenGL using GLFW and GLEW on Windows</h1>
                </header>
            
            <article>
                
<p>In this section, we'll learn how to set up OpenGL using GLFW and GLEW on your Windows system, by using Visual Studio. But, first let's understand what GLFW and GLEW are. <strong>GLFW</strong> is an <strong>OpenGL framework</strong>. It's a very lightweight framework that allows us to detect events such as keyboard input, mouse input, and other sort of inputs, but more importantly, it allows you to create a render window in which you can render your code, as OpenGL doesn't have a way of creating a rendering window, and it needs something like GLFW to create it.</p>
<p><strong>GLEW </strong>is the <strong>OpenGL Extension Wrangler,</strong> which basically allows you to use OpenGL functions that are new, or more precisely, non-core. It provides systematic mechanisms during runtime to determine which OpenGL extensions are supported on the target platform. For any new functions, you <span>essentially</span><span> </span><span>require something like OpenGL Extension Wrangler to initialize extensions and to write portable applications.</span></p>
<div class="packt_tip"><strong>First things first</strong>: For this book, it's really important that you have a good foundation in C++, as, in this book, you will be using OpenGL with C++. It's not the easiest thing, OpenGL. If this is your first time coding or you haven't been coding for long, it is recommended you get a good grasp of C++ and then continue with the book.</div>
<p>Let's begin our setup process by downloading the GLFW and GLEW libraries.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Downloading the essential libraries</h1>
                </header>
            
            <article>
                
<p>Let's get started with the setup, by performing below mentioned steps:</p>
<ol>
<li>First of all, we will need Visual Studio. You might <span>have</span><span> </span><span>already installed it. If you did, it's fantastic. If not, go to </span><a href="https://visualstudio.microsoft.com/"><span class="URLPACKT">https://visualstudio.microsoft.com/</span></a><span>, go to</span> <span class="packt_screen">Downloads</span><span>, and then click to download the</span> <strong>Visual Studio Community 2017</strong> v<span>ersion. Then, follow the instructions and install Visual Studio onto your system. Once you've got that installed, you just want to make sure it's set up for the C++ environment.</span></li>
</ol>
<div class="packt_tip">If you have the <em>Pro</em> version, that's fantastic, but the <em>Community</em> version will more than suffice.</div>
<ol start="2">
<li>Next, we will download the <strong>OpenGL Extension Wrangler</strong> library. Visit <a href="http://glew.sourceforge.net/"><span class="URLPACKT">http://glew.sourceforge.net/</span></a>, and then click on the <span class="packt_screen">Binaries</span> option to download the 32-bit or 64-bit version files, as per your system requirements:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/830addd0-96fa-4d3d-b2e3-a36f9e28391d.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Downloading binaries for GLEW</div>
<p style="padding-left: 60px">After downloading, just unzip the file and put it somewhere you find feasible to access, because for this project, and any other projects that you create, it will reference that directory. So, you don't want to be moving it around because then you will have to redo the settings for your project. For this project, it's recommended that you create a folder called <kbd>OpenGL</kbd> in your <kbd>C:</kbd> drive and place all the downloaded libraries in it. This will help you with easy access to the libraries while you are linking those to your project.</p>
<div class="packt_tip">When you extract the files, they won't be named nicely and you might find it confusing to view with all the version numbers and stuff. Therefore, to take off any versioning text, it's better that you rename the folders to something as simple as <kbd>GLEW</kbd> and <kbd>GLFW</kbd>. It's neat this way, you can easily know what you're doing, and it makes it a lot easier to see things.</div>
<ol start="3">
<li>Once you have done that, we will move on to downloading <strong>OpenGL framework</strong> library files<strong>.</strong> Go to <a href="http://www.glfw.org/">http://www.glfw.org/</a> and click on the <span class="packt_screen">Download</span> menu. We will want to download the precompiled binaries for Windows. As seen in the following screenshot, select and click to download either the 32-bit or 64-bit version as per your system requirements:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/8b277b53-926f-4b48-8dcb-1045e7a46a0d.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Downloading binaries for GLFW</div>
<div class="packt_infobox"><strong>Note</strong>: Even if you know you need to download the 64-bit version for developing on a 64-bit machine, try to stick with the 32-bit version, because unless you think your game or your application is going to be using more than 4 GB of memory, the 32- bit version will more than suffice and it will help you in maximizing compatibility.</div>
<p>Once you've downloaded the file, unzip it and, as mentioned before, place it in the <kbd>GLFW</kbd> folder inside the <kbd>OpenGL</kbd> folder.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Linking GLFW and GLEW libraries with absolute linking</h1>
                </header>
            
            <article>
                
<p>After we have downloaded all the necessary files, we will set up the environment in Visual Studio for OpenGL using the GLFW and GLEW libraries. Follow these steps:</p>
<ol>
<li>Open Visual Studio, and then click on <span class="packt_screen">Create new Project...:</span></li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/88ae17c4-4206-4b18-acca-895ca75304d5.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Visual Studio start page</div>
<ol start="2">
<li>Then, go to <span class="packt_screen">Visual C++ | Windows Desktop | Windows Console Application</span> and name your project <kbd>GLFWOpenGL</kbd>, as seen in the following screenshot, and then click <span class="packt_screen">OK:</span></li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-342 image-border" src="assets/b3d8c2c9-862a-4a59-8c3b-af8163d86a6a.png" style=""/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Creating a new project</div>
<div class="packt_tip">If you don't see the <span class="packt_screen">Visual C++</span> option in the <span class="packt_screen">New Project</span> window, you might need to download Visual C++. For more information, you can visit the following link:<br/>
<a href="https://docs.microsoft.com/en-us/cpp/build/vscpp-step-0-installation"><span class="URLPACKT">https://docs.microsoft.com/en-us/cpp/build/vscpp-step-0-installation</span></a></div>
<ol start="3">
<li>Now, right-click on the project in the <span class="packt_screen">Solution Explorer</span> window. Go to <span class="packt_screen">Add | New Item</span>, and you will get an <span class="packt_screen">Add New Item</span> window. Select <span class="packt_screen">C++ File</span>, as this will be our main file, and let's name it <kbd>main.cpp</kbd> and then click on the <span class="packt_screen">Add</span> button.</li>
</ol>
<ol start="4">
<li>Next, right-click on the project in the <span class="packt_screen">Solution Explorer</span> window<strong>.</strong> Click on <span class="packt_screen">Properties</span><strong>.</strong></li>
<li>A <span class="packt_screen">Property Pages</span> window will pop up; click on <span class="packt_screen">C/C++ </span>| <span class="packt_screen">General</span> and then go to <span class="packt_screen">Additional Include Directories</span>. Click on the dropdown, then click on <span class="packt_screen">&lt;Edit&gt;</span>, and you will get a pop up window as follows:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-326 image-border" src="assets/e9655980-1d3c-4e4c-a6ce-bfc0925416f7.png" style=""/></div>
<div class="packt_figure CDPAlignCenter CDPAlign packt_figref">Adding include directories</div>
<ol start="6">
<li>As highlighted in the preceding screenshot, click on the new button and then click on the three dots. And now, browse to the <kbd>GLEW</kbd> folder inside the <kbd>OpenGL</kbd> folder. Select the <kbd>include</kbd> folder and then click on the <span class="packt_screen">Select Folder</span> button. Next, we repeat the same process to add the GLFW library to our project. Once we have included both the libraries, click on the <span class="packt_screen">OK</span> button.</li>
</ol>
<ol start="7">
<li>Now, again in the <span class="packt_screen">Property Pages</span> window, we'll go to <span class="packt_screen">Linker | General</span>, and then go to <span class="packt_screen">Additional Library Directories</span>. Click on the dropdown, then click on <span class="packt_screen">&lt;Edit&gt;</span>, and you will get a pop-up window, as follows:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/5f823447-dc01-40ae-8246-5f533d7f7ab9.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Adding libraries</div>
<ol start="8">
<li>As highlighted in the preceding screenshot, click on the new button and then click on the three dots. Now, browse to the <kbd>OpenGL</kbd> folder where you have downloaded the GLEW files. Open the <kbd>lib</kbd> folder inside the <kbd>GLEW</kbd> folder, then double-click on the <kbd>Release</kbd> folder, select <kbd>Win32</kbd>, and then click on the <span class="packt_screen">Select Folder</span> button.</li>
<li>Repeat the same process to include GLFW libraries. But for GLFW, you've got a bunch of different libraries that you could choose from. For our project, it's best that we select the <kbd>lib-vc2015</kbd> folder. Once you have added both the libraries, click on the <span class="packt_screen">OK</span> button.</li>
</ol>
<div class="packt_tip">There are a bunch of other versions of libraries that you can choose for GLFW. So, if you have an older version of Visual Studio, you can select the library for that particular version.</div>
<ol start="10">
<li>Next, we'll go to <span class="packt_screen">Linker</span> <strong>|</strong> <span class="packt_screen">Input</span>, and then go to <span class="packt_screen">Additional Dependencies</span><strong>.</strong> Click on the dropdown, and then click on <span class="packt_screen">Edit.</span> What we'll do here is type <kbd>opengl32.lib</kbd> in the textbox, as seen highlighted in the following screenshot. <kbd>opengl32.lib</kbd> is the library built into the operating system. Next, we'll type <kbd>glew32s.lib</kbd>. This is the static library and it will be statically linked to your project. If you don't want to statically link it, you can just remove the <kbd>s</kbd> from the suffix; it is up to you. Next, we'll type <kbd>glfw3.lib</kbd>, and then click on the <span class="packt_screen">OK</span> button:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-331 image-border" src="assets/187c8c8e-2a72-4a5c-9bd1-22af4d437e37.png" style=""/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Adding additional dependencies</div>
<ol start="11">
<li>Then, click on the <span class="packt_screen">Apply</span> button.</li>
</ol>
<p>In the preceding section, we discussed how to download the essential libraries and how to link them up to our project with absolute linking.</p>
<p>In the following section, we'll study how to link these libraries to our project with relative linking, and we'll also learn about how relative linking is beneficial for us. You can use either one of them to link the libraries to your project; it's your choice.  </p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Linking GLFW and GLEW libraries with relative linking</h1>
                </header>
            
            <article>
                
<p>In this section, we'll take a look at how to set up OpenGL using GLFW as the provider to create a render window with relative linking. In the previous section, we discussed absolute linking, So, let's just have a quick overview of what absolute and relative linking actually are.</p>
<p>Absolute linking is a process where you specifically link your libraries to the project. For example, if you create a project and you are linking up libraries like GLFW and GLEW, while linking them up, you specifically put in the paths of the directory they are in. If they're in the <kbd>C:</kbd> drive, you would actually put the explicit directory. But, if you move the library files to any other location, then you would have to update your Visual Studio project with the changed path.</p>
<p>With relative linking, the libraries are actually linked, but relative to the project. So, you don't say libraries are in the <kbd>C:</kbd> drive; rather, you say those relatively link to your project from a particular folder. So even if you move your libraries, it won't affect your project. It is a great method for transporting the project from one machine to an other. This method of development is preferable when you're working on a platform that doesn't really have a good visual editor; for example, platforms, such as Unity or Unreal.</p>
<p>So, let's get started with relatively linking our libraries and creating an OpenGL render window. Let's open up Visual Studio and follow these steps:</p>
<ol>
<li> Click on <span class="packt_screen">Create new project...</span> and go to <span><span class="packt_screen">Visual C++</span></span> | <span><span class="packt_screen">Windows Desktop</span></span> | <span><span class="packt_screen">Windows Console Application</span></span>. Name the project <kbd>GLApp</kbd> (since we are learning how to relatively link the libraries, we've created a different project).</li>
<li>Then, in the <span class="packt_screen">New Project</span> <span>window, click on the </span><span class="packt_screen">Browse...</span> <span>button. Go to the</span> <kbd>OpenGL</kbd> <span>folder that we've created on the desktop (we are using this folder structure format to understand relative linking). Just select the folder and then click</span> <span class="packt_screen">OK</span><span>.</span></li>
</ol>
<ol start="3">
<li>One more thing you need to do before starting the project is to create a folder called <kbd>External Libraries</kbd><span> within the</span> <kbd>OpenGL</kbd> <span>folder on desktop where you have saved your project. Extract the library files for GLEW and GLFW in the</span> <span><kbd>External Libraries</kbd> folder</span><span>. </span></li>
</ol>
<ol start="4">
<li>Now, we'll right-click on the project in the <span class="packt_screen">Solution Explorer</span> window. Go to <span class="packt_screen">Add | New Item</span>. Select <span class="packt_screen">C++ File</span> and name it <kbd>main.cpp</kbd>, and then click on the <span class="packt_screen">Add</span> button.</li>
<li>Next, right-click on the project in the <span class="packt_screen">Solution Explorer</span> window and go to <span class="packt_screen">Properties</span><strong>.</strong></li>
<li>A <span class="packt_screen">Property Pages</span> window will pop up; click on <span class="packt_screen">C/C++ </span>| <span class="packt_screen">General</span> and then go to <span class="packt_screen">Additional Include Directories</span>. In it, click on the dropdown and then click on <span class="packt_screen">&lt;Edit&gt;</span>:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-332 image-border" src="assets/8361ca7f-6d2d-4b88-b42a-810156941d47.png" style=""/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Adding include directories</div>
<ol start="7">
<li>Then, click on the new button. As we are doing relative linking in this section, we won't click on the three dots. Clicking on them is for absolute linking only, as we have to browse to the directory where we have stored the libraries.</li>
<li>In the textbox highlighted in the preceding screenshot, type <kbd>$(SolutionDir)</kbd>; this command refers to the folder that contains our <kbd>.sln</kbd> file. So if we were to specify a folder in the path, whenever we do something new in the project it'd be relatively linked to wherever that file is located.</li>
<li>To include the files in our project, add the paths as shown in the following screenshot and then click on the <span class="packt_screen">OK</span> button:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-333 image-border" src="assets/5456ccb6-2bdb-49e1-b290-2b6089f690f4.png" style=""/></div>
<ol start="10">
<li>Next, we'll link up the libraries. So, in the <span class="packt_screen">Property Pages</span> window, we'll go to <span class="packt_screen">Linker | General</span>, and then go to <span class="packt_screen">Additional Library Directories</span>. Click on the dropdown, click on <span class="packt_screen">Edit</span>, and then click on <span class="packt_screen">New</span>. Add the paths as shown in the following screenshot, and then click <span class="packt_screen">OK</span> and then <span class="packt_screen">Apply:</span></li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-334 image-border" src="assets/f37e282c-4382-40fb-b033-9f6f5b184950.png" style=""/></div>
<ol start="11">
<li>Now, we've got one more thing to do, and that is to link up the <kbd>.lib</kbd> files. So, go to <span class="packt_screen">Linker</span> <strong>|</strong> <span class="packt_screen">Input</span>, and then go to <span class="packt_screen">Additional Dependencies</span>. Click on the dropdown and then click on <span class="packt_screen">&lt;Edit&gt;</span>. Now, in the textbox, just type <kbd>opengl32.lib</kbd>. This library file isn't downloaded with <kbd>GLFW</kbd> or <kbd>GLEW</kbd>; it's built into Windows. Next, on a new line, just type <kbd>glew32s.lib</kbd> and now for <kbd>GLFW lib-vc2015</kbd>, type <kbd>glfw3.lib</kbd>. Then, click <span class="packt_screen">OK</span> and click on the <span class="packt_screen">Apply</span> button.</li>
</ol>
<p>Whichever linking process you are comfortable with, you can follow that. With either of the methods that you use to link the libraries, there's one last step that we need complete before we can begin with coding, and that is to copy and paste the dynamic link library into our project.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding a dynamic link library to the project</h1>
                </header>
            
            <article>
                
<p>Let's take a look at these steps and understand how to add a <strong>dynamic link library</strong> (<strong>dll</strong>) to our project:</p>
<ol>
<li>Go to the <kbd>OpenGL</kbd> folder on the <kbd>C:</kbd> drive; in it, go to the <kbd>GLEW</kbd> folder, open it and go to <kbd>bin</kbd>, double-click on it, and then go to <kbd>Win32</kbd> and open it. Then, copy the <kbd>glew32.dll</kbd> dynamic link library, as highlighted in the following screenshot:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-341 image-border" src="assets/270e2c17-a2fe-4c72-b5ec-06577d134b97.png" style=""/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">glew32.dll dynamic link library</div>
<ol start="2">
<li>Do as mentioned in the previous step to add the GLFW <kbd>.dll</kbd> files to your project </li>
<li>Now, go to the location in your system where the <kbd>main.cpp</kbd> file of your project is, and paste the copied dynamic link library file there.</li>
</ol>
<p>With this last step, we have completed the setup for OpenGL and have also absolutely or relatively linked the libraries to our project. We are now ready to write code for the OpenGL rendering window.</p>
<p>In the preceding section, we discussed how to set up OpenGL on a Windows platform. But, what if any of you are working on a Mac system? Therefore, let's check out how we can download the libraries and set up OpenGL on the Mac platform.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up OpenGL using GLFW on a Mac</h1>
                </header>
            
            <article>
                
<p>Here's what we've discussed so far, we discussed about how to set up our project to use GLFW library on Windows. In this section, we'll discuss how to set up OpenGL on a Mac system. So, let's get started.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Downloading the GLFW and GLEW libraries for a Mac</h1>
                </header>
            
            <article>
                
<p>To download and install the essential libraries onto your Mac system, we'll have to install a package manager for Mac known as <strong>Homebrew</strong>. Homebrew will help us in installing all the necessary packages and libraries to run our OpenGL code.</p>
<p>To install Homebrew, go to <a href="https://brew.sh/">https://brew.sh/</a>, copy the path highlighted in the following screenshot, paste it into your Terminal, and then hit <em>Enter</em>. The prompt will download and install Homebrew on your system:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img src="assets/58bf7a73-26b8-43c0-ab1f-b636eef0f0ab.png"/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Path on Homebrew homepage</div>
<p>Once we've installed Homebrew, we'll download the GLFW and GLEW libraries onto our system<span>. Let's install GLFW first. To do that, we need to type the following command</span><span> </span><span>in the</span><span> </span><span>Terminal</span><span> </span><span>window</span><span>:</span></p>
<pre><strong>brew install glfw3</strong> </pre>
<p>In the preceding command, you must have observed we've included the number <kbd>3</kbd>; the reason for that is that if you just type <kbd>glfw</kbd>, it installs an older version, which we don't want, so inserting <kbd>glfw3</kbd> will install the latest version. Hit <em>Enter</em> and the libraries will be downloaded onto your system.</p>
<p>Now, we're going to do the same process for GLEW; type the following command in the Terminal:</p>
<pre><strong>brew install glew </strong> </pre>
<p>We don't need to put any version for this; just press <em>Enter</em> and the necessary files will be downloaded. That's it for the libraries to download onto our system.</p>
<div class="packt_infobox">Make a note that, since we're installing the libraries on the system itself and not in our project, whenever you move your project to a different system, you will have to install these libraries onto that particular system.</div>
<p>Once we've downloaded and installed all the essential libraries with the help of Homebrew, we'll now move on to setting up Xcode for OpenGL.</p>
<div class="packt_tip">Make sure Xcode is installed on to your system. If not, please follow these instructions and install it on your system.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up Xcode for OpenGL</h1>
                </header>
            
            <article>
                
<p>In this section, we'll discuss how to set up Xcode to run our OpenGL code. Follow these steps and carry out the setup process:</p>
<ol>
<li>Open up Xcode and click on the <span class="packt_screen">Create a new Xcode project</span> option.</li>
<li>Go to <span class="packt_screen">OS X</span> | <span class="packt_screen">Application</span>, select <span class="packt_screen">Command Line Tool</span>, and then click <span class="packt_screen">Next.</span></li>
<li>You will get the following window; fill in the necessary details, as highlighted in the following screenshot:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-340 image-border" src="assets/469677e3-c2a5-46bc-82b8-7b80d378c121.png" style=""/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Basic details for a project</div>
<ol start="4">
<li>In the preceding screenshot, make sure that the <span class="packt_screen">Language</span> option is always set to <strong>C++</strong>, and then click <span class="packt_screen">Next</span>. The <span class="packt_screen">Organization Name</span> and <span class="packt_screen">Organization identifier</span> properties, you can set to whatever you want.</li>
<li>Next, set the location you would like to store and save the project to. Then, click on the <span class="packt_screen">Create</span> button. Next, we have just a plain C++ project ready. Before we begin with our code, we need to follow a few more steps necessary to set up our project.</li>
<li>First of all, in Xcode, click on your project and go to <span class="packt_screen">Build Settings</span>. In <span class="packt_screen">Build Settings</span>, go to the <span class="packt_screen">Search Paths</span> section and click on <span class="packt_screen">Header Search Paths</span>.Then, click on <span class="packt_screen">+</span> and type <kbd>/usr/local/include</kbd>. This will allow us to <kbd>#include</kbd> GLEW and GLFW in our <kbd>main.cpp</kbd> file.</li>
<li>Now go to <span class="packt_screen">Build Phases</span>, then click on <span class="packt_screen">Link Binary With Libraries</span>, and click the <span class="packt_screen">+</span> button. Type <kbd>opengl</kbd> in the search bar, select <span class="packt_screen">OpenGL.framework</span>, and then click on the <span class="packt_screen">Add</span> button.</li>
</ol>
<ol start="8">
<li>Again click on the <span class="packt_screen">+</span> button, then click on <span class="packt_screen">Add Other...</span>. Now, press <em>Cmd</em> + <em>Shift</em> + <em>G</em>, and it will open up a <kbd>go-to</kbd> folder search bar. In it, type <kbd>/usr/local</kbd>. Then click on <span class="packt_screen">Cellar</span>, go to the <span class="packt_screen">glew</span> | <span class="packt_screen">lib</span> folder, select <kbd>libGLEW.1.12.0.dylib</kbd> without the little arrow, and then click <span class="packt_screen">Open.</span></li>
</ol>
<div class="packt_tip">The arrow is just a shortcut, an alias, and we don't want that. We also don't want the MX version, just the regular <kbd>.dy</kbd> non-alias lib.</div>
<ol start="9">
<li>Click <span class="packt_screen">+</span> again, then click <span class="packt_screen">Add Other...</span> , press <em>Cmd</em> + <em>Shift</em> + <em>G</em>, and type <kbd>/usr/local</kbd>. Now go to <span class="packt_screen">Cellar</span>, and go to <span class="packt_screen">glfw</span> | <span class="packt_screen">lib</span>. Select the non-alias <kbd>libglfw3.3.1.dylib</kbd> and click <span class="packt_screen">Open</span>.</li>
</ol>
<p>With all the steps executed, our project is now set up to use GLEW and GLFW with OpenGL on Mac. We can now go to <span>the </span><kbd>main.cpp</kbd> file on Xcode and start writing our code for creating the OpenGL rendering window.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating the OpenGL rendering window using GLFW</h1>
                </header>
            
            <article>
                
<p>Let's go to our <kbd>main.cpp</kbd> file in Visual Studio or Xcode, and let's get started. Start typing the following code in your editor: </p>
<ol>
<li>Begin by adding some header files to our code:</li>
</ol>
<pre style="padding-left: 60px">#include &lt;iostream&gt; 
 
// GLEW 
#define GLEW_STATIC 
#include &lt;GL/glew.h&gt; 
 
// GLFW 
#include &lt;GLFW/glfw3.h&gt; </pre>
<p style="padding-left: 60px"><kbd>iostream</kbd> is just the input/output stream built into C++. Then, with <kbd>GLEW_STATIC</kbd>, we statically linked GLEW. If you don't want to statically link it, just omit the <kbd>#define</kbd> line.</p>
<p class="mce-root"/>
<ol start="2">
<li>Next, we'll create some constants, and these will be used to store the width and height of our window:</li>
</ol>
<pre style="padding-left: 60px">// Window dimensions 
const GLint WIDTH = 800, HEIGHT = 600; </pre>
<p style="padding-left: 60px">You might be thinking, why are we using <kbd>GLint</kbd> instead of a regular <kbd>int</kbd>? The reason for that is the issues with a regular <kbd>int</kbd> on different operating systems; for example, in a different compiler, it might have a different length. With <kbd>GLint</kbd>, it is consistent on any compiler, so this is a great way of ensuring maximum compatibility.</p>
<ol start="3">
<li>Now, we'll set up our main entry point with <kbd>int main</kbd> and then we'll initialize GLFW:</li>
</ol>
<pre style="padding-left: 60px">// The MAIN function, from here we start the application and run the game loop 
int main() 
{ 
   // Init GLFW 
   glfwInit(); </pre>
<ol start="4">
<li>Next, we'll set up some window hints, which are essentially some properties that we'll set for our window:</li>
</ol>
<pre style="padding-left: 60px">// Set all the required options for GLFW 
glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3); 
glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3); </pre>
<p style="padding-left: 60px">The reason we choose 3.3 is because after <span>version</span><span> 3.1, the code was deprecated in the old</span> version<span> of OpenGL. This was done to prohibit developers from using the older version of OpenGL. Since 3.3, the OpenGL version matches the shader version. So for 3.3, the OpenGL shader language version is also 3.3; it helps in keeping things consistent, neat, and tidy. But if you need a new feature, feel free to use something like 4.3.</span></p>
<ol start="5">
<li>Next, we'll type in some more window hints:</li>
</ol>
<pre style="padding-left: 60px">glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE); </pre>
<p style="padding-left: 60px">In this project, we'll be using <kbd>CORE_PROFILE</kbd>. Actually, there are two main profiles that are available: the core profile and the compatibility profile, <kbd>COMPAT_PROFILE</kbd>. The reason we are using <kbd>CORE_PROFILE</kbd> in our project is that <kbd>CORE_PROFILE</kbd> uses the new OpenGL stuff, whereas the compatibility profile uses the old way of doing things, thus ensuring maximum compatibility. You probably might be thinking even if it ensures maximum compatibility, why is it recommended not to use <kbd>COMPAT_PROFILE</kbd>? The reason for that is in this book you're learning OpenGL in general, so we don't want to learn the old, outdated way of doing things. Rather, we want to learn the new, modern OpenGL using vertex objects and vertex arrays to actually store stuff on a graphics card. So if you use the compatibility mode, you're just getting into bad practices when using stuff like <kbd>glBegin</kbd>. So, that is the reason why we are setting it to the core profile.</p>
<ol start="6">
<li>Once we've set the profile, we set the window hint to get forward compatibility:</li>
</ol>
<pre style="padding-left: 60px">glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE); </pre>
<p style="padding-left: 60px">This window hint is actually required in macOS because otherwise it will crash, but there's no harm in having it on Windows as well.</p>
<ol start="7">
<li>In <kbd>WindowHint</kbd>, we'll set <kbd>GLFW_RESIZABLE</kbd>, and we'll set this to <kbd>FALSE</kbd> so that it prevents the window from being resized. If you want it to be resized, just set it as <kbd>TRUE</kbd>:</li>
</ol>
<pre style="padding-left: 60px">glfwWindowHint(GLFW_RESIZABLE, GL_FALSE); </pre>
<ol start="8">
<li>Next, we're going to create our window. For that, we'll add the following code:</li>
</ol>
<pre style="padding-left: 60px">// Create a GLFWwindow object that we can use for GLFW's functions 
GLFWwindow *window = glfwCreateWindow(WIDTH, HEIGHT, "LearnOpenGL", nullptr, nullptr); </pre>
<p style="padding-left: 60px">In the preceding code, we call the values of the variables <kbd>WIDTH</kbd> and <kbd>HEIGHT</kbd>. These terms define the window's size and <kbd>"LearnOpenGL"</kbd> sets the title of our window. The window and the monitor variables are defined as null pointers and we'll deal with those in later chapters.</p>
<ol start="9">
<li>Next, we'll define variables for our screen's width and height because this will be the actual resolution that we want the window set to:</li>
</ol>
<pre style="padding-left: 60px">int screenWidth, screenHeight; </pre>
<p style="padding-left: 60px">Then, in the following line of code with <kbd>glfwGetFramebufferSize</kbd>, we pass the references to the screen width and the screen height:</p>
<pre style="padding-left: 60px">glfwGetFramebufferSize( window, &amp;screenWidth, &amp;screenHeight ); </pre>
<p style="padding-left: 60px">What this line of code actually does is it gets the actual width of the screen window itself, relative to the density of the screen. You could effectively omit these lines when you create an OpenGL viewport and just use <kbd>screenWidth</kbd> and <kbd>screenHeight</kbd> values only. But if you have something like a Mac or a Retina Mac, which is not natively 1920 x 1080, or, for example, a higher-density screen with a resolution like 3840 x 2160, the window would just get messed up. The content would be displayed in either the bottom-left of the screen or in the top-left. The previous line of code helps us in getting the actual width and height of our window, relative to any pixel density changes. So it's recommended to have it, as it will ensure maximum compatibility in the future, as more and more high resolution screens are coming out.</p>
<ol start="10">
<li>Now, we would want to check the window was created successfully, and we'll do that as follows:</li>
</ol>
<pre style="padding-left: 60px">if (nullptr == window) 
{ 
       std::cout &lt;&lt; "Failed to create GLFW window" &lt;&lt; std::endl; 
       glfwTerminate(); 

       return EXIT_FAILURE; 
} </pre>
<p style="padding-left: 60px">In the preceding code, we check the <kbd>nullptr == window</kbd> <span>condition</span><span> </span><span>and we let the user know that something has gone wrong. Then, we just terminate anything that has been initialized with</span> <kbd>glfwTerminate();</kbd><span>, and finally exit:</span></p>
<pre style="padding-left: 60px">glfwMakeContextCurrent(window); </pre>
<ol start="11">
<li>Next, we need to enable GLEW and we'll do that as follows:</li>
</ol>
<pre style="padding-left: 60px">// Set this to true so GLEW knows to use a modern approach to retrieving function pointers and extensions 
   glewExperimental = GL_TRUE; </pre>
<p style="padding-left: 60px">Looking at <kbd>glewExperimental</kbd> in the code, you might wonder are we using experimental features? And, why have we to set it to <kbd>TRUE</kbd>? The reason for that is GLEW knows to use a modern approach to retrieve functions, pointers, and extensions. Basically, it's just a way of saying we're using GLEW the new and the modern way, but it's not necessarily an experimental function.</p>
<ol start="12">
<li>Then, we're going to initialize GLEW and make sure it's successfully initialized in one go:</li>
</ol>
<pre style="padding-left: 60px">// Initialize GLEW to setup the OpenGL Function pointers 
if (GLEW_OK != glewInit()) 
{ 
      std::cout &lt;&lt; "Failed to initialize GLEW" &lt;&lt; std::endl; 
      return EXIT_FAILURE; 
} </pre>
<div class="packt_tip">You can also use <kbd>return -1</kbd> instead of <kbd>return EXIT_FAILURE;</kbd> for Xcode.</div>
<ol start="13">
<li>Next, we'll set up the OpenGL viewport:</li>
</ol>
<pre>   // Define the viewport dimensions 
   glViewport(0, 0, screenWidth, screenHeight); </pre>
<p style="padding-left: 60px">What we did in the preceding line of code is that we set the initial coordinates from 0, 0 to <kbd>screenWidth</kbd> and <kbd>screenHeight</kbd>. The values that you'll retrieve here will be an accurate representation of what our window is relative to the screen, as you might have a higher or a lower pixel density screen.</p>
<ol start="14">
<li>So now that we have set up the view port, we'll create our game loop:</li>
</ol>
<pre style="padding-left: 60px">// Game loop 
while (!glfwWindowShouldClose(window)) 
{ 
       // Check if any events have been activiated (key pressed, <br/>       //mouse moved etc.) and call corresponding response functions 
       glfwPollEvents(); 
 
       // Render 
       // Clear the colorbuffer 
       glClearColor(0.2f, 0.3f, 0.3f, 1.0f); 
       glClear(GL_COLOR_BUFFER_BIT); 
 
      // Draw OpenGL 
 
 
      glfwSwapBuffers(window); 
} </pre>
<p class="mce-root"/>
<p style="padding-left: 60px">In the preceding code, we created a <kbd>While</kbd> loop and initialized it to check whether the window is open; if it is, then run the loop. In the loop, we are clearing <kbd>colorbuffer</kbd> with the help of the <kbd>glClearColor</kbd><span> </span><span>function</span><span>.</span> <kbd>ClearColor</kbd> <span>is actually an optional line of code, but the reason we are adding it is if we don't add this, we might just get a blank, black background because we haven't drawn anything yet. So instead of a black background, we tried to spruce it up with some color. We defined colors in a range between 0 and 1, which is quite similar to a range between 0 and 255, where 0 is of no value and 1 is the full intensity of red, green, blue, and alpha.</span></p>
<ol start="15">
<li>Then, we added <kbd>glClear</kbd> <span>to clear our window so that we're ready to draw the next frame and put in</span> <kbd>GL_COLOR_BUFFER_BIT;</kbd><span>. Here is where you would draw your OpenGL stuff. As we are not going to draw anything in this chapter, we'll add </span><kbd>glfwSwapBuffers</kbd> <span>and provide it to the window. Then, we'll add</span> <kbd>glfwTerminate</kbd> <span>to close the window after the <kbd>while</kbd> loop is executed:</span></li>
</ol>
<pre style="padding-left: 60px">// Terminate GLFW, clearing any resources allocated by GLFW. 
glfwTerminate(); 
 
return EXIT_SUCCESS; 
}    
 </pre>
<div class="packt_tip">You can also use <kbd>return -1</kbd> instead of <kbd>return EXIT_FAILURE;</kbd> for Xcode.</div>
<p>Now, let's run this code and check the output. You will get a similar OpenGL window on your screen:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-335 image-border" src="assets/63ecd60f-c95a-4af6-9c6a-63dc7a941155.png" style=""/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">OpenGL rendering window for Windows</div>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up OpenGL using SDL on Windows</h1>
                </header>
            
            <article>
                
<p>In this section, we'll discuss how to set up OpenGL on a Windows machine using SDL and GLEW. <strong>SDL</strong> stands for <strong>Simple DirectMedia Layer</strong>, and it allows us to create a render window and provides access to input devices through OpenGL. SDL is prominently used to code games and other media applications that run on various operating systems. It's a cross-platform multimedia library written in the C language. <strong>GLEW</strong> (<strong>OpenGL Extension Wrangler)</strong>, as seen in the previous sections, allows us to easily use extensions and non-core OpenGL functionality.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Downloading the SDL library</h1>
                </header>
            
            <article>
                
<p>We'll begin the setup by downloading the essential libraries. Let's first download the SDL library by following these steps:</p>
<ol>
<li>Visit <a href="http://libsdl.org/index.php">http://libsdl.org/index.php</a>, go to <span class="packt_screen">Download</span>, and click on the latest version; at the time of writing this book, SDL 2.0 was the latest version.</li>
<li>Once you have clicked on the latest version, you may either want to download the development libraries or the runtime libraries. For this project, it is recommended that you download <span class="packt_screen">Development Libraries</span>.</li>
<li>We'll go for the Visual C++ one, which is <kbd>SDL2-devel-2.0.8-VC.zip</kbd>. Click on the filename and download it.</li>
<li>Once you've downloaded the file, unzip it and put it in the <kbd>SDL</kbd> folder inside the <kbd>OpenGL</kbd> folder that we created in previous sections.</li>
<li>After downloading the SDL library, we move on to downloading the GLEW libraries, but as we've already downloaded them in the previous sections, you can just refer to that.</li>
</ol>
<div class="packt_infobox">If you want a quick review on downloading GLEW, you can refer to the <em>Downloading the essential libraries</em> section at the start of the chapter.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up OpenGL using SDL and GLEW with absolute linking</h1>
                </header>
            
            <article>
                
<p>Follow these steps to set up the environment in Visual Studio for OpenGL using SDL and GLEW with absolute linking:</p>
<ol>
<li>Open up Visual Studio and click on <span class="packt_screen">Create n<span class="packt_screen">e</span></span><span class="packt_screen">w Project...</span> in the home page window.</li>
<li>Go to <span><span class="packt_screen">Visual C++</span> | <span class="packt_screen">Windows Desktop</span> | <span class="packt_screen">Windows Console Application</span></span>, name your project <kbd>SDLOpenGL</kbd>, and then click <span class="packt_screen">OK.</span></li>
<li>Next, right-click on the project in the <span class="packt_screen">Solution Explorer</span> window. Click on <span class="packt_screen">Properties</span><strong>.</strong></li>
<li>A <span class="packt_screen">Property Pages</span> window will pop up, click on <span class="packt_screen">C/C++ </span>| <span class="packt_screen">General</span>, and then go to <span class="packt_screen">Additional Include Directories</span>. Click on the dropdown, then click on <span class="packt_screen">Edit</span>, and you will get a pop up window.</li>
<li>Click on the <span class="packt_screen">New</span> button, and then click on the three dots. And now, you want to go to SDL in the <kbd>OpenGL</kbd> folder. Select <kbd>include</kbd> and then click on the <span class="packt_screen">Select Folder</span> button. Repeat the same process for including GLEW files. Once both the files have been included, click on the <span class="packt_screen">OK</span> button.</li>
<li>Now, again in the <span class="packt_screen">Property Pages</span> window, we'll go to <span class="packt_screen">Linker | General</span>, and then go to <span class="packt_screen">Additional Library Directories</span>. Click on the dropdown, then click on <span class="packt_screen">Edit</span>, and you will get a pop-up window.</li>
<li>In the window, click on the <span class="packt_screen">New</span> button, then click on the three dots, and go to the SDL folder. Open the <kbd>lib</kbd> folder, go to <span class="packt_screen">x86</span> (which is a 32-bit file, actually), and then click on the <span class="packt_screen">Select Folder</span> button.</li>
<li>Repeat the same process for including GLEW libraries. Open the <kbd>lib</kbd> folder, then double-click on the <kbd>Release</kbd> folder, select <span class="packt_screen">Win32</span>, and then click on the <span class="packt_screen">Select Folder</span> button. Once you have added both the libraries, click on <span>the </span><span class="packt_screen">OK</span> button.</li>
<li>Next, we'll go to <span class="packt_screen">Linker</span> <strong>|</strong> <span class="packt_screen">Input,</span> and then go to <span class="packt_screen">Additional Dependencies</span><strong>.</strong> Click on the dropdown, then click on <span class="packt_screen">Edit</span>,<span class="packt_screen"> </span>and type <kbd>opengl32.lib</kbd>. Then, we'll type <kbd>glew32s.lib</kbd>. If you don't want to statically link the library, you can just remove the <kbd>s</kbd>. Next, we'll type <kbd>SDL2.lib</kbd> and <kbd>SDL2main.lib</kbd>, and then click on <span class="packt_screen">OK</span>.</li>
<li>Then, click on <span>the </span><span class="packt_screen">Apply</span> button.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up OpenGL using SDL and GLEW with relative linking</h1>
                </header>
            
            <article>
                
<p>In this section, we'll take a look at how to set up OpenGL using SDL and GLEW as the provider for creating a render window with relative linking. Follow these steps:</p>
<ol>
<li>Click on <span class="packt_screen">Create new project...</span> and go to <span class="packt_screen">Visual C++.</span> Select <span><span class="packt_screen">Windows Console Application</span></span> and name it something like <kbd>SDLApp</kbd>.</li>
<li>Then, in the <span class="packt_screen">New Project</span> window, click on <span>the </span><span class="packt_screen">Browse...</span> button. Go to the <kbd>OpenGL</kbd> folder that you created on the desktop and placed the downloaded libraries into <kbd>External Libraries</kbd>. Just select the folder and then click <span class="packt_screen">OK</span>.</li>
<li>Now, we'll right-click on the project in the <span class="packt_screen">Solution Explorer</span> window. Go to <span class="packt_screen">Add | New Item</span>, and you will get an <span class="packt_screen">Add New Item</span> window. Select <span class="packt_screen">C++ File</span>, as this will be our main entry point; let's name it <kbd>main.cpp </kbd>and then click on <span>the </span><span class="packt_screen">Add</span> button.</li>
<li>Next, again right-click on the project in the <span class="packt_screen">Solution Explorer</span> window. Click on <span class="packt_screen">Properties</span><strong>.</strong></li>
<li>A <span class="packt_screen">Property Pages</span> window will pop up. Click on <span class="packt_screen">C/C++ </span>| <span class="packt_screen">General</span> and then go to <span class="packt_screen">Additional Include Directories</span>. Click on the dropdown, and then click on <span class="packt_screen">Edit</span>.</li>
<li>Then, click on the <span class="packt_screen">New</span> button and type <kbd>$(SolutionDir)</kbd> in the textbox. This command refers to the folder that contains our <kbd>.sln</kbd> file. So if we were to specify a folder in the path, and whenever we do something new in the project, it'd be relatively linked to wherever that file is located.</li>
</ol>
<ol start="7">
<li>To link up the include files, add the paths, as shown in the following screenshot:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-336 image-border" src="assets/419f26f2-3273-45fc-8a73-294ae0616179.png" style=""/></div>
<ol start="8">
<li>Next, we'll link up the libraries. So, go to <span class="packt_screen">Linker | General</span>, and then go to <span class="packt_screen">Additional Library Directories</span>. Click on the dropdown and then click on <span class="packt_screen">Edit</span>. Click on <span class="packt_screen">New</span> and add the paths, as shown in the following screenshot, then click <span class="packt_screen">OK</span>, and click <span class="packt_screen">Apply:</span></li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-337 image-border" src="assets/3ff489e0-a913-4cc4-b26c-56edf808f010.png" style=""/></div>
<ol start="9">
<li>Next, we'll link up the <kbd>.lib</kbd> files. So, go to the dropdown and click <span class="packt_screen">Edit</span>. Now, just type in <kbd>opengl32.lib</kbd>. Then, we'll type <kbd>glew32s.lib</kbd>. Next, we'll type <kbd>SDL2.lib</kbd> and <kbd>SDL2main.lib</kbd>, and then click on <span class="packt_screen">OK</span>.</li>
<li>Then, click on <span>the </span><span class="packt_screen">Apply</span> button.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding a DLL file to the project</h1>
                </header>
            
            <article>
                
<p>As we saw in the previous sections, before completing the setup, we'll have to copy the dynamic link library into our project. Follow these steps to do that:</p>
<ol>
<li>Go to <kbd>C:\OpenGL\SDL\lib\x86</kbd> and copy the <kbd>SDL2.dll</kbd> dynamic link library, as seen in the following screenshot:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-338 image-border" src="assets/04bff535-965d-46d1-9d07-4b8d44a7a09e.png" style=""/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">SDL2.dll dynamic link library</div>
<ol start="2">
<li>Now, go to the location in your system where the <kbd>main.cpp</kbd> file of your project is located and paste the dynamic link library there. We'll also have to copy and paste the <kbd>glew32.dll</kbd> file here from the <kbd>bin</kbd> folder of <span>the </span><kbd>GLEW</kbd> folder.</li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up OpenGL using SDL on a Mac</h1>
                </header>
            
            <article>
                
<p>Here, we'll take a look at how to set up OpenGL using SDL on a Mac system. We'll begin by downloading the essential libraries on your system. As seen in the previous sections, we'll be using Homebrew to download the packages and libraries.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Downloading the SDL and GLEW libraries</h1>
                </header>
            
            <article>
                
<p>In the Terminal, type the following command to download and install the SDL libraries:</p>
<pre><strong>brew install sdl2</strong></pre>
<p>Now, just press <em>Enter</em> and the SDL library will be downloaded onto your system. Next, we'll download the GLEW library, but since we've already downloaded it in the previous section, you can refer to that. If you want a quick review on downloading GLEW, you can refer to the <em>Downloading the GLFW and GLEW libraries for a Mac</em><span> </span><span>section</span><span>.</span></p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up Xcode for OpenGL using SDL</h1>
                </header>
            
            <article>
                
<p>Follow these steps:</p>
<ol>
<li>Open up Xcode and click on <span class="packt_screen">Create a new Xcode project</span>.</li>
<li>Go to <span class="packt_screen">OS X</span> | <span class="packt_screen">Application</span>, then select <span class="packt_screen">Command Line Tool</span>, and click <span class="packt_screen">Next</span>.</li>
<li>You will get the following window. Fill in the necessary details, as highlighted in the screenshot, and make sure for the <span class="packt_screen">Language</span> option, <span class="packt_screen">C++</span> is selected:</li>
</ol>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-339 image-border" src="assets/1e1c87f6-64da-4ce4-b6eb-21aa4f733bf8.png" style=""/></div>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Details of the project</div>
<ol start="4">
<li>Then, set the location where you would like to store and save the project, and then click on <span>the </span><span class="packt_screen">Create</span> button.</li>
</ol>
<ol start="5">
<li>Next, click on your project and go to <span class="packt_screen">Build Settings</span>. In <span class="packt_screen">Build Settings</span>, go to <span>the </span><span class="packt_screen">Search Paths</span> section and click on <span class="packt_screen">Header Search Paths</span>. Then, click on <span class="packt_screen">+</span> and type <kbd>/usr/local/include</kbd>. This will allow us to #include GLEW and SDL header files in our <kbd>main.cpp</kbd>.</li>
<li>Now go to <span class="packt_screen">Build Phases</span>, then click on <span class="packt_screen">Link Binary With Libraries</span>, and click the <span class="packt_screen">+</span> button. Type <kbd>opengl</kbd> in the search bar, select <kbd>OpenGL.framework</kbd>, and then click on <span>the </span><span class="packt_screen">Add</span> button.</li>
<li>Again click on <span>the </span><span class="packt_screen">+</span> button, and then click on <span class="packt_screen">Add Other...</span>. Now, press <em>Cmd</em> + <em>Shift</em> + <em>G</em>, and it will open up a <kbd>go-to</kbd> folder search bar. In it, type <kbd>/usr/local</kbd>. Then click on <span class="packt_screen">Cellar</span>, go to <span>the </span><span class="packt_screen">glew</span> | <span class="packt_screen">lib</span> folder, select <kbd>libGLEW.1.12.0.dylib</kbd> without the little arrow, and click on <span class="packt_screen">Open.</span></li>
<li>Click <span class="packt_screen">+</span> again, then click <span class="packt_screen">Add Other....</span> Press <em>Cmd</em> + <em>Shift</em> + <em>G</em> and type <kbd>/usr/local</kbd>. Now go to <span class="packt_screen">Cellar</span>, and go to <span class="packt_screen">sdl | lib</span>. Select the non-alias <kbd>libSDL2-2.0.0.dylib</kbd> and click on <span>the </span><span class="packt_screen">Open</span> button.</li>
</ol>
<p>With all the steps executed, our project is now set up to use SDL and GLEW with OpenGL on a Mac. We can now go to <span>the </span><kbd>main.cpp</kbd> file and start writing our code for creating <span>the </span>OpenGL rendering window.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating the OpenGL rendering window using SDL</h1>
                </header>
            
            <article>
                
<p>Perform the following steps to understand how to create a rendering window using SDL:</p>
<ol>
<li>Let's go to our <kbd>main.cpp</kbd> file in Visual Studio or Xcode and let's get started. The first thing to do is include <kbd>iostream</kbd>; this'll be used to log out any errors that we have:</li>
</ol>
<pre style="padding-left: 60px">#include &lt;iostream&gt; </pre>
<ol start="2">
<li>Then, we'll include other necessary header files, such as the following:</li>
</ol>
<pre style="padding-left: 60px">#include &lt;SDL.h&gt; 
 
#include &lt;GL/glew.h&gt; 
 
#include &lt;SDL_opengl.h&gt;  </pre>
<ol start="3">
<li>Next, we'll create a constant variable using <kbd>GLint</kbd>:</li>
</ol>
<pre style="padding-left: 60px">const GLint WIDTH = 800, HEIGHT = 600;</pre>
<p style="padding-left: 60px">The reason for using <kbd>Glint</kbd> is quite simple: a regular <kbd>int</kbd> on different compilers might have different sizes, whereas <kbd>GLint</kbd> is always consistent. The <kbd>WIDTH</kbd> and the <kbd>HEIGHT</kbd> variables will store the size of our window.</p>
<ol start="4">
<li>Then, we'll set up our main entry point:</li>
</ol>
<pre style="padding-left: 60px">int main(int argc, char *argv[]) 
{ </pre>
<p style="padding-left: 60px">You might have noticed we have passed the <kbd>argc</kbd> <span>integer</span><span> </span><span>and the </span><kbd>*argv []</kbd> <span>as</span> <kbd><span>char</span></kbd><span>. These are the argument count and the argument value and SDL requires them to run the code, or else you will get errors while running it.</span></p>
<ol start="5">
<li>Next, we'll initialize SDL with the help of <kbd>SDL_Init()</kbd> and to it we'll pass <kbd>SDL_INIT_EVERYTHING</kbd> to make sure we are initializing every part of the SDL library:</li>
</ol>
<pre style="padding-left: 60px">   SDL_Init(SDL_INIT_EVERYTHING); </pre>
<ol start="6">
<li>Then, we'll set up some attributes, which are essentially properties that we'll set for our window:</li>
</ol>
<pre style="padding-left: 60px">SDL_GL_SetAttribute(SDL_GL_CONTEXT_PROFILE_MASK,     SDL_GL_CONTEXT_PROFILE_CORE); </pre>
<p style="padding-left: 60px">So, there are three main profiles that we can use for OpenGL with SDL:</p>
<ul>
<li style="padding-left: 60px">ES, which is embedded systems, for stuff like mobile devices</li>
<li style="padding-left: 60px">There's the core profile, which is for modern OpenGL</li>
<li style="padding-left: 60px">Then there's the compatibility profile, which allows you to use an older version of OpenGL and ensures maximum compatibility.</li>
</ul>
<p style="padding-left: 60px">For our project, we'll use the core profile.</p>
<ol start="7">
<li>Next, we'll set up some more attributes, as follows:</li>
</ol>
<pre style="padding-left: 60px">SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, 3); SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, 3); SDL_GL_SetAttribute(SDL_GL_STENCIL_SIZE, 8); </pre>
<ol start="8">
<li>Once all the attributes have been declared, we'll declare the SDL window, as follows:</li>
</ol>
<pre style="padding-left: 60px">SDL_Window *window = SDL_CreateWindow("OpenGL", 0, 0, WIDTH, HEIGHT, SDL_WINDOW_OPENGL); </pre>
<p style="padding-left: 60px">The preceding code contains the name of our window, <kbd>OpenGL</kbd>. Then, we set the position of our window to <kbd>(0, 0)</kbd>. To set the width and the height of our window, we'll use the <kbd>WIDTH</kbd> and <kbd>HEIGHT</kbd> values that we declared earlier. The beauty of using these values is if we refer to these<span> </span><span>anywhere</span><span>, they'll get updated if we were to change them later.</span></p>
<ol start="9">
<li>Next, for the context, we just need to provide the window variable that we created before:</li>
</ol>
<pre style="padding-left: 60px">SDL_GLContext context = SDL_GL_CreateContext(window); 
 
// Set this to true so GLEW knows to use a modern approach to<br/>retrieving function pointers and extensions 
glewExperimental = GL_TRUE; </pre>
<ol start="10">
<li>Now, we are going to initialize GLEW and ensure that it's has been initialized by checking for the condition in an <kbd>if</kbd> statement. If it hasn't been initialized, we're going to notify the user<span> </span><span>or the developer</span><span> </span><span>about it</span><span> in the console:</span></li>
</ol>
<pre style="padding-left: 60px">// Initialize GLEW to setup the OpenGL Function pointers 
if (GLEW_OK != glewInit()) 
{ 
      std::cout &lt;&lt; "Failed to initialize GLEW" &lt;&lt; std::endl; 
      return EXIT_FAILURE; 
}  </pre>
<ol start="11">
<li>Now, we'll set up the OpenGL viewport, as follows:</li>
</ol>
<pre style="padding-left: 60px">// Define the viewport dimensions 
glViewport(0, 0, WIDTH, HEIGHT); </pre>
<p style="padding-left: 60px">What we did in the preceding line of code is that we set the initial coordinates from <kbd>0</kbd>, <kbd>0</kbd> to <kbd>Width</kbd> and <kbd>Height</kbd>. The values that you'll retrieve here will be the accurate representation of what our window is relative to the screen, as you might have a higher or a lower pixel density screen. Next, we're going to create a window event, as follows:</p>
<pre style="padding-left: 60px">SDL_Event windowEvent; </pre>
<ol start="12">
<li>Now, we'll create our game loop:</li>
</ol>
<pre style="padding-left: 60px">while (true) 
{ 
      if (SDL_PollEvent(&amp;windowEvent)) 
      { 
             if (windowEvent.type == SDL_QUIT) break; 
      } 
 
      // Clear the colorbuffer 
      glClearColor(0.2f, 0.3f, 0.3f, 1.0f); 
      glClear(GL_COLOR_BUFFER_BIT); 
 
      // draw OpenGL 
 
      SDL_GL_SwapWindow(window); 
} 
 
   SDL_GL_DeleteContext(context); 
   SDL_DestroyWindow(window); 
   SDL_Quit(); 
 
   return EXIT_SUCCESS; 
} </pre>
<p style="padding-left: 60px">In the preceding code, we set <kbd>while</kbd> to <kbd>true</kbd> to keep the loop constantly running while our application is open. If something happens, like the user closes the application, we'll exit the <kbd>while</kbd> loop and do some cleanup. While the loop is running, we'll check for a window event and pass a reference to the window. We'll also check if the window is getting shut down and if it is, then we'll break out of the loop. Now, outside of both the <kbd>if</kbd> statements, we'll try to clear the screen with the help of <span>the </span><kbd>glClearColor</kbd> statement. A <kbd>ClearColor</kbd> statement isn't necessary. We're adding it because we might just end up getting a black background, as we're not drawing any shapes or any textures at the moment. We'll add color to the window with the help of the following parameters: <kbd>0.2f</kbd>, <kbd>0.3f</kbd>, <kbd>0.3f</kbd>, and <kbd>1.0f</kbd>. These values range between 0 and 1; these are very similar to 0 to 255. And these are red, green, blue, and alpha values. Next, we'll clear the screen with the help of <kbd>glClear</kbd>. And, the last thing we're going to do is <kbd>SDL_GL_SwapWindow</kbd>. It swaps the window if double buffering is present; if not, then it won't. Then, we'll do some cleanup and exit out of the code with <kbd>EXIT_SUCCESS</kbd>.</p>
<p>Now, let's run this code and check the output. You will get the same OpenGL window as we got in the preceding sections.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up OpenGL using SFML on Windows</h1>
                </header>
            
            <article>
                
<p>In this section, we'll study how to set up OpenGL using SFML and GLEW on a Windows machine. But, first, let's understand what SFML is. <strong>SFML</strong> is a simple and fast multimedia library. It's a software development library designed for cross-platform <span>use</span><span> </span><span>to provide a programming interface for various multimedia components on the system. It allows you to do stuff like handle or render windows, so we can draw our OpenGL and handle events, such as various inputs, and it also allows us to handle textures.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Downloading the SFML library</h1>
                </header>
            
            <article>
                
<p>Let's download the SFML library onto your system by visiting <a href="https://www.sfml-dev.org/index.php">https://www.sfml-dev.org/index.php</a>. Then, go to <span class="packt_screen">Download</span>, click on <span class="packt_screen">SFML 2.5.0</span>, and then select whichever Visual C++ version matches your Visual Studio version and system compatibility, and accordingly click on the link. The file will be downloaded as a ZIP file onto your system. Next, go to <span>the </span><kbd>OpenGL</kbd> folder (which we created in the previous sections) and inside it, create a folder called <kbd>SFML</kbd> to extract <span>and</span><span> </span><span>place</span><span> </span><span>our SFML files.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Linking the SFML and GLEW libraries to the project</h1>
                </header>
            
            <article>
                
<p>The steps to link the SFML and GLEW libraries to our project with absolute or relative linking are similar to what we discussed in the previous sections. The only difference will be in the step where we link up the <kbd>.lib</kbd> files. For that, go to <span class="packt_screen">Additional Dependencies</span> and in the textbox, just type in <kbd>opengl32.lib</kbd>. Then, we'll type <kbd>glew32s.lib</kbd>. And to link SFML libraries, we'll type <kbd>sfml-graphics.lib</kbd>, <kbd>sfml-system.lib</kbd>, and <kbd>sfml-window.lib</kbd>, and then click on <span class="packt_screen">OK</span>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding a DLL file to the project</h1>
                </header>
            
            <article>
                
<p>As seen in the previous sections, before we begin with coding, we need to place the dynamic link library into our project. To do that, go to <kbd>C:\OpenGL\SFML\bin\</kbd> and copy <kbd>sfml-graphics-2.dll</kbd>, <kbd>sfml-system-2.dll</kbd>, and <kbd>sfml-window-2.dll</kbd>, and paste them into the location in your system where the <kbd>main.cpp</kbd> file of your project is located. We'll also have to copy and paste the <kbd>glew32.dll</kbd> file here from the <kbd>bin</kbd> folder of <span>the </span><kbd>GLEW</kbd> folder.</p>
<p>With this, we are all set to code our OpenGL rendering window using SFML.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Setting up OpenGL using SFML on a Mac</h1>
                </header>
            
            <article>
                
<p>The steps to download and link the SFML and GLEW libraries to our project will be similar to the previous sections where we discussed linking the GLFW and SDL libraries to the project on a Mac system.</p>
<p>With the setup process complete, let's move on to coding our OpenGL rendering window.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating the OpenGL rendering window using SFML</h1>
                </header>
            
            <article>
                
<p>Check out the below mentioned steps: </p>
<ol>
<li>Go to your <kbd>main.cpp</kbd> file in Visual Studio or Xcode and begin typing the following code:</li>
</ol>
<pre style="padding-left: 60px">#include &lt;iostream&gt; </pre>
<ol start="2">
<li>Here, we'll include the GLEW and SFML libraries in our project:</li>
</ol>
<pre style="padding-left: 60px">#include &lt;GL/glew.h&gt; 
 
#include &lt;SFML/Window.hpp&gt; 
 
const GLint WIDTH = 800, HEIGHT = 600; </pre>
<p style="padding-left: 60px">In the preceding lines of code, we've defined the <kbd>GLint</kbd><span> </span><span>constant. T</span><span>he reason we're creating constant global variables is so that we can easily use these wherever we need them in the code, whether that's for initially creating the window or for manipulating some sort of shape.</span></p>
<ol start="3">
<li><span>Next,</span> let's define our entry point<span>:</span></li>
</ol>
<pre style="padding-left: 60px">int main( ) 
{ 
   sf::ContextSettings settings; 
   settings.depthBits = 24; settings.stencilBits = 8; </pre>
<p style="padding-left: 60px">In the preceding lines of code, we've defined some settings for our application and rendering window:</p>
<pre style="padding-left: 60px">settings.majorVersion = 3; 
settings.minorVersion = 3; 
settings.attributeFlags = sf::ContextSettings::Core; </pre>
<p style="padding-left: 60px">Here, the <kbd>majorVersion</kbd> and <kbd>minorVersion</kbd> that we defined in the preceding lines of code are for setting the version of OpenGL. Here, we set the version as 3.3 by setting the <kbd>minorVersion</kbd> and the <kbd>majorVersion</kbd> to 3. If you wish to set up for any other version, you'll have to make changes<span> </span><span>accordingly</span><span>. The</span> <kbd>majorVersion</kbd> <span>is to the left of the decimal point and the</span> <kbd>minorVersion</kbd> <span>is to the right of the decimal point. Then, we defined that we're using core modern OpenGL by setting</span> <kbd>ContextSettings</kbd> <span>to</span> <kbd>Core</kbd>.</p>
<ol start="4">
<li>Next, you want to define <kbd>sf::Window</kbd>. Here, we're going to put <kbd>sf::VideoMode</kbd>, and we're going to put <kbd>WIDTH</kbd>, <kbd>HEIGHT</kbd>, and <kbd>32</kbd> for the pixel depth. Then, we'll add <kbd>OpenGL SFML</kbd> as the title of our window. And then, we add <kbd>sf::Style::Titlebar</kbd> and <kbd>sf::Style::Close</kbd> to have a title bar and a close button for our window:</li>
</ol>
<pre style="padding-left: 60px">sf::Window window( sf::VideoMode( WIDTH, HEIGHT, 32 ), "OpenGL     SFML", sf::Style::Titlebar | sf::Style::Close, settings ); </pre>
<ol start="5">
<li>Now, we'll try to initialize GLEW by setting it to <kbd>TRUE</kbd> and if it's unsuccessful, then we'll display a <kbd>Failed to initialize GLEW</kbd> message to the developer. And then, we're going to do <kbd>return EXIT_FAILURE</kbd> because it has failed:</li>
</ol>
<pre style="padding-left: 30px">   glewExperimental = GL_TRUE; 
 
   if ( GLEW_OK != glewInit( ) ) 
   { 
      std::cout &lt;&lt; "Failed to initialize GLEW" &lt;&lt; std::endl; 
 
      return EXIT_FAILURE; 
   } 
 
   bool running = true; </pre>
<ol start="6">
<li>Next, we are going to create a <kbd>while</kbd> loop and define certain conditions in it:</li>
</ol>
<pre style="padding-left: 60px"> 
while ( running ) 
{ 
   sf::Event windowEvent; 
 
   while ( window.pollEvent( windowEvent ) ) 
   { 
      switch ( windowEvent.type ) 
      { 
      case sf::Event::Closed: 
         running = false; 
 
         break; 
      } 
  }  </pre>
<p style="padding-left: 60px">In the preceding <kbd>while</kbd> loop, we are stating that if the window is closed, we are going to stop running our application and break out of our loop.</p>
<ol start="7">
<li>Then, we'll add some color to our window and define a space to draw:</li>
</ol>
<pre> 
      glClearColor( 0.2f, 0.3f, 0.3f, 1.0f ); 
      glClear( GL_COLOR_BUFFER_BIT ); 
 
      // draw OpenGL 
 
      window.display( ); 
   } 
 
   window.close( ); 
 
   return EXIT_SUCCESS; 
  }<br/>}   </pre>
<p>Let's run our code and check whether there are any errors. If no errors pop up, we'll get a rendering window as output, similar to what we have witnessed in the previous sections.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we discussed how to set up OpenGL using various libraries: GLFW, GLEW, SDL, and SFML. We learned how to set up our OpenGL projects on Windows and Mac. And, we also discussed how to link the libraries to our projects using absolute or relative linking. We then created rendering windows to display OpenGL graphics.</p>
<p>In the next chapter, we'll learn how to draw shapes like triangle and rectangle using OpenGL. Also, we'll discuss about how to apply colors and textures to the shapes.    </p>


            </article>

            
        </section>
    </body></html>