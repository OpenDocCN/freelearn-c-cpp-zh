<html><head></head><body>
		<div><h1 class="chapter-number" id="_idParaDest-63"><a id="_idTextAnchor100"/>3</h1>
			<h1 id="_idParaDest-64"><a id="_idTextAnchor101"/>Grouping Information in Arrays, Loops, and Dictionaries</h1>
			<p>In <a href="B19358_02.xhtml#_idTextAnchor044"><em class="italic">Chapter 2</em></a>, we learned about the all-important basics of programming: variables and control flow. Although these building blocks may seem rudimentary and limiting, they are already Turing-complete, meaning you can create any program you’ve ever used with them. I’m not saying that you should or that it would be easy, but you could.</p>
			<p>In this chapter, we’ll learn about new data structures and more advanced control flows to make our lives easier when dealing with large quantities of data. First, we’ll see how arrays can help us create lists of data. Then, we’ll learn all about loops, a very powerful control flow structure to execute code blocks multiple times instead of just once. Lastly, we’ll learn about dictionaries, a data structure that helps us group other pieces of data in little packages.</p>
			<p>In this chapter, we will cover the following main topics:</p>
			<ul>
				<li>Arrays</li>
				<li>Loops</li>
				<li>Dictionaries</li>
				<li>Debugging</li>
				<li>Null<a id="_idTextAnchor102"/></li>
			</ul>
			<h1 id="_idParaDest-65"><a id="_idTextAnchor103"/>Technical requirements</h1>
			<p>If you get stuck anywhere, don’t forget that you can find an example of everything we do in this chapter in the <code>chapter03</code> folder of the repository. You can find the repository here: <a href="https://github.com/PacktPublishing/Learning-GDScript-by-Developing-a-Game-with-Godot-4/tree/main/chapter03">https://github.com/PacktPublishing/Learning-GDScript-by-Developing-a-Game-with-Godot-4/tree/main/chapter03</a>.</p>
			<h1 id="_idParaDest-66"><a id="_idTextAnchor104"/>Arrays</h1>
			<p>Often, we want to work<a id="_idIndexMarker121"/> with a list of data, such as a list of items the player possesses. An <strong class="bold">array</strong> is precisely the data structure we want to use for such occasions: it is a list that can contain elements from other data types; it is a container type.</p>
			<p class="callout-heading">Containers</p>
			<p class="callout">We call an array a <strong class="bold">container</strong> because we can store and retrieve<a id="_idIndexMarker122"/> pieces of data of other data types within them, such as integers, strings, Booleans, and such. An array contains other data.</p>
			<p class="callout">Containers structure other data so that it is easier to work with.</p>
			<p>Let’s have a look at what an array is in code and how we can create one and access its elements<a id="_idTextAnchor105"/>.</p>
			<h2 id="_idParaDest-67"><a id="_idTextAnchor106"/>Creating an array</h2>
			<p>Creating an array<a id="_idIndexMarker123"/> looks like this:</p>
			<pre class="source-code">
var inventory = ["Key", "Potion", "Red Flower", "Boots"]</pre>			<p>Here, we created an array – a list of four strings – and put it in the <code>inventory</code> variable. Notice that all the elements of the array are contained within square brackets, <code>[]</code>, and that each element is separated by a <em class="italic">comma</em>.</p>
			<p>Creating an array in one line like we did just now is often fine. But sometimes, it can make the line of code too long. Luckily, we can also put every element on a separate line; this promotes readability and makes it easier to edit the array later if we want to add or remove an element:</p>
			<pre class="source-code">
var inventory = [
   "Key",
   "Potion",
   "Red Flower",
   "Boots"
]</pre>			<p>This snippet of code will create the same array as the one at the start of this section, but with the added benefit that each<a id="_idIndexMarker124"/> element is nicely formatted on a new line and thus easier to read.</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">Note that we don’t have to indent the elements of the array with a tab, but the general convention is to do so and I urge you to do the same. This is part of the clean code philosophy makes it extra clear that these elements are part of the array. We’ll talk more about writing clean code in <a href="B19358_05.xhtml#_idTextAnchor365"><em class="italic">Chapter 5</em></a>.</p>
			<p>As an experiment, try printing out a variable that contains an arr<a id="_idTextAnchor107"/>ay.</p>
			<h2 id="_idParaDest-68"><a id="_idTextAnchor108"/>Accessing values</h2>
			<p>Now that we have<a id="_idIndexMarker125"/> our list – the array – we <a id="_idIndexMarker126"/>want to be able to access its elements. To do this, we must specify the number of the element we want to retrieve within the square brackets, right behind the name of the variable. To get the first element of our array, for example, we must write the following:</p>
			<pre class="source-code">
print( inventory[0] )
# Prints out: Key</pre>			<p>But what is this? I told you we were retrieving the first element in the array, but I used the number 0 to do so. That is because, unlike human counting, arrays are 0-based, meaning that they start counting from 0. By extension, the second element can be accessed by using <code>1</code> and so on:</p>
			<table class="No-Table-Style _idGenTablePara-1" id="table001-2">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<thead>
					<tr class="No-Table-Style">
						<td class="No-Table-Style" colspan="2">
							<p><strong class="bold">Contents </strong><strong class="bold">of inventory</strong></p>
						</td>
					</tr>
				</thead>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="bold">Index</strong></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Value</strong></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><code>0</code></p>
						</td>
						<td class="No-Table-Style">
							<p>Key</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><code>1</code></p>
						</td>
						<td class="No-Table-Style">
							<p>Potion</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><code>2</code></p>
						</td>
						<td class="No-Table-Style">
							<p>Red Flower</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><code>3</code></p>
						</td>
						<td class="No-Table-Style">
							<p>Boots</p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 3.1 – The contents of the inventory array</p>
			<p>Zero-based counting makes a lot of sense within the context of mathematic concepts and computer algorithms, so we better get used to it.</p>
			<p>We call the position<a id="_idIndexMarker127"/> an element is at in an array its <strong class="bold">index</strong>.</p>
			<p>As an experiment, instead of directly using a number to retrieve an element, try putting a variable that contains a number between the square brackets like so:</p>
			<pre class="source-code">
var index = 3
print(inventory[index])</pre>			<p>You can also try accessing<a id="_idIndexMarker128"/> an element<a id="_idIndexMarker129"/> that is not in the array, such as element <code>1000</code>, and see what errors pop up. Try negative numbers too.</p>
			<h2 id="_idParaDest-69"><a id="_idTextAnchor109"/>Accessing elements backward</h2>
			<p>You might have<a id="_idIndexMarker130"/> noticed something<a id="_idIndexMarker131"/> strange if you tried out one of the earlier experiments where I asked you to access an array’s element using negative numbers. Although negative numbers don’t always give an error, some return elements from the array.</p>
			<p>This is because if you use negative numbers, you access elements within the array from the back! So, the element with index -1 is the last, -2 is the second last, and so on:</p>
			<pre class="source-code">
var inventory = ["Key", "Potion"]
prints("The last item in your inventory is a: ", inventory[-1])
# Prints out: Potion</pre>			<p>This indexing trick<a id="_idIndexMarker132"/> will prove<a id="_idIndexMarker133"/> to be very u<a id="_idTextAnchor110"/>seful.</p>
			<h2 id="_idParaDest-70"><a id="_idTextAnchor111"/>Changing the elements of an array</h2>
			<p>An interesting property<a id="_idIndexMarker134"/> of arrays is that we can treat each element as a regular variable. To assign a new value to an element, for example, we can just assign it a new value:</p>
			<pre class="source-code">
inventory[3] = "Helmet"</pre>			<p>We can also use one of the special assignment operators, such as <code>+=</code> or <code>-=</code>, that we learned about in <a href="B19358_02.xhtml#_idTextAnchor044"><em class="italic">Chapter 2</em></a> to directly change one of the values in the array:</p>
			<pre class="source-code">
var array_of_numbers = [1, 4, -74, 0]
array_of_numbers[3] <code>4</code> to the third element in our <code>array_of_numbers</code>, <code>0</code>, so that the value is now <code>4</code>.</p>
			<p>Using the assignment operator (<code>=</code>) makes it easy to change the elements in a<a id="_idTextAnchor112"/>n array.</p>
			<h2 id="_idParaDest-71"><a id="_idTextAnchor113"/>Data types in arrays</h2>
			<p>Arrays can hold any<a id="_idIndexMarker135"/> data type. You can<a id="_idIndexMarker136"/> even put multiple different data types in the same array, like so:</p>
			<pre class="source-code">
var an_array = [
   5,          # An Integer
   "seven",    # A string
   8.9,        # A float
   True        # A boolean
]</pre>			<p>This is bad practice<a id="_idIndexMarker137"/> because when you<a id="_idIndexMarker138"/> want to access one of the elements, you don’t know what you are dealing with. That is why I advise you to always use one data type for all the elements i<a id="_idTextAnchor114"/><a id="_idTextAnchor115"/>n an array.</p>
			<h2 id="_idParaDest-72"><a id="_idTextAnchor116"/>Strings are secretly arrays</h2>
			<p>If you think back to <a href="B19358_02.xhtml#_idTextAnchor044"><em class="italic">Chapter 2</em></a>, when I said that strings<a id="_idIndexMarker139"/> are called that way because they are <em class="italic">strings of characters</em>, then this<a id="_idIndexMarker140"/> might not seem like a big surprise. But a string can be thought of as an array of characters. So, we can get one specific character, just like we would get one particular element in an array:</p>
			<pre class="source-code">
var player_name = "Eric"
print(player_name[0])
# Prints out: E</pre>			<p>In practice, we use this less often, but it is good to know how strings work un<a id="_idTextAnchor117"/>der the hood.</p>
			<h2 id="_idParaDest-73"><a id="_idTextAnchor118"/>Manipulating arrays</h2>
			<p>So far, we have created<a id="_idIndexMarker141"/> arrays, accessed their elements, and even changed those elements. But there are so many more things that arrays can do. Unlike the standard data types we’ve already encountered, arrays provide functions to us that we could use. Functions are little pieces of code, just like the <code>_ready()</code> function we have been writing for each scene, that provides functionality and can do things for us.</p>
			<p>For example, one of these functions can append an extra element at the end of an array:</p>
			<pre class="source-code">
var inventory = ["Key", "Potion"]
inventory.append("Sword")</pre>			<p>Try printing out this variable; it will show <code>[Key, Potion, Sword]</code>. Cool, right?</p>
			<p>As you can see, to call a function of an array, add a point (<code>.</code>), followed by the name of that function, to the name of that array. This also applies to other data types.</p>
			<p>But what if we want to append one array to another one? Well, there is a function for that too:</p>
			<pre class="source-code">
var loot = ["Gold Coin", "Dagger"]
inventory.append_array(loot)</pre>			<p>Now, the whole <code>loot</code> array will be appended at the end of the inventory.</p>
			<p>But wait, there’s more! What if you need to remove an element? You use the <code>remove_at()</code> function. This function removes an element of the array at a certain index:</p>
			<pre class="source-code">
inventory.remove_at(1)</pre>			<p>This will remove the element at index 1. But what if you don’t know the position the element is at? You can always find it!</p>
			<pre class="source-code">
var index_of_sword = inventory.find("Sword")
inventory.remove_at(index_of_sword)</pre>			<p>The <code>find()</code> function will return the index of the element we were looking for. If it finds nothing, it will return the number <code>-1</code>. So, it’s best to check if the number it returns is equal to or larger than 0; otherwise, you might remove the wrong element.</p>
			<p>The <code>remove_at()</code> and <code>find()</code> functions are very useful in their own right, but there is also a function that combines the two into one! This is the <code>erase()</code> function, and it can be used like this:</p>
			<pre class="source-code">
inventory.erase("Sword")</pre>			<p>This last line of code will give the same result as the snippet of the two lines before because it removes the first instance of <code>"Sword"</code> it finds within the array.</p>
			<p>Arrays are an important concept<a id="_idIndexMarker142"/> in programming. They dynamically hold an arbitrary number of elements.</p>
			<p>After a small detour into debugging in the next section, we’ll learn how we can loop over these elements and run code for each of them separately using the <code>for</code> and <a id="_idTextAnchor119"/><code>while</code> keywords.</p>
			<h2 id="_idParaDest-74"><a id="_idTextAnchor120"/>Don’t be scared of errors or warnings</h2>
			<p>We’ve encountered errors<a id="_idIndexMarker143"/> here and there while writing code, especially during some of the experiments. These errors often contain valuable information about the problem and how to solve it. Let’s examine the following piece of code:</p>
			<div><div><img alt="Figure 3.1 – An error tells us that the var keyword should be followed by the new variable’s name" src="img/B19358_03_01.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.1 – An error tells us that the var keyword should be followed by the new variable’s name</p>
			<p>Here, I stopped typing halfway while defining a variable. The code editor immediately gave me an error. As shown at the bottom, it is telling me it expected a variable’s name. Thanks for the hint, engine!</p>
			<p>Let’s look at an error that the engine can’t predict before running the code:</p>
			<pre class="source-code">
func _ready():
   var inventory = [
      "Boots",
      "Bananas",
      "Bees"
   ]
   print(inventory[100])</pre>			<p>At first glance, this code might look okay, but if you put it in a script and run it, you’ll see the following error pop up:</p>
			<div><div><img alt="Figure 3.2 – After running this code, the interpreter warns us that the inventory array does not have a 101st element" src="img/B19358_03_02.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.2 – After running this code, the interpreter warns us that the inventory array does not have a 101st element</p>
			<p>The <strong class="bold">Debugger</strong> panel opened up, clearly<a id="_idIndexMarker144"/> stating that there was an <em class="italic">Invalid get index ‘100’ (on base: ‘Array’)</em> error. This means we used an invalid index to retrieve an element from an array. We can also see a yellow arrow showing the exact line where the error occurred. From this, we can conclude that the inventory array does not have a 101st element and thus, we should not try to print it out.</p>
			<p>Some errors and warnings already pop up while writing the code, such as the first one we saw in this section. This makes it easy to ensure what we write will run. Unfortunately, writing code that does not contain errors or warnings at this stage does not guarantee that executing this code will be error and warning-free. This is because, from the moment we run a piece of code, it can encounter scenarios the code parser could never have considered.</p>
			<p>These runtime errors and warnings occur because GDScript is a weakly typed language, meaning that any variable can have any type and could even switch types mid-execution. Here’s a simple example:</p>
			<pre class="source-code">
var my_vairable = 5
my_variable = "Hello, World"</pre>			<p>But this means that during execution, a piece of code could crash. In <a href="B19358_04.xhtml#_idTextAnchor164"><em class="italic">Chapter 4</em></a>, you’ll learn how to deal with this uncertainty in an elegant way that keeps the flexibility of loosely typed variables.</p>
			<p>It is good to appreciate warnings and errors. The engine does not show these to bully us but to nudge us in the right direction to create a better, more solid piece of software. If the engine didn’t care and didn’t crash the game when an error occurred, for example, then we might ship a half-broken game. This is not what we want! We want the best experience for our players<a id="_idIndexMarker145"/> with the lowest number of bugs!</p>
			<p class="callout-heading">Bugs</p>
			<p class="callout">When a game is broken in some way, be it a crash<a id="_idIndexMarker146"/> or a logical error, we say it has <strong class="bold">bugs</strong>. This terminology comes from one of the first times a computer malfunctioned and the culprit turned out to be a literal bug that crawled into the machinery. But the term was even used before that by the likes of Thomas Edison to describe “little faults and difficulties” in a p<a id="_idTextAnchor121"/>iece of hardware.</p>
			<p>In the next section, we’ll learn about loops.</p>
			<h1 id="_idParaDest-75"><a id="_idTextAnchor122"/>Loops</h1>
			<p>We’ve been putting lines<a id="_idIndexMarker147"/> of code one after the other and Godot Engine executed them nicely from top to bottom. But there comes a time when we want to repeat one or multiple lines of code. For example, what if we want to print out every item in the player’s inventory in a nice way?</p>
			<p>We could do something like that with the following code:</p>
			<pre class="source-code">
var inventory = ["Boots", "Bananas", "Bandages"]
for item in inventory:
   print("You possess ", item)</pre>			<p>This is called a <strong class="bold">loop</strong>; this specific one is a <strong class="bold">for loop</strong>. We’ll have a look at the two kinds of loops that are present in GDScript<a id="_idIndexMarker148"/> in the next few sections.</p>
			<h2 id="_idParaDest-76"><a id="_idTextAnchor123"/>For loops</h2>
			<p> A <code>for</code> loop called <strong class="bold">item</strong>. Of course, we can use the same structure for other arrays and call the temporary variable differently. I chose the name <em class="italic">items</em> because that is what an inventory contains. Another suitable name could be <em class="italic">item_name</em>.</p>
			<p>We can visualize the <code>for</code> loop with the following flow chart:</p>
			<div><div><img alt="Figure 3.3 – The flow of a for loop during the execution of the code" src="img/B19358_03_03.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.3 – The flow of a for loop during the execution of the code</p>
			<p>As shown in <em class="italic">Figure 3</em><em class="italic">.3</em>, we start the loop from the top. If there is a first element, we follow the <em class="italic">Yes</em> and execute the code block within the loop for that element. Then, we check if there is a next element. If so, we execute the code block again, now for that element, and so on until there are no more elements left.</p>
			<p>The <code>for</code> loop looks like this:</p>
			<pre class="source-code">
for &lt;temporary_variable_name&gt; in &lt;array&gt;:
   &lt;code_block&gt;</pre>			<p class="callout-heading">Syntax</p>
			<p class="callout">The preceding structure is also called the syntax of the language. It captures the rules of what is possible and how things should be specified in the language.</p>
			<p>A <code>for</code> loop is a very<a id="_idIndexMarker152"/> powerful control<a id="_idIndexMarker153"/> flow structure. Let’s have a look at some other use cases i<a id="_idTextAnchor124"/>n which we can use it.</p>
			<h3>Range function</h3>
			<p>Sometimes, you will want to iterate<a id="_idIndexMarker154"/> over all indexes within an array. To do so, you can use the <code>range()</code> function, which is built into the engine. This function returns an array from <code>0</code> to a specified number. Here’s an example:</p>
			<pre class="source-code">
var numbers_from_0_to_5 = range(6)
print(numbers_from_0_to_5 )</pre>			<p>This code will print out <code>[0, 1, 2, 3, </code><code>4, 5]</code>.</p>
			<p>Notice that we gave the number <code>6</code> to the function but that the array stops at the number 5.</p>
			<p>We can use the <code>range()</code> function like so:</p>
			<pre class="source-code">
var inventory = ["Boots", "Bananas", "Bandages"]
for index in range(inventory.size()):
   print("The item at index ", index, " is ", inventory[index])</pre>			<p>Here, I called the <code>size()</code> function on the <code>inventory</code> array; this returns the size of the array, which we then can plug right into the <code>range()</code> function.</p>
			<p>The <code>range()</code> function can even do more than this. If you provide it with two numbers, it will create an array that starts from the first number and goes up to the second one, excluding it again. Try this:</p>
			<pre class="source-code">
for number in range(10, 20):
   print(number)</pre>			<p>As an experiment, try constructing a <code>for</code> loop with the preceding <code>range()</code> function and print the result – that is, <code>range(16, </code><code>26, 2)</code>.</p>
			<p>You’ll see that we go from <code>16</code> to <code>26</code> as expected. But this time, the interval between each number is <code>2</code>. So, we should get the numbers <code>16</code>, <code>18</code>, <code>20</code>, <code>22</code> and <code>24</code>.</p>
			<p>The third argument that’s given to a range command defines the size of the step we take between numbers.</p>
			<p>Now that we have the <code>for</code> loop and <code>range()</code> function<a id="_idIndexMarker155"/> under our belt, let’s take a<a id="_idTextAnchor125"/> look at the while loop.</p>
			<h2 id="_idParaDest-77"><a id="_idTextAnchor126"/>While loops</h2>
			<p>The second kind <a id="_idIndexMarker156"/>of loop in GDScript is the <code>if</code> statement – we give it a condition and repeat its code block, so long as the condition evaluates to <code>true</code>. Here’s an example:</p>
			<pre class="source-code">
var inventory = ["Boots", "Bananas", "Bandages", "Warm Gloves", "Goggles"]
while inventory.size() &gt; 3:
   inventory.remove_at(0)</pre>			<p>Here, we remove the first element of the inventory array as long, so the array has a length of more than three elements.</p>
			<p>The syntax of a <code>while</code> loop looks as follows:</p>
			<pre class="source-code">
while &lt;condition&gt;:
   &lt;code_block&gt;</pre>			<p>When Godot encounters a <code>while</code> statement, it follows these steps:</p>
			<ol>
				<li>First, it evaluates the condition statement. If it is true, it will go to <em class="italic">step 2</em>; otherwise. it will skip the code block completely and go to <em class="italic">step 4</em>.</li>
				<li>Second, the code block will be executed.</li>
				<li>Third, it will go back to <em class="italic">step 1</em> to evaluate the condition again and see if it has changed.</li>
				<li>Finally, it will execute the rest of the code.</li>
			</ol>
			<p>So <code>while</code> loops will loop<a id="_idIndexMarker158"/> so long as the condition<a id="_idIndexMarker159"/> we defined returns a <code>true</code> value.</p>
			<p>We can visualize a <code>while</code> loop with the following flow chart:</p>
			<div><div><img alt="Figure 3.4 – The flow of a while loop during the execution of the code" src="img/B19358_03_04.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.4 – The flow of a while loop during the execution of the code</p>
			<p> In <em class="italic">Figure 3</em><em class="italic">.4</em>, we start the loop by evaluating the condition we specified. If it results in a <code>true</code> value, we execute the code block of the loop. If this value is not evaluated to be <code>true</code>, we exit the loop.</p>
			<p class="callout-heading">Infinite loops</p>
			<p class="callout">The code block within a <code>while</code> statement must work toward getting the condition<a id="_idIndexMarker160"/> to evaluate false. Otherwise, this will result in an <strong class="bold">infinite loop</strong>. Luckily, Godot ensures this does not crash our computer, but it could freeze up your game and make that crash instead!</p>
			<p>So far, we have learned <a id="_idIndexMarker161"/>about the two basic loops<a id="_idIndexMarker162"/> within GDScript. Now, let’s have a look at how we can have more control over these loops with some special keywords that we can<a id="_idTextAnchor127"/> only use within these loops.</p>
			<h2 id="_idParaDest-78"><a id="_idTextAnchor128"/>Continuing or breaking a loop</h2>
			<p>Two keywords can only be used within a loop: <strong class="bold">continue</strong> and <strong class="bold">break</strong>. Using them excessively or abusing them is not a best practice; you can avoid both if you construct your loop correctly. But they<a id="_idTextAnchor129"/> are still essential to know.</p>
			<h3>The continue keyword</h3>
			<p>The <code>for</code> loop, this means we go to the next element in the array. In a <code>while</code> loop, this means we go back to evaluating the condition:</p>
			<div><div><img alt="Figure 3.5 – The continue keyword will skip all subsequent code and go back to the start of the loop for the next element in the array" src="img/B19358_03_05.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.5 – The continue keyword will skip all subsequent code and go back to the start of the loop for the next element in the array</p>
			<p>For example, the following code will print out all items in the inventory but skip <code>Banana</code>:</p>
			<pre class="source-code">
var inventory = ["Boots", "Banana", "Bandages"]
for item in inventory.size():
   if item == "Banana":
      <strong class="bold">continue</strong>
   print(item)</pre>			<p>The result of this loop will be as follows:</p>
			<pre class="source-code">
Boots
Bandages</pre>			<p>The <code>continue</code> keyword is quite useful<a id="_idIndexMarker165"/> when you want to skip elements, but what<a id="_idIndexMarker166"/> if you want to halt the execution of the loop altogether? That is where the <code>break</code> keyword c<a id="_idTextAnchor130"/>omes in. Let’s look at that now.</p>
			<h3>The break keyword</h3>
			<p>Sometimes, you’ll want<a id="_idIndexMarker167"/> to stop the execution<a id="_idIndexMarker168"/> of a loop prematurely. In such a case, we can use the <strong class="bold">break</strong> keyword:</p>
			<div><div><img alt="Figure 3.6 – The break keyword will skip all subsequent code and stop executing the loop" src="img/B19358_03_06.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.6 – The break keyword will skip all subsequent code and stop executing the loop</p>
			<p>The interpreter will drop<a id="_idIndexMarker169"/> everything it was doing<a id="_idIndexMarker170"/> within the loop and go to the code after it. Here’s an example:</p>
			<pre class="source-code">
var inventory = ["Boots", "Bandages", "Bananas", "Warm Gloves", "Goggles"]
while inventory.size() &gt; 3:
   if inventory[0] == "Bananas":
      <strong class="bold">break</strong>
   prints("Removing :", inventory[0])
   inventory.remove_at(0)</pre>			<p>This snippet will print out the following:</p>
			<pre class="source-code">
Removing Boots
Removing Bandages</pre>			<p>Then, it will see that the first item in the inventory is <code>Bananas</code>, so the <code>if</code> statement evaluates to <code>true</code> and we break the loop, stopping it completely.</p>
			<p>With that, we’ve seen how to use <code>continue</code> and <code>break</code>, but as I said earlier, it is possible to write the same loop without these keywords. As an experiment, try rewriting both examples using the <strong class="bold">continue</strong> and <strong class="bold">break</strong> keywords so that they have the same behavior, but don’t use the <strong class="bold">continue</strong> or <strong class="bold">break</strong> keywords.</p>
			<p>Loops allow us to run code<a id="_idIndexMarker171"/> for an undefined number of elements, making our code<a id="_idIndexMarker172"/> more flexible and dynamic. We will use them throughout this book. Now, let’s take a look at anoth<a id="_idTextAnchor131"/>er container data type: dictionaries.</p>
			<h1 id="_idParaDest-79"><a id="_idTextAnchor132"/>Dictionaries</h1>
			<p>A <strong class="bold">dictionary</strong> is another data container, just like<a id="_idIndexMarker173"/> an array. But unlike arrays, which store data in a certain<a id="_idIndexMarker174"/> order, dictionaries store data using a <strong class="bold">key-value pair</strong>. Instead of associating each element with a predetermined number, like in an array, we associate them with a key that we define ourselves. Because we must define our own keys, there is a more rigid stru<a id="_idTextAnchor133"/>cture in a dictionary than in an array.</p>
			<h2 id="_idParaDest-80"><a id="_idTextAnchor134"/>Creating a dictionary</h2>
			<p>Let’s say that we want<a id="_idIndexMarker175"/> to store the name, price, and weight of an item in our game. We can do this using a dictionary:</p>
			<pre class="source-code">
var item = {
   "name": "Boots",
   "price": 5,
   "weight": 3.9
}</pre>			<p>Here, we use curly brackets, <code>{}</code>, to define a dictionary. Then, we define a key and its associated value within the curly brackets. For example, the <code>"name"</code> key is associated with the <code>"Boots"</code> value. Each key-value pair must be separated by a comma:</p>
			<div><div><img alt="Figure 3.7 – Dictionaries consist of one or more key-value pairs" src="img/B19358_03_07.jpg"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.7 – Dictionaries consist of one or more key-value pairs</p>
			<p>As an experiment, try printing the preceding dictionary like so:</p>
			<pre class="source-code">
print({
   "name": "Boots",
   "price": 5,
   "weight": 3.9
})</pre>			<p>Dictionaries help us in organizing<a id="_idIndexMarker176"/> the data together in a more structured form. Now, let’s have a look <a id="_idTextAnchor135"/>at what data we can put in a dictionary.</p>
			<h2 id="_idParaDest-81"><a id="_idTextAnchor136"/>Data types in dictionaries</h2>
			<p>What data types<a id="_idIndexMarker177"/> can we use for keys and values?</p>
			<p>The values within a dictionary can be any data type we like, even arrays or other dictionaries!</p>
			<p>The keys, on the other hand, cannot. We can only use simple data types as keys in a dictionary. Strings, floats and integers are valid. More complex data types, such as arrays or dictionaries, are not allowed.</p>
			<p>It’s good to note that the type of the keys and values don’t need to be the same over the whole dictionary. You can use different data types throughout:</p>
			<pre class="source-code">
var a_mess_dictionary = {
   "string_key": [4, 6, 9],
   3.14: "Pi",
   123: {
      "sub_key": "This is a sub-dictionary"
   }
}</pre>			<p>As you can see, dictionaries<a id="_idIndexMarker178"/> are ver<a id="_idTextAnchor137"/>y powerful structures for organizing data.</p>
			<h2 id="_idParaDest-82"><a id="_idTextAnchor138"/>Accessing and changing values</h2>
			<p>Accessing and changing<a id="_idIndexMarker179"/> a dictionary’s values<a id="_idIndexMarker180"/> is very similar<a id="_idIndexMarker181"/> to how we access<a id="_idIndexMarker182"/> the values of an array. Instead of specifying the index of the element within the square brackets, we specify the key of the value we want:</p>
			<pre class="source-code">
var item = {
   "name": "Boots",
   "price": 5,
   "weight": 3.9
}
print(item["name"])
item["price"] += 10</pre>			<p>We can even use a stored key from within a variable:</p>
			<pre class="source-code">
var key_variable = "name"
print(item[key_variable])</pre>			<p>Lastly, if the key you are trying to access is a string, you can also get to its value using the following syntax:</p>
			<pre class="source-code">
print(item.name)</pre>			<p>Just use a dot behind the dictionary’s name and then the key. This will not work if the key i<a id="_idTextAnchor139"/>s anything other than a string, like a number.</p>
			<h2 id="_idParaDest-83"><a id="_idTextAnchor140"/>Creating a new key-value pair</h2>
			<p>A remarkable feature<a id="_idIndexMarker183"/> of dictionaries<a id="_idIndexMarker184"/> is that we can easily add new key-value pairs after the dictionary is created. We can simply do this by assigning a value to a non-existing key:</p>
			<pre class="source-code">
item["color"] = "blue"</pre>			<p>Here, we added a new key-value pair to the item dictionary <a id="_idTextAnchor141"/>with <code>"color"</code> as the key and <code>"blue"</code> as the value.</p>
			<h2 id="_idParaDest-84"><a id="_idTextAnchor142"/>Useful functions</h2>
			<p>Just like arrays, dictionaries have some u<a id="_idTextAnchor143"/>seful functions<a id="_idIndexMarker185"/> that come in handy occasionally.</p>
			<h3>has</h3>
			<p>Sometimes, we need to know<a id="_idIndexMarker186"/> if a dictionary contains a certain key. In such a case, we can count on the <code>has()</code> function:</p>
			<pre class="source-code">
var item = { "name": "Banana" }
if item.has("name"):
   print(item.name)</pre>			<p>Because the <code>item</code> dictionary has <a id="_idTextAnchor144"/>a key called <em class="italic">name</em>, this code will print that name.</p>
			<h3>erase</h3>
			<p>We only saw how to add key-value pairs<a id="_idIndexMarker187"/> to a dictionary. But with <code>erase()</code>, we can also remove a pair:</p>
			<pre class="source-code">
var item = { "name": "Banana" }
item.erase("name")</pre>			<p>The item dictionary will be empty at the end of this snippet.</p>
			<p>As an experiment, try printin<a id="_idTextAnchor145"/>g out the item dictionary after you erase all keys.</p>
			<h2 id="_idParaDest-85"><a id="_idTextAnchor146"/>Looping through dictionaries</h2>
			<p>It might be surprising, but you can loop<a id="_idIndexMarker188"/> through dictionaries, just like arrays. For example, if we want to print out all the information in an item dictionary, we could do something like t<a id="_idTextAnchor147"/>his:</p>
			<pre class="source-code">
var item = {
   "name": "Boots",
   "price": 5,
   "weight": 3.9
}
for key in item:
   prints(key, "is", item[key])</pre>			<p>As you can see, the temporary variable, <code>key</code>, carries the keys of the dictionary one for one.</p>
			<p>We can also directly iterate over all the values of a dictionary instead of first having to get the keys:</p>
			<pre class="source-code">
for value in item.values():
   print(value)</pre>			<p>This loop will print out all the values within the dictionary.</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">Looping over an array or other data structure can also be called <em class="italic">iterating</em> over it.</p>
			<p>As an experiment, try printing out the values of a <a id="_idTextAnchor148"/>dictionary with <code>item.values()</code>:  <code>print(item.values())</code></p>
			<h2 id="_idParaDest-86"><a id="_idTextAnchor149"/>Nested loops</h2>
			<p>If you want to have<a id="_idIndexMarker189"/> more fun<a id="_idIndexMarker190"/> with loops, you can also nest them. By this, we mean you can use a loop within another loop. For example, let’s say we have an inventory that is an array of item dictionaries and we want to print out the information of each item in a nice way. We could do something like this:</p>
			<pre class="source-code">
var inventory = [
   {
      "name": "Boots",
      "price": 5,
   },
   {
      "name": "Magical Gloves",
      "price": 10
   },
   {
      "name": "Cool Glasses",
      "price": 58
   }
]
for item_index in inventory.size():
   print("Stats of item ", item_index, ":")
   var item = inventory[item_index]
   for key in item:
     printt(key, item[key])</pre>			<p>First, we iterate over all the elements of the array, which gives us each item dictionary. Then, we iterate on all the keys of that item and print the key and its value.</p>
			<p>Of course, you can also combine <code>while</code> and <code>for</code> loops freely. There are no limits!</p>
			<p>With that, we’ve learned all about the two main looping<a id="_idIndexMarker191"/> control flows and the two main container<a id="_idIndexMarker192"/> data types in GDScript. In t<a id="_idTextAnchor150"/><a id="_idTextAnchor151"/><a id="_idTextAnchor152"/><a id="_idTextAnchor153"/><a id="_idTextAnchor154"/><a id="_idTextAnchor155"/><a id="_idTextAnchor156"/>he next section, we’ll learn about a new data type: <code>null</code>.</p>
			<h1 id="_idParaDest-87"><a id="_idTextAnchor157"/>Null</h1>
			<p>Lastly, let me introduce<a id="_idIndexMarker193"/> you to a new data type: <code>null</code>. It carries no information, cannot be changed, and has no functions you can call. So, what is it good for? It is a variable’s value when we don’t give it one from the start. Try out the following snippet of code:</p>
			<pre class="source-code">
var inventory
print(inventory)</pre>			<p>You’ll see that it will print out <code>null</code>. Sometimes, you’ll want to do this to ensure a variable exists but don’t want to initiate it with a value yet. In the filing cabinet metaphor from <a href="B19358_02.xhtml#_idTextAnchor044"><em class="italic">Chapter 2</em></a>, this would mean that we reserved a drawer and a name for the variable but haven’t filled it with data yet.</p>
			<p>Using a variable in any way while it is null will result in an error. For example, the next two operations will result in an error while running the code:</p>
			<pre class="source-code">
var inventory
inventory.append("Boots")
var number_of_lives
number_of_lives -= 2</pre>			<p>So, it is best to check whether a variable is <code>null</code> if you are not sure that the variable is initialized:</p>
			<pre class="source-code">
var number_of_lives
if number_of_lives != null:
   number_of_lives -= 2</pre>			<p>Some operators or functions return <code>null</code> when they cannot complete their task as expected. For example, if you access a key in a dictionary that doesn’t exist, it will return the <code>null</code> value:</p>
			<pre class="source-code">
var item = {
   "name": "Boots",
   "price": 5,
   "weight": 3.9
}
print(i<a id="_idTextAnchor158"/>tem["height"])</pre>			<p>The preceding example<a id="_idIndexMarker194"/> will print out <code>null</code>.</p>
			<h1 id="_idParaDest-88"><a id="_idTextAnchor159"/>Additional exercises – Sharpening the axe</h1>
			<ol>
				<li>Write a script that finds and prints out the name of the most expensive item in the following array using a <code>for</code> loop. You will need to keep two variables <code>most_expensive_item</code> and <code>max_price</code>. The <code>max_price</code> variable starts out at 0. Now, every time you come across a more expensive item you save that item in the <code>most_expensive_item</code> variable and update the new <code>max_price</code>. The most expensive item in the following array should be the <em class="italic">Ring </em><em class="italic">of Might</em>:<pre class="source-code">
var inventory = [
   { "name": "Banana", "price": 5 },
   { "name": "Ring of Might", "price": 100 },
   { "name": "Potion of Healing", "price": 58 },
   { "name": "Helmet", "price": 44 },
]</pre></li>				<li>Write a script that checks whether a specific string is a palindrome; this means that the string should look the same whether you’re reading it forward or backward. For example, <em class="italic">rotator</em> is a palindrome, while <em class="italic">bee</em> is not. To do this, you’ll have to iterate over the string in two directions simultaneously.</li>
			</ol>
			<h1 id="_idParaDest-89"><a id="_idTextAnchor160"/>Summary</h1>
			<p>In this chapter, we looked at two new container types, arrays and dictionaries, and two types of loops, <code>for</code> and <code>while</code> loops. We also learned about useful functions in the string data type and got acquainted with the <code>null</code> value.</p>
			<p>In the next chapter, we’ll learn all about classes,<a id="_idTextAnchor161"/> which are custom data types that we can define ourselves.</p>
			<h1 id="_idParaDest-90"><a id="_idTextAnchor162"/>Quiz time</h1>
			<ul>
				<li>What are two container types we learned about in this chapter?</li>
				<li>What is the difference between arrays and dictionaries?</li>
				<li>How do you access the 4th value in the following array?<pre class="source-code">
var grocery list = ["Appels", "Flour", "Lettuce", "Jelly", "Soap"]</pre></li>				<li>How do you access the value of the height in the following dictionary?<pre class="source-code">
var person = {
   "name": "Mike",
   "eye_color": "brown",
   "hair_color": "blonde",
   "height": 184,
}</pre></li>				<li>What does <code>range(2, </code><code>9)</code> return?</li>
				<li>What is the difference between a <code>for</code> and a <code>while</code> loop?</li>
				<li>When we use one loop inside of another loop, do we call this <a id="_idTextAnchor163"/>a nested loop?</li>
				<li>What value does the following variable have?<pre class="source-code">
var number_of_lives</pre></li>			</ul>
		</div>
	</body></html>