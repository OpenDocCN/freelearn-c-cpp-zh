# 附录 C

在本书的这一部分，我们将快速回顾如何安装 MySQL 服务器。这是实现第 8 章[使用 MySQL 数据库](afdb55d7-2322-4dce-ad9d-ff737f8c3b4b.xhtml)中食谱所必需的。

# 安装 MySQL 服务器

您需要从[https://dev.mysql.com/downloads/](https://dev.mysql.com/downloads/)下载 MySQL 社区服务器。截至编写时，可用的最新 MySQL 服务器版本是 8.0.15。将被下载的安装文件命名为 `mysql-installer-community-8.0.15.0.msi`。

1.  简单双击文件以启动安装。第一个出现的屏幕是许可协议。阅读提到的不同条款和条件。如果您同意这些条款，请点击“我接受许可条款”复选框，然后点击“下一步”按钮。

1.  下一个对话框将提示您选择设置类型。以下选项将被显示：

+   开发者默认：它将安装 MySQL 服务器以及其他用于开发应用程序的工具。

+   仅服务器：它将只安装 MySQL 服务器。

+   仅客户端：它将安装 MySQL 应用程序和连接器，使客户端机器能够访问 MySQL 数据库表。

+   完整版：它将安装所有可用的 MySQL 产品。

+   自定义：系统将提示您选择要安装的 MySQL 产品。

因为我们想开发访问 MySQL 数据库表的程序，我们将选择“开发者默认”选项并点击“下一步”按钮，如下截图所示：

![图片](img/814fb325-bc0a-4e10-bc8f-d46e5e0be830.png)

1.  您将被提示指定 MySQL 服务器文件需要安装的目录。同时，您还需要指定数据目录。对话框默认也会显示这些目录。您可以继续使用默认目录来安装 MySQL 服务器和数据文件，然后点击“下一步”按钮继续。

1.  简单接受对话框中的默认值并点击“下一步”按钮继续安装过程。您将看到一个对话框，指示将在您的机器上安装的产品。点击“执行”按钮下载并安装显示的产品。

1.  当产品下载并安装后，您将看到一个对话框，显示您机器上安装的产品列表，如下截图所示。点击“下一步”按钮继续：

![图片](img/547ab369-61d7-431d-bd48-20bfa43cc267.png)

1.  下一个对话框将显示您需要在您的机器上配置以下内容：

+   MySQL 服务器

+   MySQL 路由器

+   样本和示例

点击“下一步”按钮配置这三个项目，如下截图所示：

![图片](img/e35230f3-dc77-42db-9984-e60a62a491af.png)

1.  您将被询问是否要将 MySQL 服务器配置为独立服务器或作为沙盒 InnoDB 集群设置。在沙盒 InnoDB 集群设置中，您可以轻松配置和管理至少三个格式为 InnoDB 集群的 MySQL 服务器实例。每个 MySQL 服务器都有在 InnoDB 集群内复制数据的能力。集群足够智能，能够在任何服务器实例发生故障时自动重新配置。但因为我们想要一个单独的独立服务器实例，所以请选择“独立 MySQL 服务器”选项，然后点击“下一步”按钮继续，如图所示：

![图片](img/d5f971f8-742e-417c-ba76-db3b092815f3.png)

1.  您将被提示选择服务器配置类型。您需要选择适合您需求和可用资源的配置类型。以下将显示三个选项：

+   开发计算机：在此配置类型中，您的机器可以运行 MySQL 服务器以及其他服务器和不同的开发框架。该机器将被用于开发可以访问 MySQL 数据库和表的应用程序。MySQL 服务器将被配置为使用最少的内存。

+   服务器：在此配置类型中，除了 MySQL 服务器外，还可能运行其他服务器，包括 Web 服务器。MySQL 服务器将被配置为使用中等数量的内存。

+   专用：在此设置类型中，该机器将仅用于运行 MySQL 服务器。因为没有其他应用程序或服务器将在此机器上运行，所以 MySQL 服务器将被配置为使用大部分可用内存。

因为我们将使用此机器进行开发，也就是说，我们将在此机器上运行 MySQL 服务器以及其他服务器和应用程序，所以我们将选择默认的配置类型，即开发计算机。

1.  对话框还询问您希望您的应用程序如何连接到 MySQL 服务器。默认情况下，已选择 TCP/IP 网络和端口 `3306`。此外，默认情况下还选中了一个复选框，该复选框将打开 Windows 防火墙端口以进行网络访问。除此之外，您还将获得两个其他选项，即命名管道和共享内存，用于连接到 MySQL 服务器。

如果您想通过命名管道连接到 MySQL 服务器，则需要启用并定义管道名称。同样，如果您想使用共享内存连接到 MySQL 服务器，则需要启用并定义内存名称。

我们将保留默认的连接选项 TCP/IP，以及端口 `3306`。点击“下一步”按钮继续，如图所示：

![图片](img/b6c41347-67a6-4d1d-9c7f-ee9816faa9de.png)

1.  下一个对话框将提示您选择您想要用于连接到 MySQL 服务器的身份验证方法。以下将显示两个选项：

+   使用强密码加密进行身份验证（推荐）

+   使用传统身份验证方法（保留 MySQL 5.x 兼容性）

对于任何无法更新以使用最新的 MySQL 8.0 连接器和驱动程序的应用程序，请选择“使用传统身份验证方法”选项。因此，保留默认的第一个选项“用于身份验证的强密码加密”，然后点击“下一步”按钮继续，如图所示：

![图片](img/34651c04-cd14-4388-9d3a-7b59549eada0.png)

1.  在下一个对话框中，您将被提示输入一个“Root 账户密码”。输入一个包含大小写字母、数字和符号的强密码。在输入当前 Root 密码后，点击其右侧的“检查”按钮以确认输入的密码是否强大。如果您在点击“检查”按钮时得到勾选，这意味着输入的密码完全没问题。此外，请记住密码，因为您将来需要输入它：

![图片](img/ef3d7d91-1bcc-4fbc-ad28-9a616bed4fbd.png)

1.  在下一个对话框中，您将被要求将 MySQL 服务器配置为 Windows 服务。如果 MySQL 服务器被配置为 Windows 服务，它将在 Windows 启动和停止时自动启动和停止。默认情况下，将根据您使用的 MySQL 版本显示一个 Windows 服务名称。此外，一个复选框“在系统启动时启动 MySQL 服务器”将被默认选中。我们将坚持默认值。此外，您将被询问是否希望以标准系统账户或自定义用户运行 Windows 服务。标准系统账户将默认自动选中。因为我们希望 MySQL 服务器以标准系统账户的形式作为 Windows 服务运行，所以我们将保留默认选项选中并点击“下一步”按钮继续，如图所示：

![图片](img/5dfa07e2-1ac9-4db0-b6e5-b085756fb69d.png)

1.  下一个屏幕将询问是否应用您选择的配置设置。点击对话框底部的“执行”按钮以应用我们选择的配置设置。在应用配置步骤后，您将得到以下对话框通知我们 MySQL 服务器已成功配置。点击“完成”按钮继续：

![图片](img/d84cc77e-90e7-4581-b0c0-c3f338d3735a.png)

1.  您将被告知现在需要配置 MySQL 路由器，您将被要求选择“下一步”按钮以继续配置 MySQL 路由器。点击“下一步”按钮以显示 MySQL 路由器配置对话框。路由器用于将大量数据库流量路由到正在运行的 MySQL 服务器，以便高效使用资源，快速且高效地访问数据库表。

1.  因为我们使用的是独立的 MySQL 服务器安装，所以我们不需要配置 MySQL 路由器，因此，点击“完成”按钮关闭路由器配置对话框。

1.  下一个对话框将询问您是否想要为 MySQL 服务器配置样本和示例。样本模式可以直接在我们的应用程序中使用，示例有助于我们更好地理解 MySQL。因此，点击“下一步”按钮来配置样本和示例。您将看到一个对话框，提示您选择需要在哪个服务器上创建样本模式和数据的（请参阅以下截图）。因为我们已经安装了一个独立的 MySQL 服务器，所以只会显示一个 MySQL 服务器实例，并且默认情况下也会被选中。

在对话框的底部，您将被提示输入 root 密码以在创建样本和示例之前确认身份验证。输入 root 密码后，点击“检查”按钮以确认身份验证。如果您看到一个带有消息“所有连接均成功”的对勾，这意味着您已正确输入了 root 密码，您可以继续点击“下一步”按钮开始创建样本和示例的流程，如以下截图所示：

![截图](img/455f5843-4bc7-46ea-82fb-493b2946359e.png)

1.  下一个对话框将提示您点击“执行”按钮来运行创建样本模式和相关数据的脚本。点击“执行”按钮开始流程。当脚本执行并且样本和示例在运行的 MySQL 服务器上成功创建和配置后，您将看到一个对话框，如以下截图所示。点击“完成”按钮继续：

![截图](img/64cdd248-8044-464b-aaa6-7ed771f93855.png)

1.  下一个对话框确认配置 MySQL 服务器、MySQL 路由器和样本及示例的任务已完成。因此，点击“下一步”按钮继续。

1.  最后一个对话框确认 MySQL 服务器及其相关产品的安装已完成（请参阅以下截图）。默认情况下，两个复选框“设置后启动 MySQL Workbench”和“设置后启动 MySQL Shell”将被自动选中。如果您希望在设置完成后启动它们，可以保留这两个复选框选中，或者如果您希望在需要时再调用它们，可以取消选中任一复选框。点击“完成”按钮以完成安装：

![截图](img/bfb7f41a-302e-4669-80a7-cefc95706130.png)

现在，您已经准备好使用 MySQL 来实现第 8 章 [使用 MySQL 数据库](afdb55d7-2322-4dce-ad9d-ff737f8c3b4b.xhtml)中的食谱了。
