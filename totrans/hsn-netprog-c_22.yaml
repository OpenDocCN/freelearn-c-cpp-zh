- en: Setting Up Your C Compiler on macOS
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: macOS can be a good development environment for a C programmer. Let's get started.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Homebrew and the C compiler
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Setup on macOS will be simplified greatly if we use the **Homebrew** package
    manager.
  prefs: []
  type: TYPE_NORMAL
- en: The Homebrew package manager makes installing a C compiler and development libraries
    much easier than it would otherwise be.
  prefs: []
  type: TYPE_NORMAL
- en: 'To install Homebrew, navigate your web browser to [https://brew.sh/](https://brew.sh/):'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/ee98dd6a-a7b3-4e28-b94a-b31d1d180cfe.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The website gives the command to install Homebrew. You will need to open a
    new Terminal window and paste in the command:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/fcf3e010-1457-41ac-b5f3-fcbeb5688d53.png)'
  prefs: []
  type: TYPE_IMG
- en: Just follow the instructions until Homebrew has finished installing.
  prefs: []
  type: TYPE_NORMAL
- en: 'Installing Homebrew will also cause the Xcode command-line tools to install.
    This means you''ll have a C compiler ready to go. Test that you have a working
    C compiler with the `gcc --version` command:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/cb581ac8-03d7-49a4-88f9-1f5403400f48.png)'
  prefs: []
  type: TYPE_IMG
- en: Note that macOS installs the Clang compiler, but aliases it as GCC. In any case,
    it will work fine for our purposes.
  prefs: []
  type: TYPE_NORMAL
- en: 'Git should also have been installed. You can verify this with `git --version`:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/856a7eb6-4fbe-4b3a-ac86-f719ba7df035.png)'
  prefs: []
  type: TYPE_IMG
- en: Installing OpenSSL
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Assuming you already have Homebrew installed, installing OpenSSL is easy.
  prefs: []
  type: TYPE_NORMAL
- en: 'Open a new Terminal window and use the following command to install the OpenSSL
    library:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: At the time of writing, the default Homebrew `openssl` package is outdated,
    therefore we'll use the `openssl@1.1` package instead.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following screenshot shows Homebrew installing the `openssl@1.1` package:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/ba72cedc-00c3-40d9-b130-77ce2d2ebb7b.png)'
  prefs: []
  type: TYPE_IMG
- en: Be sure to read any output from `brew`.
  prefs: []
  type: TYPE_NORMAL
- en: The method suggested by the `brew` command has you pass `-L` and `-I` to the
    compiler to tell it where to locate the OpenSSL libraries. This is tedious.
  prefs: []
  type: TYPE_NORMAL
- en: You may prefer to symlink the installed library files to the `/usr/local` path
    so that your compiler can find them automatically. Whether you want to do this
    or not is up to you.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you want to create symlinks so the compiler can find OpenSSL, try the following
    commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'This is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/2dff0ded-8a6c-4717-b6cd-13b81dbecfe8.png)'
  prefs: []
  type: TYPE_IMG
- en: 'You can try building `openssl_version.c` from [Chapter 9](47ba170d-42d9-4e38-b5d8-89503e005708.xhtml), *Loading
    Secure Web Pages with HTTPS and OpenSSL*, to test that everything is installed
    correctly. It should look like the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/36b04ada-7deb-45ef-a5ba-7f0a762a6846.png)'
  prefs: []
  type: TYPE_IMG
- en: Installing libssh
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: With Homebrew installed, installing `libssh` is also very easy.
  prefs: []
  type: TYPE_NORMAL
- en: 'Open a new Terminal window and use the following command to install the OpenSSL
    library:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'This is shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/a67db30a-9ecf-4983-961a-c23b34fb46a5.png)'
  prefs: []
  type: TYPE_IMG
- en: This time, we don't need to mess with any other options. You can start using
    `libssh` right away.
  prefs: []
  type: TYPE_NORMAL
- en: 'You can try building `ssh_version.c` from [Chapter 11](c9d0a1dc-878b-4961-825e-65688fac08ae.xhtml), *Establishing
    SSH Connections with libssh*, to test that everything is installed correctly.
    It should look like the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/1462abd5-9dd0-4bde-9247-ced8bf5d3b16.png)'
  prefs: []
  type: TYPE_IMG
- en: That concludes the setup for macOS.
  prefs: []
  type: TYPE_NORMAL
