# 前言

本书将向你介绍微控制器技术。它特别关注两个非常强大的微控制器板——Blue Pill 和 Curiosity Nano，以及如何将传感器连接到它们以解决问题和支持日常生活场景。此外，本书还涵盖了使用**发光二极管**（**LEDs**）和**液晶显示器**（**LCDs**）向微控制器板用户显示传感器信息。

微控制器板是用于从环境获取信息的小型实用计算机，使用传感器。在这本书中，每一章都将专注于使用微控制器技术解决的具体问题，结合实际传感器的使用。

许多目标读者都希望从基于微控制器的项目开始，但他们可能不知道如何开始，包括他们需要使用哪些基本硬件、软件工具和电子元件。本书将涵盖这些内容。

本书中的一章介绍了电子领域，检查和回顾了你在本书中将使用的常见电子元件。另一章提供了 C 和 C++的介绍，这些语言将用于大多数章节中编写 Blue Pill 和 Curiosity Nano 应用程序。

本书最重要的一个方面是，通过微控制器板进行传感器编程比以前更加有效和简单，因为有几个易于使用的编码库支持它们，这在使用它们获取模拟或数字数据时节省了时间和精力。本书解释了常见的传感器编程库。

# 本书面向的对象

这本书旨在为希望深入了解微控制器板编程世界的学者、爱好者、极客和工程师提供帮助。此外，本书也适合数字电子和微控制器板初学者。如果你已经是一位熟练的电子爱好者或程序员，当你想要使用微控制器板高效地编写传感器代码时，你可能会发现这本书很有帮助。

使用其他类型微控制器板（如 Arduino 板）的人可能会发现这本书很有用，因为它包括了对 Blue Pill 和 Curiosity Nano 微控制器板的介绍，这有助于在需要 Arduino 微控制器板的电子项目中理解和应用它们所需的技能迁移。

对数字电路和 C 和 C++编程语言的基本了解是可取的，但不是必需的。这是一本面向刚开始进行数字电子项目的读者的微控制器板入门书籍。

# 本书涵盖的内容

本书涵盖了使用 C++编程 Blue Pill 和 Curiosity Nano 微控制器板的技术主题，包括常用传感器的描述以及它们如何电子连接到微控制器板。本书共分为 14 章，如下所示：

*第一章*，*微控制器和微控制器板简介*，向读者介绍了微控制器技术，并解释了如何安装用于编程书中使用的 Blue Pill 和 Curiosity Nano 微控制器板的**集成开发环境**（**IDEs**）。

*第二章*，*微控制器板的软件设置和 C 编程*，概述了 C 语言，并介绍了用于本书大部分章节编码示例的 Blue Pill 和 Curiosity Nano 微控制器板编程。

*第三章*，*使用按钮开关 LED 的开关*，解释了如何使用微控制器板上的按钮来启动一个过程，例如打开或关闭 LED，以及如何最小化来自按钮的电气噪声。

*第四章*，*使用光敏电阻测量光照量*，专注于如何将光敏电阻连接到 Blue Pill 和 Curiosity Nano 微控制器板来测量环境中的光照量。结果将在连接到这些板的红色、绿色和蓝色 LED 上显示。

*第五章*，*湿度和温度测量*，描述了如何连接实用的 DHT11 传感器来测量环境的湿度和温度，如何在计算机上显示其值，以及如何使用易于使用的 LM35 温度传感器，在两个 LED 上显示其值。

*第六章*，*使用高亮度 LED 的摩尔斯电码 SOS 视觉警报*，展示了如何使用高亮度 LED 显示摩尔斯电码 SOS 信号，从而增加其可见性。本章还解释了如何使用晶体管作为开关来增加 LED 的亮度。

*第七章**，制作一个拍手开关*，向读者描述如何使用声音（拍手）制作电子无线控制。当麦克风检测到连接到微控制器板上的两个拍手声时，将发送一个信号来激活连接到它的设备，并点亮一个 LED 灯。

*第八章**，气体传感器*，向读者介绍了连接到微控制器板的传感器，该传感器会与环境中的特定气体发生反应。

*第九章*，*物联网温度记录系统*，展示了如何使用 Blue Pill 微控制器板和温度传感器构建一个**物联网**（**IoT**）温度记录器。其数据将通过 ESP8266 模块使用 Wi-Fi 进行传输。

*第十章*，*物联网植物花盆湿度传感器*，解释了如何使用微控制器板和湿度传感器构建一个数字设备来监测植物花盆的土壤并确定是否需要浇水，如果土壤过于干燥，将通过无线方式发送警报通知用户。

*第十一章*，*物联网太阳能（电压）测量*，继续使用运行在微控制器板上的物联网软件，通过 ESP8266 WiFi 模块测量从太阳能板通过传感器获得的电压。该应用将使用 ESP8266 WiFi 信号将传感器数据发送到互联网。

*第十二章**，COVID-19 数字体温测量（体温计），探讨了利用红外温度传感器开发非接触式体温计的有趣项目。其测量的温度数据通过 I2C 协议发送到 Blue Pill 微控制器板，并在 I2C 液晶显示屏上显示。*

*第十三章**，COVID-19 社交距离警报*，解释了如何编程一个测量两人或多人之间两米距离的微控制器板。在 COVID-19 的新常态下，由于与感染者近距离接触感染病毒的风险更高，我们需要保持社交距离。世界卫生组织建议至少保持两米的距离；这个规则因国家而异，但普遍认为两米的距离是安全的。

*第十四章**，COVID-19 20 秒洗手计时器*，包含了一个在 Blue Pill 微控制器板上运行的计时器项目，确保人们按照世界卫生组织的建议洗手 20 秒，以预防 COVID-19 感染。该项目在**液晶显示屏**（**LCD**）上显示时间计数。一个超声波传感器检测用户是否在挥手以启动计数。

# 为了最大限度地利用这本书

为了充分利用本书，读者需要具备基本的计算机编程和主要操作系统（如 Windows 或 macOS）的知识，尽管本书有一章介绍了 C 语言。为了编译和运行本书中描述的编程示例，读者应在他们的计算机上预先安装最新的 Arduino IDE（Blue Pill 板可以使用 Arduino IDE 编程）和用于编程 Curiosity Nano 微控制器板的 MPLAB X IDE；其中一章解释了如何安装和使用它们。本书中包含的所有针对 Blue Pill 微控制器板的程序示例都应在 Windows、macOS 和 Linux 操作系统上运行。针对 Curiosity Nano 微控制器板的程序在运行 Windows 和 Linux 操作系统的计算机上进行了测试。

**如果您使用的是本书的数字版，我们建议您自己输入代码或通过 GitHub 仓库（下一节中提供链接）访问代码。这样做将有助于避免与代码复制和粘贴相关的任何潜在错误。**

本书的一些先决条件包括具备基本的计算机编程和电子学知识，以及一些材料，例如无焊面包板、许多杜邦线、LED 灯和电阻。

阅读本书后，您可以继续实验章节中使用的传感器，也许还可以编程并将其他传感器连接到微控制器板上，因为本书为微控制器板编程和使用提供了坚实的基础。

# 下载示例代码文件

您可以从 GitHub（[`github.com/PacktPublishing/DIY-Microcontroller-Projects-for-Hobbyists`](https://github.com/PacktPublishing/DIY-Microcontroller-Projects-for-Hobbyists)）下载本书的示例代码文件。如果代码有更新，它将在现有的 GitHub 仓库中更新。

我们还提供其他代码包，这些代码包来自我们丰富的图书和视频目录，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

# Code in Action

本书的相关“Code in Action”视频可以在[`bit.ly/3cZJHQ5`](https://bit.ly/3cZJHQ5)查看。

# 下载彩色图像

我们还提供了一份包含本书中使用的截图/图表彩色图像的 PDF 文件。您可以从这里下载：[`static.packt-cdn.com/downloads/9781800564138_ColorImages.pdf`](https://static.packt-cdn.com/downloads/9781800564138_ColorImages.pdf)。

# 使用的约定

本书使用了多种文本约定。

`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“将下载的`WebStorm-10*.dmg`磁盘映像文件作为系统中的另一个磁盘挂载。”

代码块设置如下：

```cpp
html, body, #map {
 height: 100%; 
 margin: 0;
 padding: 0
}
```

当我们希望将你的注意力引到代码块中的特定部分时，相关的行或项目将被设置为粗体：

```cpp
[default]
exten => s,1,Dial(Zap/1|30)
exten => s,2,Voicemail(u100)
exten => s,102,Voicemail(b100)
exten => i,1,Voicemail(s0)
```

任何命令行输入或输出都应如下编写：

```cpp
$ mkdir css
$ cd css
```

小贴士或重要注意事项

看起来是这样的。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：如果你对这本书的任何方面有疑问，请在邮件主题中提及书名，并通过 mailto:customercare@packtpub.com 给我们发邮件。

**勘误**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果你在这本书中发现了错误，我们将不胜感激，如果你能向我们报告这一点。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)，选择你的书籍，点击勘误提交表单链接，并输入详细信息。

**盗版**：如果你在互联网上以任何形式遇到我们作品的非法副本，如果你能提供位置地址或网站名称，我们将不胜感激。请通过 mailto:copyright@packt.com 与我们联系，并提供材料的链接。

**如果你有兴趣成为作者**：如果你在某个领域有专业知识，并且你感兴趣的是撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 分享你的想法

一旦你阅读了《DIY Microcontroller Projects for Hobbyists》，我们很乐意听听你的想法！请[点击此处直接访问此书的亚马逊评论页面](https://packt.link/r/1-800-56413-9)并分享你的反馈。

你的评论对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。
