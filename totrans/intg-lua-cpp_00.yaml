- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: This book teaches you how to integrate Lua into C++.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本书教你如何将Lua集成到C++中。
- en: Lua is a simple and efficient scripting language that has been widely adopted
    in the gaming industry and embedded systems. In those two fields, a large portion
    of the control programs and applications are written in C++.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Lua是一种简单高效的脚本语言，在游戏行业和嵌入式系统中得到了广泛的应用。在这两个领域，大部分的控制程序和应用都是用C++编写的。
- en: By bridging Lua and C++ together, you can open more doors and opportunities
    for yourself.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将Lua和C++结合在一起，你可以为自己打开更多的门和机会。
- en: Who this book is for
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书面向的对象
- en: This book is for C++ programmers who are willing to learn how to integrate Lua
    into their projects. This book can also benefit Lua programmers who want to learn
    C++ by combining exercises on C++ with relevant topics.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本书面向愿意学习如何将Lua集成到他们项目中的C++程序员。本书也可以帮助那些想通过结合C++练习和相关信息来学习C++的Lua程序员。
- en: A basic understanding of the C++ programming language is required to fully understand
    and engage with the book. Although a deeper understanding of C++ may make the
    book easier to read, you can learn the advanced C++ techniques you encounter in
    this book on your own through online research.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完全理解和参与本书，需要具备C++编程语言的基本理解。尽管对C++的深入了解可能会使阅读本书变得更容易，但你可以通过在线研究自学本书中遇到的先进C++技术。
- en: No prior knowledge of the Lua programming language is needed, although some
    Lua experience might be beneficial. You can refer to the Lua reference manual
    frequently to learn the Lua programming language as you progress through this
    book.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 不需要具备Lua编程语言的前置知识，尽管一些Lua经验可能会有所帮助。你可以经常参考Lua参考手册，随着你在本书中的进展来学习Lua编程语言。
- en: What this book covers
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '*Chapter 1*, *Getting Your C++ Project* *Lua-Ready*, explores how to get and
    compile Lua source code for use in your own project.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '*第1章*，*让你的C++项目Lua-Ready*，探讨了如何获取和编译Lua源代码以用于自己的项目。'
- en: '*Chapter 2*, *Lua Fundamentals*, provides an introduction to the Lua programming
    language.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '*第2章*，*Lua基础*，介绍了Lua编程语言。'
- en: '*Chapter 3*, *How to Call Lua from C++*, guides you on how to load Lua scripts
    and call Lua functions from C++.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '*第3章*，*如何从C++调用Lua*，指导你如何加载Lua脚本并从C++调用Lua函数。'
- en: '*Chapter 4*, *Mapping Lua Types to C++*, delves into the mechanism of passing
    arguments to Lua functions and retrieving return values in C++.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '*第4章*，*将Lua类型映射到C++*，深入探讨了将参数传递给Lua函数以及在C++中检索返回值的机制。'
- en: '*Chapter 5*, *Working with Lua Tables*, trains you on how to work with Lua
    tables in C++.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '*第5章*，*与Lua表一起工作*，训练你如何在C++中处理Lua表。'
- en: '*Chapter 6*, *How to Call C++ from Lua*, breaks down the process of calling
    C++ code from Lua.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '*第6章*，*如何从Lua调用C++*，详细解析了从Lua调用C++代码的过程。'
- en: '*Chapter 7*, *Working with C++ Types*, delves into exporting C++ classes to
    Lua.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '*第7章*，*与C++类型一起工作*，深入探讨了将C++类导出到Lua。'
- en: '*Chapter 8*, *Abstracting a C++ Type Exporter*, guides you on how to build
    a template class that can export any C++ class to Lua.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '*第8章*，*抽象C++类型导出器*，指导你如何构建一个模板类，可以将任何C++类导出到Lua。'
- en: '*Chapter 9*, *Recapping Lua-C++ Communication Mechanisms*, reviews and summarizes
    the mechanisms to integrate Lua with C++.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '*第9章*，*回顾Lua-C++通信机制*，回顾和总结了将Lua与C++集成的机制。'
- en: '*Chapter 10*, *Managing Resources*, explores some advanced memory management
    techniques and resource management principles.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '*第10章*，*资源管理*，探讨了某些高级内存管理技术和资源管理原则。'
- en: '*Chapter 11*, *Multithreading with Lua*, enables you to work with Lua in a
    multithreaded environment.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '*第11章*，*Lua的多线程*，使你能够在多线程环境中使用Lua。'
- en: To get the most out of this book
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了充分利用这本书
- en: This book will build a Lua executor. Each chapter will focus on one area and
    add one feature group to the executor. The exercises at the end of the chapter,
    if provided, are a crucial part to prepare for the next chapter. For the more
    experienced readers among you, this is why some code might not get implemented
    optimally in the initial chapters. This will help you stay focused on the topics
    at hand.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 本书将构建一个Lua执行器。每一章将专注于一个领域，并为执行器添加一个功能组。如果提供了章节末尾的练习，那么这是为下一章做准备的关键部分。对于经验更丰富的读者来说，这就是为什么一些代码在最初章节中可能没有得到最佳实现。这将帮助你专注于当前的主题。
- en: This book assumes that you know C++ and are willing to learn about Lua. If you
    have no intention of being a Lua programmer, you only need to focus on the related
    Lua concepts rather than Lua coding.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 本书假设您了解C++并且愿意学习Lua。如果您没有成为Lua程序员的打算，您只需要关注相关的Lua概念，而不是Lua编程。
- en: Because this is not a dedicated book to teach either of the programming languages,
    when you see the usage of a certain API that you are not familiar with, you can
    get more information from a Lua or a C++ reference manual. You can enrich your
    learning journey by frequently bridging your knowledge gaps through online research.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这本书不是专门教授任何编程语言的书籍，当你遇到不熟悉的某个API时，你可以从Lua或C++参考手册中获取更多信息。你可以通过经常在线研究来填补知识空白，从而丰富你的学习之旅。
- en: Depending on your style of learning, you can either type all the examples yourself
    to be more hands-on or download the source code from GitHub, quickly skipping
    through the chapters and reverting to a specific chapter as needed when you start
    to implement your own project.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您的学习风格，您可以选择亲自输入所有示例以获得更多实践经验，或者从GitHub下载源代码，快速跳过章节，并在开始实现自己的项目时根据需要回到特定章节。
- en: '*If you are using the digital version of this book, we advise you to type the
    code yourself or access the code from the book’s GitHub repository (a link is
    available in the next section). Doing so will help you avoid any potential errors
    related to the copying and pasting* *of code.*'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果您正在使用本书的数字版，我们建议您亲自输入代码或从本书的GitHub仓库（下一节中提供链接）获取代码。这样做将帮助您避免与代码复制和粘贴相关的任何潜在错误。*'
- en: Download the example code files
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from GitHub at [https://github.com/PacktPublishing/Integrate-Lua-with-CPP](https://github.com/PacktPublishing/Integrate-Lua-with-CPP).
    If there’s an update to the code, it will be updated in the GitHub repository.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从GitHub下载本书的示例代码文件[https://github.com/PacktPublishing/Integrate-Lua-with-CPP](https://github.com/PacktPublishing/Integrate-Lua-with-CPP)。如果代码有更新，它将在GitHub仓库中更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有其他来自我们丰富图书和视频目录的代码包，可在[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)找到。查看它们吧！
- en: Conventions used
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用了多种文本约定。
- en: '`Code in text`: Indicates code words in text, folder names, filenames, file
    extensions, pathnames, user input and program output.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '`文本中的代码`：表示文本中的代码单词、文件夹名称、文件名、文件扩展名、路径名、用户输入和程序输出。'
- en: 'Here is an example: “Then you create a union type with `std::variant`, saying
    that this union type may be and can only be from the pre-defined Lua mappings.”'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个示例：“然后你使用`std::variant`创建一个联合类型，表示这个联合类型可能是，并且只能是预定义的Lua映射之一。”
- en: 'A block of code is set as follows:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块是这样设置的：
- en: '[PRE0]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望您注意代码块中的某个特定部分时，相关的行或项目将以粗体显示：
- en: '[PRE1]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**Bold**: Indicates a new term, an important concept, or crucial software.
    Here is an example: “All systems with graphic user interfaces will also provide
    an application in which to start a shell. Often, those applications are called
    a **terminal** or a **console**.”'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示新术语、重要概念或关键软件。以下是一个示例：“所有具有图形用户界面的系统都将提供一个启动shell的应用程序。通常，这些应用程序被称为**终端**或**控制台**。”'
- en: Tips or important notes
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士或重要注意事项
- en: Appear like this.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来是这样的。
- en: Get in touch
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。
- en: '`customercare@packtpub.com` and mention the book title in the subject of your
    message.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 请将`customercare@packtpub.com`作为收件人，并在邮件主题中提及书籍标题。
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)
    and fill in the form.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误表**：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，我们将非常感激您向我们报告。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。'
- en: '`copyright@packt.com` with a link to the material.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 请将`copyright@packt.com`作为收件人，并在邮件中附上相关材料的链接。
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com).'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您有兴趣成为作者**：如果您在某个主题上具有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。'
- en: Share Your Thoughts
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分享您的想法
- en: Once you’ve read *Integrate Lua to C++*, we’d love to hear your thoughts! Please
    click here to go straight to the Amazon review page for this book and share your
    feedback.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您阅读了《Lua集成到C++》，我们很乐意听听您的想法！请点击此处直接进入此书的亚马逊评论页面并分享您的反馈。
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。
- en: Download a free PDF copy of this book
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载此书的免费PDF副本
- en: Thanks for purchasing this book!
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 感谢您购买此书！
- en: Do you like to read on the go but are unable to carry your print books everywhere?
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 您喜欢随时随地阅读，但又无法携带您的印刷书籍到处走？
- en: Is your eBook purchase not compatible with the device of your choice?
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 您的电子书购买是否与您选择的设备不兼容？
- en: Don’t worry, now with every Packt book you get a DRM-free PDF version of that
    book at no cost.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 别担心，现在，随着每本Packt书籍，您都可以免费获得该书的DRM免费PDF版本。
- en: Read anywhere, any place, on any device. Search, copy, and paste code from your
    favorite technical books directly into your application.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何地方、任何设备上阅读。从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。
- en: The perks don’t stop there, you can get exclusive access to discounts, newsletters,
    and great free content in your inbox daily
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 优惠远不止于此，您还可以获得独家折扣、时事通讯和每日免费内容的每日电子邮件。
- en: 'Follow these simple steps to get the benefits:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下简单步骤获取这些好处：
- en: Scan the QR code or visit the link below
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 扫描二维码或访问以下链接
- en: '![](img/B20927_QR_Free_PDF.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B20927_QR_Free_PDF.jpg)'
- en: '[https://packt.link/free-ebook/9781805128618](https://packt.link/free-ebook/9781805128618)'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/free-ebook/9781805128618](https://packt.link/free-ebook/9781805128618)'
- en: Submit your proof of purchase
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提交您的购买证明
- en: That’s it! We’ll send your free PDF and other benefits to your email directly
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 就这样！我们将直接将您的免费PDF和其他福利发送到您的电子邮件。
- en: Part 1 – Lua Basics
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1部分 – Lua基础
- en: This part of the book will guide you through the process of getting and compiling
    Lua from the source code. Then, you will explore some options to set up your C++
    projects to use Lua. This will be followed by a brief introduction to the Lua
    programming language.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 本书本部分将指导您从源代码获取和编译Lua的过程。然后，您将探索一些设置C++项目以使用Lua的选项。接下来，将简要介绍Lua编程语言。
- en: Hence, the aim of this part is to prepare you for the real work of integrating
    Lua into C++. Feel free to skip through some of the topics if you are already
    familiar with them.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，本部分的目标是让您为将Lua集成到C++的实际工作做好准备。如果您已经熟悉其中的一些主题，可以自由跳过。
- en: 'This part comprises the following chapters:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 本部分包括以下章节：
- en: '*Chapter 1*, *Getting Your C++ Project Lua-Ready*'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*第1章*，*使您的C++项目Lua就绪*'
- en: '*Chapter 2*, *Lua Fundamentals*'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*第2章*，*Lua基础*'
