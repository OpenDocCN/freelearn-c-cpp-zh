<html><head></head><body>
<div><h1 class="mainHeading" id="_idParaDest-5">Preface</h1>
<p class="normal">C++ is a general-purpose, multi-paradigm programming language, supporting procedural, object-oriented, and, to some extent, functional programming paradigms. It started out as C with classes, but over time it transformed into a modern language that enables writing highly expressive code without sacrificing performance. Despite this, C remains the dominant language in embedded development, primarily due to its simplicity and gentler learning curve. </p>
<p class="normal">However, the simplicity of C often makes writing complex systems overly verbose, increasing the cognitive burden on developers and making code more error-prone. This is where C++ excels. With features such as generic programming, runtime and compile-time polymorphism, compile-time computation, and enhanced type and memory safety, it is a superb choice for embedded system development.</p>
<p class="normal">Myths about C++, such as code bloat and runtime overhead, are still widespread. This book begins by debunking these misconceptions and guiding you through C++ fundamentals. It then shifts focus to more advanced modern C++ concepts, applying them to solve real-world problems in embedded development. </p>
<p class="normal">The goal of this book is to show you how modern C++ can be effectively used in embedded systems through carefully selected examples and by applying good software development practices.</p>
<h1 class="heading-1" id="_idParaDest-6">Who this book is for</h1>
<p class="normal">This book is for embedded developers who mainly use C in their daily jobs and would like to discover modern C++. Some familiarity with C++ is expected but not necessary, as the book also covers C++ basics.</p>
<h1 class="heading-1" id="_idParaDest-7">What this book covers</h1>
<p class="normal"><a href="Chapter_01.xhtml"><em class="italic">Chapter 1</em></a>, <em class="italic">Debunking Common Myths About C++</em>, explores widespread misconceptions about C++ and systematically debunks them. You will also gain insight into the history of C++ and the zero-overhead principle.</p>
<p class="normal"><a href="Chapter_02.xhtml"><em class="italic">Chapter 2</em></a>, <em class="italic">Challenges in Embedded Systems with Limited Resources</em>, examines the design challenges faced in resource-constrained embedded systems, with a focus on profiling techniques and memory management. It also shows how to avoid potentially problematic language features such as exceptions and RTTI.</p>
<p class="normal"><a href="Chapter_03.xhtml"><em class="italic">Chapter 3</em></a>, <em class="italic">Embedded C++ Ecosystem</em>, reviews the tools available for C++ development in the embedded domain, including toolchains, static analyzers, profiling tools, and testing frameworks.</p>
<p class="normal"><a href="Chapter_04.xhtml"><em class="italic">Chapter 4</em></a>, <em class="italic">Setting Up the Development Environment for a C++ Embedded Project</em>, walks you through setting up a modern development environment for C++ embedded projects, including using a simulator to test your code in a virtual setting.</p>
<p class="normal"><a href="Chapter_05.xhtml"><em class="italic">Chapter 5</em></a>, <em class="italic">Classes – Building Blocks of C++ Applications</em>, guides you through understanding classes in C++, including storage duration and initialization and inheritance and dynamic polymorphism.</p>
<p class="normal"><a href="Chapter_06.xhtml"><em class="italic">Chapter 6</em></a>, <em class="italic">Beyond Classes – Fundamental C++ Concepts</em>, covers fundamental C++ features such as namespaces and function overloading. It also discusses interoperability with C and introduces standard library containers and algorithms.</p>
<p class="normal"><a href="Chapter_07.xhtml"><em class="italic">Chapter 7</em></a>, <em class="italic">Strengthening Firmware – Practical C++ Error Handling Methods</em>, goes through various error handling techniques in C++, including error codes, asserts, and global handlers. It also explains the mechanics of exceptions and how they work.</p>
<p class="normal"><a href="Chapter_08.xhtml"><em class="italic">Chapter 8</em></a>, <em class="italic">Building Generic and Reusable Code with Templates</em>, goes through templates and concepts. It also provides an introduction to template metaprogramming and compile-time polymorphism.</p>
<p class="normal"><a href="Chapter_09.xhtml"><em class="italic">Chapter 9</em></a>, <em class="italic">Improving Type-Safety with Strong Types</em>, discusses implicit and explicit type conversions in C++ and introduces the concept of strong types. A practical example from an embedded library demonstrates how to improve type safety.</p>
<p class="normal"><a href="Chapter_10.xhtml"><em class="italic">Chapter 10</em></a>, <em class="italic">Writing Expressive Code with Lambdas</em>, introduces lambdas and shows you how to use them within a command design pattern to implement an expressive interrupt manager.</p>
<p class="normal"><a href="Chapter_11.xhtml"><em class="italic">Chapter 11</em></a>, <em class="italic">Compile-Time Computation</em>, explores C++’s compile-time computation capabilities and demonstrates how to use them to build a signal generator library that generates lookup tables at compile time.</p>
<p class="normal"><a href="Chapter_12.xhtml"><em class="italic">Chapter 12</em></a>, <em class="italic">Writing C++ HAL</em>, demonstrates the implementation of HAL in C++, using template-metaprogramming to ensure type-safety.</p>
<p class="normal"><a href="Chapter_13.xhtml"><em class="italic">Chapter 13</em></a>, <em class="italic">Working with C Libraries</em>, shows how to effectively use C libraries in C++ projects. It demonstrates the RAII principle in an example of using a filesystem C library.</p>
<p class="normal"><a href="Chapter_14.xhtml"><em class="italic">Chapter 14</em></a>, <em class="italic">Enhancing Super-Loop with Sequencer</em>, shows how to improve simple super-loop-based designs using a sequencer. It also introduces the <strong class="keyWord">Embedded Template Library</strong> (<strong class="keyWord">ETL</strong>) and its container class templates with fixed sizes known at compile time.</p>
<p class="normal"><a href="Chapter_15.xhtml"><em class="italic">Chapter 15</em></a>, <em class="italic">Practical Patterns – Building a Temperature Publisher</em>, guides you through the Observer design pattern and demonstrates how to apply it in systems such as thermostats and HVAC controllers.</p>
<p class="normal"><a href="Chapter_16.xhtml"><em class="italic">Chapter 16</em></a>, <em class="italic">Designing Scalable Finite State Machines</em>, explores different ways to implement finite state machines. It begins with a basic enum-switch approach, introduces the State design pattern, and then presents the Boost.SML library.</p>
<p class="normal"><a href="Chapter_17.xhtml"><em class="italic">Chapter 17</em></a>, <em class="italic">Libraries and Frameworks</em>, highlights parts of the C++ Standard Template Library that are useful for firmware development in constrained systems. It also features the CIB and Pigweed libraries.</p>
<p class="normal"><a href="Chapter_18.xhtml"><em class="italic">Chapter 18</em></a>, <em class="italic">Cross-Platform Development</em>, discusses the importance of good software design for achieving portability and testability in embedded software.</p>
<h1 class="heading-1" id="_idParaDest-8">To get the most out of this book</h1>
<p class="normal">Many examples in the book can be run in Compiler Explorer (<a href="https://godbolt.org/">https://godbolt.org/</a>). Use it to observe the assembly output of the compiler. Experiment with the examples, tweak them, and compile them with different optimization levels and compiler flags to understand how those changes affect the compiler output.</p>
<p class="normal">Most of the examples can also be run in the Renode simulator. The book is accompanied by a Docker container, which includes the GCC toolchain and the Renode simulator, enabling you to run the code in an embedded target simulation.</p>
<table class="table-container" id="table001">
<thead>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Software/hardware covered in the book</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Operating system requirements</strong></p>
</td>
</tr>
</thead>
<tbody>
<tr>
<td class="table-cell">
<p class="normal">Docker</p>
</td>
<td class="table-cell">
<p class="normal">Windows, macOS, or Linux</p>
</td>
</tr>
</tbody>
</table>
<p class="normal"><strong class="keyWord">If you are using the digital version of this book, we advise you to type the code yourself or access the code from the book’s GitHub repository (a link is available in the next section). Doing so will help you avoid any potential errors related to the copying and pasting of code.</strong></p>
<h2 class="heading-2" id="_idParaDest-9">Download the example code files</h2>
<p class="normal">The code bundle for the book is hosted on GitHub at <a href="https://github.com/PacktPublishing/Cpp-in-Embedded-Systems">https://github.com/PacktPublishing/Cpp-in-Embedded-Systems</a>. We also have other code bundles from our rich catalog of books and videos available at <a href="https://github.com/PacktPublishing">https://github.com/PacktPublishing</a>. Check them out!</p>
<h2 class="heading-2" id="_idParaDest-10">Download the color images</h2>
<p class="normal">We also provide a PDF file that has color images of the screenshots/diagrams used in this book. You can download it here: <a href="https://packt.link/gbp/9781835881149">https://packt.link/gbp/9781835881149</a>.</p>
<h2 class="heading-2" id="_idParaDest-11">Conventions used</h2>
<p class="normal">There are a number of text conventions used throughout this book.</p>
<p class="normal"><code class="inlineCode">CodeInText</code>: Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. For example: “The <code class="inlineCode">PT100</code> class is also a <code class="inlineCode">TemperatureSensor</code> class, and the <code class="inlineCode">TemperatureController</code> class has a member (object) of <code class="inlineCode">TemperatureSensor</code> and a <code class="inlineCode">PidController</code> class.”</p>
<p class="normal">A block of code is set as follows:</p>
<pre class="programlisting code"><code class="hljs-code">#define N 20
int buffer[N];
for(int i = 0; i &lt; N; i ++) {
    printf("%d ", buffer[i]);
}
</code></pre>
<p class="normal">Any command-line input or output is written as follows:</p>
<pre class="programlisting con"><code class="hljs-con">The output of this simple program might be surprising:
resistance = 3.00
</code></pre>
<p class="normal"><strong class="keyWord">Bold</strong>: Indicates a new term, an important word, or words that you see on the screen. For instance, words in menus or dialog boxes appear in the text like this. For example: “Now, we need to add the Google Test library by clicking on the <strong class="keyWord">Libraries</strong> button in the execution pane.”</p>
<div><p class="normal"> Warnings or important notes appear like this.</p>
</div>
<div><p class="normal"> Tips and tricks appear like this.</p>
</div>
<h1 class="heading-1" id="_idParaDest-12">Get in touch</h1>
<p class="normal">Feedback from our readers is always welcome.</p>
<p class="normal"><strong class="keyWord">General feedback</strong>: Email <code class="inlineCode">feedback@packtpub.com</code> and mention the book’s title in the subject of your message. If you have questions about any aspect of this book, please email us at <code class="inlineCode">questions@packtpub.com</code>.</p>
<p class="normal"><strong class="keyWord">Errata</strong>: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you have found a mistake in this book, we would be grateful if you reported this to us. Please visit <a href="http://www.packtpub.com/submit-errata">http://www.packtpub.com/submit-errata</a>, click <strong class="keyWord">Submit Errata</strong>, and fill in the form.</p>
<p class="normal"><strong class="keyWord">Piracy</strong>: If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name. Please contact us at <code class="inlineCode">copyright@packtpub.com</code> with a link to the material.</p>
<p class="normal"><strong class="keyWord">If you are interested in becoming an author</strong>: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please visit <a href="http://authors.packtpub.com/">http://authors.packtpub.com/</a>.</p>
<p class="eop"/>
<h1 class="heading-1" id="_idParaDest-13">Share your thoughts</h1>
<p class="normal">Once you’ve read <em class="italic">C++ in Embedded Systems</em>, we’d love to hear your thoughts! Please click here to go straight to the Amazon review page for this book and share your feedback. </p>
<p class="normal">Your review is important to us and the tech community and will help us make sure we’re delivering excellent quality content.</p>
<p class="eop"/>
<h1 class="heading-1" id="_idParaDest-14">Join our community on Discord</h1>
<p class="normal">Join our community’s Discord space for discussions with the authors and other readers:</p>
<p class="normal"><a href="https://packt.link/embeddedsystems">https://packt.link/embeddedsystems</a></p>
<p class="normal"><img alt="" role="presentation" src="img/QR_code_Discord.png"/></p>
<p class="eop"/>
<h1 class="heading-1" id="_idParaDest-15">Download a free PDF copy of this book</h1>
<p class="normal">Thanks for purchasing this book!</p>
<p class="normal">Do you like to read on the go but are unable to carry your print books everywhere?</p>
<p class="normal">Is your eBook purchase not compatible with the device of your choice?</p>
<p class="normal">Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at no cost.</p>
<p class="normal">Read anywhere, any place, on any device. Search, copy, and paste code from your favorite technical books directly into your application.  </p>
<p class="normal">The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your inbox daily</p>
<p class="normal">Follow these simple steps to get the benefits:</p>
<ol>
<li class="numberedList" value="1">Scan the QR code or visit the link below</li>
</ol>
<p class="packt_figref"><img alt="Qr code  Description automatically generated" src="img/B22402_QR_Free_PDF.png"/></p>
<p class="packt_figref"><a href="https://packt.link/free-ebook/9781835881149">https://packt.link/free-ebook/9781835881149</a></p>
<ol>
<li class="numberedList" value="1">Submit your proof of purchase</li>
<li class="numberedList">That’s it! We’ll send your free PDF and other benefits to your email directly</li>
</ol>
</div>
</body></html>