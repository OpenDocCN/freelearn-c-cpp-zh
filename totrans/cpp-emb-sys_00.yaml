- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: C++ is a general-purpose, multi-paradigm programming language, supporting procedural,
    object-oriented, and, to some extent, functional programming paradigms. It started
    out as C with classes, but over time it transformed into a modern language that
    enables writing highly expressive code without sacrificing performance. Despite
    this, C remains the dominant language in embedded development, primarily due to
    its simplicity and gentler learning curve.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: However, the simplicity of C often makes writing complex systems overly verbose,
    increasing the cognitive burden on developers and making code more error-prone.
    This is where C++ excels. With features such as generic programming, runtime and
    compile-time polymorphism, compile-time computation, and enhanced type and memory
    safety, it is a superb choice for embedded system development.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: Myths about C++, such as code bloat and runtime overhead, are still widespread.
    This book begins by debunking these misconceptions and guiding you through C++
    fundamentals. It then shifts focus to more advanced modern C++ concepts, applying
    them to solve real-world problems in embedded development.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: The goal of this book is to show you how modern C++ can be effectively used
    in embedded systems through carefully selected examples and by applying good software
    development practices.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: Who this book is for
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book is for embedded developers who mainly use C in their daily jobs and
    would like to discover modern C++. Some familiarity with C++ is expected but not
    necessary, as the book also covers C++ basics.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: What this book covers
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[*Chapter 1*](Chapter_01.xhtml), *Debunking Common Myths About C++*, explores
    widespread misconceptions about C++ and systematically debunks them. You will
    also gain insight into the history of C++ and the zero-overhead principle.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 2*](Chapter_02.xhtml), *Challenges in Embedded Systems with Limited
    Resources*, examines the design challenges faced in resource-constrained embedded
    systems, with a focus on profiling techniques and memory management. It also shows
    how to avoid potentially problematic language features such as exceptions and
    RTTI.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 3*](Chapter_03.xhtml), *Embedded C++ Ecosystem*, reviews the tools
    available for C++ development in the embedded domain, including toolchains, static
    analyzers, profiling tools, and testing frameworks.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 4*](Chapter_04.xhtml), *Setting Up the Development Environment for
    a C++ Embedded Project*, walks you through setting up a modern development environment
    for C++ embedded projects, including using a simulator to test your code in a
    virtual setting.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 5*](Chapter_05.xhtml), *Classes – Building Blocks of C++ Applications*,
    guides you through understanding classes in C++, including storage duration and
    initialization and inheritance and dynamic polymorphism.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 6*](Chapter_06.xhtml), *Beyond Classes – Fundamental C++ Concepts*,
    covers fundamental C++ features such as namespaces and function overloading. It
    also discusses interoperability with C and introduces standard library containers
    and algorithms.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 7*](Chapter_07.xhtml), *Strengthening Firmware – Practical C++ Error
    Handling Methods*, goes through various error handling techniques in C++, including
    error codes, asserts, and global handlers. It also explains the mechanics of exceptions
    and how they work.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 8*](Chapter_08.xhtml), *Building Generic and Reusable Code with Templates*,
    goes through templates and concepts. It also provides an introduction to template
    metaprogramming and compile-time polymorphism.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 9*](Chapter_09.xhtml), *Improving Type-Safety with Strong Types*,
    discusses implicit and explicit type conversions in C++ and introduces the concept
    of strong types. A practical example from an embedded library demonstrates how
    to improve type safety.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 10*](Chapter_10.xhtml), *Writing Expressive Code with Lambdas*, introduces
    lambdas and shows you how to use them within a command design pattern to implement
    an expressive interrupt manager.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 11*](Chapter_11.xhtml), *Compile-Time Computation*, explores C++’s
    compile-time computation capabilities and demonstrates how to use them to build
    a signal generator library that generates lookup tables at compile time.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 12*](Chapter_12.xhtml), *Writing C++ HAL*, demonstrates the implementation
    of HAL in C++, using template-metaprogramming to ensure type-safety.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 13*](Chapter_13.xhtml), *Working with C Libraries*, shows how to
    effectively use C libraries in C++ projects. It demonstrates the RAII principle
    in an example of using a filesystem C library.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 14*](Chapter_14.xhtml), *Enhancing Super-Loop with Sequencer*, shows
    how to improve simple super-loop-based designs using a sequencer. It also introduces
    the **Embedded Template Library** (**ETL**) and its container class templates
    with fixed sizes known at compile time.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 15*](Chapter_15.xhtml), *Practical Patterns – Building a Temperature
    Publisher*, guides you through the Observer design pattern and demonstrates how
    to apply it in systems such as thermostats and HVAC controllers.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 16*](Chapter_16.xhtml), *Designing Scalable Finite State Machines*,
    explores different ways to implement finite state machines. It begins with a basic
    enum-switch approach, introduces the State design pattern, and then presents the
    Boost.SML library.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 17*](Chapter_17.xhtml), *Libraries and Frameworks*, highlights parts
    of the C++ Standard Template Library that are useful for firmware development
    in constrained systems. It also features the CIB and Pigweed libraries.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 18*](Chapter_18.xhtml), *Cross-Platform Development*, discusses the
    importance of good software design for achieving portability and testability in
    embedded software.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: To get the most out of this book
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Many examples in the book can be run in Compiler Explorer ([https://godbolt.org/](https://godbolt.org/)).
    Use it to observe the assembly output of the compiler. Experiment with the examples,
    tweak them, and compile them with different optimization levels and compiler flags
    to understand how those changes affect the compiler output.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 书中的许多示例都可以在Compiler Explorer ([https://godbolt.org/](https://godbolt.org/))中运行。使用它来观察编译器的汇编输出。通过实验示例，调整它们，并用不同的优化级别和编译器标志编译它们，以了解这些更改如何影响编译器输出。
- en: Most of the examples can also be run in the Renode simulator. The book is accompanied
    by a Docker container, which includes the GCC toolchain and the Renode simulator,
    enabling you to run the code in an embedded target simulation.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数示例也可以在Renode模拟器中运行。本书附带的Docker容器包括GCC工具链和Renode模拟器，使您能够在嵌入式目标模拟中运行代码。
- en: '| **Software/hardware covered in the book** | **Operating system requirements**
    |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| **本书涵盖的软件/硬件** | **操作系统要求** |'
- en: '| --- | --- |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Docker | Windows, macOS, or Linux |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| Docker | Windows, macOS, 或 Linux |'
- en: '**If you are using the digital version of this book, we advise you to type
    the code yourself or access the code from the book’s GitHub repository (a link
    is available in the next section). Doing so will help you avoid any potential
    errors related to the copying and pasting of code.**'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您正在使用本书的数字版，我们建议您自己输入代码或从本书的GitHub仓库（下一节中有一个链接）获取代码。这样做将帮助您避免与代码复制和粘贴相关的任何潜在错误。**'
- en: Download the example code files
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: The code bundle for the book is hosted on GitHub at [https://github.com/PacktPublishing/Cpp-in-Embedded-Systems](https://github.com/PacktPublishing/Cpp-in-Embedded-Systems).
    We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing](https://github.com/PacktPublishing). Check
    them out!
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 该书的代码包托管在GitHub上，地址为[https://github.com/PacktPublishing/Cpp-in-Embedded-Systems](https://github.com/PacktPublishing/Cpp-in-Embedded-Systems)。我们还有其他来自我们丰富图书和视频目录的代码包，可在[https://github.com/PacktPublishing](https://github.com/PacktPublishing)找到。查看它们吧！
- en: Download the color images
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载彩色图像
- en: 'We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [https://packt.link/gbp/9781835881149](https://packt.link/gbp/9781835881149).'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一份包含本书中使用的截图/图表的彩色图像的PDF文件。您可以从这里下载：[https://packt.link/gbp/9781835881149](https://packt.link/gbp/9781835881149)。
- en: Conventions used
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中使用了多种文本约定。
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles.
    For example: “The `PT100` class is also a `TemperatureSensor` class, and the `TemperatureController`
    class has a member (object) of `TemperatureSensor` and a `PidController` class.”'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '`CodeInText`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter昵称。例如：“`PT100`类也是`TemperatureSensor`类，`TemperatureController`类有一个`TemperatureSensor`成员（对象）和一个`PidController`类。”'
- en: 'A block of code is set as follows:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置为如下：
- en: '[PRE0]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都按照以下方式编写：
- en: '[PRE1]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see on
    the screen. For instance, words in menus or dialog boxes appear in the text like
    this. For example: “Now, we need to add the Google Test library by clicking on
    the **Libraries** button in the execution pane.”'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词在文本中显示如下。例如：“现在，我们需要通过在执行面板中点击**库**按钮来添加Google
    Test库。”'
- en: Warnings or important notes appear like this.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要提示如下所示。
- en: Tips and tricks appear like this.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士和技巧如下所示。
- en: Get in touch
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。
- en: '**General feedback**: Email `feedback@packtpub.com` and mention the book’s
    title in the subject of your message. If you have questions about any aspect of
    this book, please email us at `questions@packtpub.com`.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：请通过电子邮件`feedback@packtpub.com`发送，并在邮件主题中提及本书的标题。如果您对本书的任何方面有疑问，请通过电子邮件`questions@packtpub.com`联系我们。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you reported this to us. Please visit [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    click **Submit Errata**, and fill in the form.'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at `copyright@packtpub.com` with a
    link to the material.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [http://authors.packtpub.com/](http://authors.packtpub.com/).'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: Share your thoughts
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once you’ve read *C++ in Embedded Systems*, we’d love to hear your thoughts!
    Please click here to go straight to the Amazon review page for this book and share
    your feedback.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: Join our community on Discord
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Join our community’s Discord space for discussions with the authors and other
    readers:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: '[https://packt.link/embeddedsystems](https://packt.link/embeddedsystems)'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/QR_code_Discord.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
- en: Download a free PDF copy of this book
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Thanks for purchasing this book!
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: Do you like to read on the go but are unable to carry your print books everywhere?
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: Is your eBook purchase not compatible with the device of your choice?
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: Don’t worry, now with every Packt book you get a DRM-free PDF version of that
    book at no cost.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: Read anywhere, any place, on any device. Search, copy, and paste code from your
    favorite technical books directly into your application.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: The perks don’t stop there, you can get exclusive access to discounts, newsletters,
    and great free content in your inbox daily
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: 'Follow these simple steps to get the benefits:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: Scan the QR code or visit the link below
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Qr code  Description automatically generated](img/B22402_QR_Free_PDF.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
- en: '[https://packt.link/free-ebook/9781835881149](https://packt.link/free-ebook/9781835881149)'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
- en: Submit your proof of purchase
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: That’s it! We’ll send your free PDF and other benefits to your email directly
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
