<html><head></head><body>
<div id="_idContainer219">
<h1 class="chapter-number" id="_idParaDest-238"><a id="_idTextAnchor239"/><span class="koboSpan" id="kobo.1.1">12</span></h1>
<h1 id="_idParaDest-239"><a id="_idTextAnchor240"/><span class="koboSpan" id="kobo.2.1">Managing Multiplayer Sessions</span></h1>
<p><span class="koboSpan" id="kobo.3.1">As you already know from previous chapters, a game session is represented by a server with multiple players all connected </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">to it.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">Unreal Engine provides a solid framework for creating, destroying, and handling game sessions. </span><span class="koboSpan" id="kobo.5.2">By having a strong grip on how to handle a multiplayer session, programmers can ensure their games will provide a nice and flawless experience to all </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">players involved.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">In this chapter, you will be presented with the main concepts needed to manage a game session, starting from the basic setup to creating one. </span><span class="koboSpan" id="kobo.7.2">Then, you’ll learn how to let clients search for available sessions and how to join them. </span><span class="koboSpan" id="kobo.7.3">By the end of this chapter, you will have built a user interface that will be used later to handle the Unreal Engine multiplayer </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">session system.</span></span></p>
<p><span class="koboSpan" id="kobo.9.1">Through the next few sections, I will present the </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.11.1">Understanding </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">game sessions</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Preparing a project </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">game session</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Creating </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">a session</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">Joining </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">a session</span></span></li>
</ul>
<h1 id="_idParaDest-240"><a id="_idTextAnchor241"/><span class="koboSpan" id="kobo.19.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.20.1">To follow the topics presented in this chapter, you should have completed </span><a href="B18203_11.xhtml#_idTextAnchor215"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.21.1">Chapter 11</span></em></span></a><span class="koboSpan" id="kobo.22.1">, </span><em class="italic"><span class="koboSpan" id="kobo.23.1">Debugging a Multiplayer Game</span></em><span class="koboSpan" id="kobo.24.1">, and understood </span><span class="No-Break"><span class="koboSpan" id="kobo.25.1">its content.</span></span></p>
<p><span class="koboSpan" id="kobo.26.1">Additionally, if you would prefer to begin with code from the companion repository for this book, you can download the </span><strong class="source-inline"><span class="koboSpan" id="kobo.27.1">.zip</span></strong><span class="koboSpan" id="kobo.28.1"> project files provided in this book’s companion project </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">repository: </span></span><a href="https://github.com/PacktPublishing/Multiplayer-Game-Development-with-Unreal-Engine-5"><span class="No-Break"><span class="koboSpan" id="kobo.30.1">https://github.com/PacktPublishing/Multiplayer-Game-Development-with-Unreal-Engine-5</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.31.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.32.1">You can download the files that are up to date with the end of the previous chapter by clicking the </span><strong class="source-inline"><span class="koboSpan" id="kobo.33.1">Unreal Shadows – </span></strong><a href="B18203_11.xhtml#_idTextAnchor215"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.34.1">Chapter 11</span></em></span></a><strong class="source-inline"> </strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.35.1">End</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.36.1"> link.</span></span></p>
<h1 id="_idParaDest-241"><a id="_idTextAnchor242"/><span class="koboSpan" id="kobo.37.1">Understanding game sessions</span></h1>
<p><span class="koboSpan" id="kobo.38.1">During a </span><strong class="bold"><span class="koboSpan" id="kobo.39.1">game session</span></strong><span class="koboSpan" id="kobo.40.1">, players</span><a id="_idIndexMarker666"/><span class="koboSpan" id="kobo.41.1"> can participate in online games by connecting to remote servers or even using their computers as dedicated servers. </span><span class="koboSpan" id="kobo.41.2">The Unreal Engine game session system offers a wide range of impressive online capabilities, such as a server browser, player limits, server search over the network, and much more. </span><span class="koboSpan" id="kobo.41.3">It’s easy to use and only requires a few commands to activate. </span><span class="koboSpan" id="kobo.41.4">Whether running on a player’s machine or a dedicated server, game sessions provide a way for players to connect and immerse themselves in the virtual world of the game. </span><span class="koboSpan" id="kobo.41.5">In this chapter, we will focus on setting up a local network environment, leaving the dedicated server setup to the </span><span class="No-Break"><span class="koboSpan" id="kobo.42.1">next chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.43.1">However, before we begin working on sessions, I need to introduce you to the Online Subsystem and its </span><span class="No-Break"><span class="koboSpan" id="kobo.44.1">unique characteristics.</span></span></p>
<h2 id="_idParaDest-242"><a id="_idTextAnchor243"/><span class="koboSpan" id="kobo.45.1">Introducing the Online Subsystem</span></h2>
<p><span class="koboSpan" id="kobo.46.1">In Unreal Engine, the </span><strong class="bold"><span class="koboSpan" id="kobo.47.1">Online Subsystem</span></strong><span class="koboSpan" id="kobo.48.1"> is a </span><a id="_idIndexMarker667"/><span class="koboSpan" id="kobo.49.1">system that offers a standard method of accessing the features of online services such as Epic Online Services, Steam, Xbox Live, and others. </span><span class="koboSpan" id="kobo.49.2">This </span><a id="_idIndexMarker668"/><span class="koboSpan" id="kobo.50.1">is especially useful in game development scenarios where multiple platforms or online services are supported. </span><span class="koboSpan" id="kobo.50.2">In such cases, the Online Subsystem eliminates the need for developers to make code changes by enabling the use of configuration adjustments for each supported service. </span><span class="koboSpan" id="kobo.50.3">This ensures that the coding process and development efforts are streamlined, efficient, and consistent across all supported platforms </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">and services.</span></span></p>
<p><span class="koboSpan" id="kobo.52.1">The core purpose of the Online Subsystem is to manage asynchronous communication with a diverse range of online platforms. </span><span class="koboSpan" id="kobo.52.2">As network speeds, server delays, and backend service runtimes are typically unknown to local machines, interactions with such systems are highly unpredictable in terms of duration. </span><span class="koboSpan" id="kobo.52.3">To address this issue, the Online Subsystem leverages delegates for all remote operations, ensuring that they are always executed when any supported asynchronous feature is utilized. </span><span class="koboSpan" id="kobo.52.4">Delegates serve a dual purpose by enabling the system to respond to requests as they complete, as well as allowing developers to query runtime requests. </span><span class="koboSpan" id="kobo.52.5">By providing a single code path to follow, delegates negate the need for developers to write custom code to handle various success or </span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">failure conditions.</span></span></p>
<p><span class="koboSpan" id="kobo.54.1">Supported features </span><a id="_idIndexMarker669"/><span class="koboSpan" id="kobo.55.1">are grouped into service-specific, modular interfaces. </span><span class="koboSpan" id="kobo.55.2">For instance, the </span><strong class="bold"><span class="koboSpan" id="kobo.56.1">Leaderboard</span></strong><span class="koboSpan" id="kobo.57.1"> interface encompasses all aspects related </span><a id="_idIndexMarker670"/><span class="koboSpan" id="kobo.58.1">to leaderboard access – such as the ability to register personal scores or times, as well as check the leaderboards for scores from players across the globe or within your friends’ lists – while the </span><strong class="bold"><span class="koboSpan" id="kobo.59.1">Purchase</span></strong><span class="koboSpan" id="kobo.60.1"> interface covers the process of making in-game purchases and handling past purchases history. </span><span class="koboSpan" id="kobo.60.2">Each feature set on every supported online service has an associated interface, allowing developers to write code that is agnostic to the online service being employed, promoting consistency </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">across services.</span></span></p>
<p><span class="koboSpan" id="kobo.62.1">Epic Games provides a list of plugins that allow developers to work on the Online Subsystem, including dedicated plugins for the most common and used platforms. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.63.1">Figure 12</span></em></span><em class="italic"><span class="koboSpan" id="kobo.64.1">.1</span></em><span class="koboSpan" id="kobo.65.1"> shows a portion of the many elements available in Unreal Engine’s </span><strong class="bold"><span class="koboSpan" id="kobo.66.1">Plugins</span></strong><span class="koboSpan" id="kobo.67.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.68.1">Online </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.69.1">Platform</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.70.1"> section:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer194">
<span class="koboSpan" id="kobo.71.1"><img alt="Figure 12.1 – Some of the available Online Subsystem plugins" src="image/Figure_12_01_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.72.1">Figure 12.1 – Some of the available Online Subsystem plugins</span></p>
<p><span class="koboSpan" id="kobo.73.1">In this chapter, we will use the default Online Subsystem, which offers the most basic operations to </span><a id="_idIndexMarker671"/><span class="koboSpan" id="kobo.74.1">handle a session, including its creation, destruction, and joining. </span><span class="koboSpan" id="kobo.74.2">In </span><a href="B18203_15.xhtml#_idTextAnchor288"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.75.1">Chapter 15</span></em></span></a><span class="koboSpan" id="kobo.76.1">, </span><em class="italic"><span class="koboSpan" id="kobo.77.1">Adding Epic Online Services (EOS)</span></em><span class="koboSpan" id="kobo.78.1">, we’ll dive into more detail </span><a id="_idIndexMarker672"/><span class="koboSpan" id="kobo.79.1">regarding more advanced Online Subsystem features. </span><span class="koboSpan" id="kobo.79.2">Let’s start by learning how to manage the most basic </span><span class="No-Break"><span class="koboSpan" id="kobo.80.1">session operations.</span></span></p>
<h2 id="_idParaDest-243"><a id="_idTextAnchor244"/><span class="koboSpan" id="kobo.81.1">Understanding session commands</span></h2>
<p><span class="koboSpan" id="kobo.82.1">So, how can </span><a id="_idIndexMarker673"/><span class="koboSpan" id="kobo.83.1">a multiplayer session be managed and operated? </span><span class="koboSpan" id="kobo.83.2">There are four main operations you can use to handle </span><span class="No-Break"><span class="koboSpan" id="kobo.84.1">a session:</span></span></p>
<ul>
<li><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.85.1">Create Session</span></strong></span></li>
<li><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.86.1">Destroy Session</span></strong></span></li>
<li><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.87.1">Find Session</span></strong></span></li>
<li><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.88.1">Join Session</span></strong></span></li>
</ul>
<p><span class="koboSpan" id="kobo.89.1">Let’s take a closer look at each of them and analyze them </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">in detail.</span></span></p>
<h3><span class="koboSpan" id="kobo.91.1">Create Session</span></h3>
<p><span class="koboSpan" id="kobo.92.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.93.1">Create Session</span></strong><span class="koboSpan" id="kobo.94.1"> command </span><a id="_idIndexMarker674"/><span class="koboSpan" id="kobo.95.1">constitutes </span><a id="_idIndexMarker675"/><span class="koboSpan" id="kobo.96.1">the starting point of the session process. </span><span class="koboSpan" id="kobo.96.2">Once a session is created successfully, it becomes discoverable by other instances of the game, which can subsequently join it. </span><span class="koboSpan" id="kobo.96.3">The </span><strong class="bold"><span class="koboSpan" id="kobo.97.1">Create Session</span></strong><span class="koboSpan" id="kobo.98.1"> command allows you to specify key aspects, such as the number of players allowed in the session itself and LAN mode, which lets you manage an internet-based game or a </span><span class="No-Break"><span class="koboSpan" id="kobo.99.1">LAN game.</span></span></p>
<h3><span class="koboSpan" id="kobo.100.1">Destroy Session</span></h3>
<p><span class="koboSpan" id="kobo.101.1">If you are </span><a id="_idIndexMarker676"/><span class="koboSpan" id="kobo.102.1">hosting a session (that is, you created a session), </span><strong class="bold"><span class="koboSpan" id="kobo.103.1">Destroy Session</span></strong><span class="koboSpan" id="kobo.104.1"> will </span><a id="_idIndexMarker677"/><span class="koboSpan" id="kobo.105.1">close it so that it is no longer available for discovery and joining. </span><span class="koboSpan" id="kobo.105.2">Connected clients will be immediately disconnected from the session. </span><span class="koboSpan" id="kobo.105.3">If you are a client who’s connected to a session, calling this command is the way to go to leave the session and, consequently, </span><span class="No-Break"><span class="koboSpan" id="kobo.106.1">the game.</span></span></p>
<h3><span class="koboSpan" id="kobo.107.1">Find Session</span></h3>
<p><span class="koboSpan" id="kobo.108.1">By using</span><a id="_idIndexMarker678"/><span class="koboSpan" id="kobo.109.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.110.1">Find Session</span></strong><span class="koboSpan" id="kobo.111.1"> command, you</span><a id="_idIndexMarker679"/><span class="koboSpan" id="kobo.112.1"> can retrieve a comprehensive list of currently created and accessible game sessions. </span><span class="koboSpan" id="kobo.112.2">Upon a successful call of this method, the returned objects can be queried to obtain important information such as the server’s name, ping, and player count. </span><span class="koboSpan" id="kobo.112.3">As for the </span><strong class="bold"><span class="koboSpan" id="kobo.113.1">Create Session</span></strong><span class="koboSpan" id="kobo.114.1"> command, you can opt for an internet-based game or a </span><span class="No-Break"><span class="koboSpan" id="kobo.115.1">LAN-based one.</span></span></p>
<h3><span class="koboSpan" id="kobo.116.1">Join Session</span></h3>
<p><span class="koboSpan" id="kobo.117.1">After</span><a id="_idIndexMarker680"/><span class="koboSpan" id="kobo.118.1"> identifying the desired session, you can</span><a id="_idIndexMarker681"/><span class="koboSpan" id="kobo.119.1"> initiate a </span><strong class="bold"><span class="koboSpan" id="kobo.120.1">Join Session</span></strong><span class="koboSpan" id="kobo.121.1"> call to join the game. </span><span class="koboSpan" id="kobo.121.2">Upon successful connection to the server, the game will automatically transition to the server’s map and allow you to participate in the </span><span class="No-Break"><span class="koboSpan" id="kobo.122.1">ongoing gameplay.</span></span></p>
<h2 id="_idParaDest-244"><a id="_idTextAnchor245"/><span class="koboSpan" id="kobo.123.1">Understanding connection errors</span></h2>
<p><span class="koboSpan" id="kobo.124.1">As you already know, network operations</span><a id="_idIndexMarker682"/><span class="koboSpan" id="kobo.125.1"> always pose the risk of encountering errors, and it’s critical for games to handle them appropriately. </span><span class="koboSpan" id="kobo.125.2">Instances such as the host leaving the session (or crashing), temporary internet connection issues, or other unforeseen problems are </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">common examples.</span></span></p>
<p><span class="koboSpan" id="kobo.127.1">Any failures </span><a id="_idIndexMarker683"/><span class="koboSpan" id="kobo.128.1">associated with the aforementioned session functions will be communicated through appropriate events or, in the case of Blueprints, dedicated execution pins, allowing the developer to configure the game response accordingly. </span><span class="koboSpan" id="kobo.128.2">This will guarantee a positive experience for the players, even during </span><span class="No-Break"><span class="koboSpan" id="kobo.129.1">critical situations.</span></span></p>
<p><span class="koboSpan" id="kobo.130.1">Now that you have a grasp of how to make and oversee multiplayer game sessions, let’s head back into Unreal Engine and apply this knowledge to our project! </span><span class="koboSpan" id="kobo.130.2">In the next few sections, you will create a user interface that lets you host a session and expose it to the network or </span><span class="No-Break"><span class="koboSpan" id="kobo.131.1">join one.</span></span></p>
<h1 id="_idParaDest-245"><a id="_idTextAnchor246"/><span class="koboSpan" id="kobo.132.1">Preparing a project game session</span></h1>
<p><span class="koboSpan" id="kobo.133.1">In this chapter </span><a id="_idIndexMarker684"/><span class="koboSpan" id="kobo.134.1">and the next, we will create a new level that will serve as a starting point for your game and will let players host a session or join one. </span><span class="koboSpan" id="kobo.134.2">As mentioned previously, in this chapter, we will focus on creating a LAN-hosted game – this means that all players will be connected to the same local network – leaving the trickier details of hosting a game over the internet to the </span><span class="No-Break"><span class="koboSpan" id="kobo.135.1">next chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.136.1">The level will be pretty simple and will contain the </span><span class="No-Break"><span class="koboSpan" id="kobo.137.1">following elements:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.138.1">A user interface widget that will do </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.140.1">Let the player create and host </span><span class="No-Break"><span class="koboSpan" id="kobo.141.1">a session</span></span></li><li><span class="koboSpan" id="kobo.142.1">Let the player find and join </span><span class="No-Break"><span class="koboSpan" id="kobo.143.1">hosted sessions</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.144.1">A 3D model of the character that the player will use to change </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">skin colors</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.146.1">In this chapter, we will focus on creating the user interface – including all the needed widgets – leaving the level creation and the skin handling to the </span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">next one.</span></span></p>
<p><span class="koboSpan" id="kobo.148.1">This interface will concentrate on the primary session functions and not on its visual aspect. </span><span class="koboSpan" id="kobo.148.2">However, you can decide on the style and look based on your personal preference – just let your creativity </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">run free!</span></span></p>
<p><span class="koboSpan" id="kobo.150.1">To create our user interface, we will use UMG again – you used it in </span><a href="B18203_06.xhtml#_idTextAnchor125"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.151.1">Chapter 6</span></em></span></a><span class="koboSpan" id="kobo.152.1">, </span><em class="italic"><span class="koboSpan" id="kobo.153.1">Replicating Properties </span></em><em class="italic"><span class="koboSpan" id="kobo.154.1">O</span></em><em class="italic"><span class="koboSpan" id="kobo.155.1">ver the Network</span></em><span class="koboSpan" id="kobo.156.1">. </span><span class="koboSpan" id="kobo.156.2">One of the main advantages of using the UMG system is that you can create a custom widget and use it to compose the full interface. </span><span class="koboSpan" id="kobo.156.3">This will let you separate elements into logical blocks and keep the overall system clean </span><span class="No-Break"><span class="koboSpan" id="kobo.157.1">and reusable.</span></span></p>
<p><span class="koboSpan" id="kobo.158.1">We will start by creating the needed elements for creating and joining a session. </span><span class="koboSpan" id="kobo.158.2">By the end of this chapter, we will put everything together in a main </span><span class="No-Break"><span class="koboSpan" id="kobo.159.1">menu interface.</span></span></p>
<p><span class="koboSpan" id="kobo.160.1">To get started, we will need four </span><span class="No-Break"><span class="koboSpan" id="kobo.161.1">main components:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.162.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.163.1">Create Session</span></strong><span class="koboSpan" id="kobo.164.1"> widget, which will help us in handling the </span><span class="No-Break"><span class="koboSpan" id="kobo.165.1">session creation</span></span></li>
<li><span class="koboSpan" id="kobo.166.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.167.1">Find Sessions</span></strong><span class="koboSpan" id="kobo.168.1"> widget, which will let us look for available sessions and list them in the </span><span class="No-Break"><span class="koboSpan" id="kobo.169.1">user interface</span></span></li>
<li><span class="koboSpan" id="kobo.170.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.171.1">Session Item Renderer</span></strong><span class="koboSpan" id="kobo.172.1"> widget, which will be used to show each session’s information and will let us join </span><span class="No-Break"><span class="koboSpan" id="kobo.173.1">a session</span></span></li>
<li><span class="koboSpan" id="kobo.174.1">A </span><strong class="bold"><span class="koboSpan" id="kobo.175.1">Main Menu</span></strong><span class="koboSpan" id="kobo.176.1"> widget, which</span><a id="_idIndexMarker685"/><span class="koboSpan" id="kobo.177.1"> will let us display the previous widgets on </span><span class="No-Break"><span class="koboSpan" id="kobo.178.1">the screen</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.179.1">Let’s start creating these widgets by opening the Unreal project and navigating to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.180.1">Content</span></strong><span class="koboSpan" id="kobo.181.1"> | </span><strong class="source-inline"><span class="koboSpan" id="kobo.182.1">Blueprints</span></strong><span class="koboSpan" id="kobo.183.1"> folder. </span><span class="koboSpan" id="kobo.183.2">The first widget we will be adding is </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.184.1">Create Session</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.185.1">.</span></span></p>
<h1 id="_idParaDest-246"><a id="_idTextAnchor247"/><span class="koboSpan" id="kobo.186.1">Creating a session</span></h1>
<p><span class="koboSpan" id="kobo.187.1">In this section, you will be creating a user interface widget that will let you</span><a id="_idIndexMarker686"/><span class="koboSpan" id="kobo.188.1"> manage session creation. </span><span class="koboSpan" id="kobo.188.2">In particular, the </span><strong class="bold"><span class="koboSpan" id="kobo.189.1">Create Session </span></strong><span class="koboSpan" id="kobo.190.1">widget will do </span><span class="No-Break"><span class="koboSpan" id="kobo.191.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.192.1">Let the player select how many players are allowed to connect in a </span><span class="No-Break"><span class="koboSpan" id="kobo.193.1">single session</span></span></li>
<li><span class="koboSpan" id="kobo.194.1">Create the session with the click of </span><span class="No-Break"><span class="koboSpan" id="kobo.195.1">a button</span></span></li>
<li><span class="koboSpan" id="kobo.196.1">Open the game level and start </span><span class="No-Break"><span class="koboSpan" id="kobo.197.1">the game</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.198.1">The first thing we must do is create the actual widget so, in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.199.1">Blueprints</span></strong><span class="koboSpan" id="kobo.200.1"> folder of the Content Browser, do </span><span class="No-Break"><span class="koboSpan" id="kobo.201.1">the following:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.202.1">Right-click and select </span><strong class="bold"><span class="koboSpan" id="kobo.203.1">User Interface</span></strong><span class="koboSpan" id="kobo.204.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.205.1">Widget Blueprint</span></strong><span class="koboSpan" id="kobo.206.1">. </span><span class="koboSpan" id="kobo.206.2">In the pop-up window that appears, select </span><strong class="bold"><span class="koboSpan" id="kobo.207.1">User Widget</span></strong><span class="koboSpan" id="kobo.208.1">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.209.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.210.1">.2</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.211.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer195">
<span class="koboSpan" id="kobo.212.1"><img alt="Figure 12.2 – The user widget creation window" src="image/Figure_12_02_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.213.1">Figure 12.2 – The user widget creation window</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.214.1">Name</span><a id="_idIndexMarker687"/><span class="koboSpan" id="kobo.215.1"> the newly created widget </span><strong class="source-inline"><span class="koboSpan" id="kobo.216.1">WB_CreateSession</span></strong><span class="koboSpan" id="kobo.217.1"> and double-click on it to </span><span class="No-Break"><span class="koboSpan" id="kobo.218.1">open it.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.219.1">Now, we will add the </span><span class="No-Break"><span class="koboSpan" id="kobo.220.1">visual elements.</span></span></p>
<h2 id="_idParaDest-247"><a id="_idTextAnchor248"/><span class="koboSpan" id="kobo.221.1">Adding the visual elements</span></h2>
<p><span class="koboSpan" id="kobo.222.1">Once the</span><a id="_idIndexMarker688"/><span class="koboSpan" id="kobo.223.1"> editor is open, select the </span><strong class="bold"><span class="koboSpan" id="kobo.224.1">Designer</span></strong><span class="koboSpan" id="kobo.225.1"> view and do </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">the following:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.227.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.228.1">Palette</span></strong><span class="koboSpan" id="kobo.229.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.230.1">Canvas Panel</span></strong><span class="koboSpan" id="kobo.231.1"> item into the main window. </span><span class="koboSpan" id="kobo.231.2">Then, from the </span><strong class="bold"><span class="koboSpan" id="kobo.232.1">Details</span></strong><span class="koboSpan" id="kobo.233.1"> panel, name the </span><span class="No-Break"><span class="koboSpan" id="kobo.234.1">item </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.235.1">CreateSessionPanel</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.236.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.237.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.238.1">Palette</span></strong><span class="koboSpan" id="kobo.239.1"> panel, drag an </span><strong class="bold"><span class="koboSpan" id="kobo.240.1">Image</span></strong><span class="koboSpan" id="kobo.241.1"> item – which will work as a background color – onto the </span><strong class="bold"><span class="koboSpan" id="kobo.242.1">Canvas</span></strong><span class="koboSpan" id="kobo.243.1"> panel and, in its </span><strong class="bold"><span class="koboSpan" id="kobo.244.1">Details</span></strong><span class="koboSpan" id="kobo.245.1"> panel, do </span><span class="No-Break"><span class="koboSpan" id="kobo.246.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.247.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.248.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.249.1">Background</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.250.1">.</span></span></li><li><span class="koboSpan" id="kobo.251.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.252.1">Color</span></strong><span class="koboSpan" id="kobo.253.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.254.1">Opacity</span></strong><span class="koboSpan" id="kobo.255.1"> values to </span><strong class="source-inline"><span class="koboSpan" id="kobo.256.1">(0, 0, </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.257.1">0, 0.4)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.258.1">.</span></span></li><li><span class="koboSpan" id="kobo.259.1">While</span><a id="_idIndexMarker689"/><span class="koboSpan" id="kobo.260.1"> holding the </span><em class="italic"><span class="koboSpan" id="kobo.261.1">Ctrl</span></em><span class="koboSpan" id="kobo.262.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.263.1">Shift</span></em><span class="koboSpan" id="kobo.264.1"> keys, click the </span><strong class="bold"><span class="koboSpan" id="kobo.265.1">Anchors</span></strong><span class="koboSpan" id="kobo.266.1"> drop-down menu and select the bottom-right button to make the background stretch over the entirety of the </span><strong class="bold"><span class="koboSpan" id="kobo.267.1">Canvas</span></strong><span class="koboSpan" id="kobo.268.1"> panel. </span><span class="koboSpan" id="kobo.268.2">The selection button is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.269.1">Figure 12.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.270.1">:</span></span></li></ul></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer196">
<span class="koboSpan" id="kobo.271.1"><img alt="Figure 12.3 – The background anchors selection" src="image/Figure_12_03_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.272.1">Figure 12.3 – The background anchors selection</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.273.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.274.1">Palette</span></strong><span class="koboSpan" id="kobo.275.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.276.1">VerticalBox</span></strong><span class="koboSpan" id="kobo.277.1"> item onto the </span><strong class="bold"><span class="koboSpan" id="kobo.278.1">Canvas</span></strong><span class="koboSpan" id="kobo.279.1"> panel and, in its </span><strong class="bold"><span class="koboSpan" id="kobo.280.1">Details</span></strong><span class="koboSpan" id="kobo.281.1"> panel, do </span><span class="No-Break"><span class="koboSpan" id="kobo.282.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.283.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.284.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.285.1">Container</span></strong></span></li><li><span class="koboSpan" id="kobo.286.1">While </span><a id="_idIndexMarker690"/><span class="koboSpan" id="kobo.287.1">holding the </span><em class="italic"><span class="koboSpan" id="kobo.288.1">Ctrl</span></em><span class="koboSpan" id="kobo.289.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.290.1">Shift</span></em><span class="koboSpan" id="kobo.291.1"> keys, click the </span><strong class="bold"><span class="koboSpan" id="kobo.292.1">Anchors</span></strong><span class="koboSpan" id="kobo.293.1"> drop-down menu and select the bottom-right button to make the background stretch over the entirety of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.294.1">Canvas</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.295.1"> panel</span></span></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.296.1">At this point, you have created the container for the widget – nothing fancy, but it’s fully functional. </span><span class="koboSpan" id="kobo.296.2">The widget hierarchy can be seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.297.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.298.1">.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.299.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer197">
<span class="koboSpan" id="kobo.300.1"><img alt="Figure 12.4 – The partial CreateSession widget hierarchy" src="image/Figure_12_04_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.301.1">Figure 12.4 – The partial CreateSession widget hierarchy</span></p>
<p><span class="koboSpan" id="kobo.302.1">We are now going to add the working elements that will allow the player to create the session. </span><span class="koboSpan" id="kobo.302.2">To do so, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.303.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.304.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.305.1">Palette</span></strong><span class="koboSpan" id="kobo.306.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.307.1">Text</span></strong><span class="koboSpan" id="kobo.308.1"> component into the </span><strong class="bold"><span class="koboSpan" id="kobo.309.1">Container</span></strong><span class="koboSpan" id="kobo.310.1"> item (that is, the vertical box) and do </span><span class="No-Break"><span class="koboSpan" id="kobo.311.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.312.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.314.1">TitleLabel</span></strong></span></li><li><span class="koboSpan" id="kobo.315.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.316.1">Padding</span></strong><span class="koboSpan" id="kobo.317.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.318.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.319.1">5.0</span></strong></span></li><li><span class="koboSpan" id="kobo.320.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.321.1">Text</span></strong><span class="koboSpan" id="kobo.322.1"> property to </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.323.1">Create Session</span></strong></span></li></ul></li>
<li><span class="koboSpan" id="kobo.324.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.325.1">Palette</span></strong><span class="koboSpan" id="kobo.326.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.327.1">Border</span></strong><span class="koboSpan" id="kobo.328.1"> component inside the </span><strong class="bold"><span class="koboSpan" id="kobo.329.1">Container</span></strong><span class="koboSpan" id="kobo.330.1"> item and do </span><span class="No-Break"><span class="koboSpan" id="kobo.331.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.332.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.333.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.334.1">Separator</span></strong></span></li><li><span class="koboSpan" id="kobo.335.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.336.1">Padding</span></strong><span class="koboSpan" id="kobo.337.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.339.1">10.0</span></strong></span></li></ul></li>
<li><span class="koboSpan" id="kobo.340.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.341.1">Palette</span></strong><span class="koboSpan" id="kobo.342.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.343.1">Text</span></strong><span class="koboSpan" id="kobo.344.1"> component inside the </span><strong class="bold"><span class="koboSpan" id="kobo.345.1">Container</span></strong><span class="koboSpan" id="kobo.346.1"> item and do </span><span class="No-Break"><span class="koboSpan" id="kobo.347.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.348.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.349.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.350.1">MaxPlayersLabel</span></strong></span></li><li><span class="koboSpan" id="kobo.351.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.352.1">Padding</span></strong><span class="koboSpan" id="kobo.353.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.355.1">5.0</span></strong></span></li><li><span class="koboSpan" id="kobo.356.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.357.1">Text</span></strong><span class="koboSpan" id="kobo.358.1"> property to </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.359.1">Max Players</span></strong></span></li></ul></li>
<li><span class="koboSpan" id="kobo.360.1">From</span><a id="_idIndexMarker691"/><span class="koboSpan" id="kobo.361.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.362.1">Palette</span></strong><span class="koboSpan" id="kobo.363.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.364.1">SpinBox</span></strong><span class="koboSpan" id="kobo.365.1"> component into the </span><strong class="bold"><span class="koboSpan" id="kobo.366.1">Container</span></strong><span class="koboSpan" id="kobo.367.1"> item and do </span><span class="No-Break"><span class="koboSpan" id="kobo.368.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.369.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.371.1">MaxPlayersSpinBox</span></strong></span></li><li><span class="koboSpan" id="kobo.372.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.373.1">Padding</span></strong><span class="koboSpan" id="kobo.374.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.375.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.376.1">10.0</span></strong></span></li><li><span class="koboSpan" id="kobo.377.1">Enable the </span><strong class="bold"><span class="koboSpan" id="kobo.378.1">Minimum Value</span></strong><span class="koboSpan" id="kobo.379.1"> property and set its value </span><span class="No-Break"><span class="koboSpan" id="kobo.380.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.381.1">1</span></strong></span></li><li><span class="koboSpan" id="kobo.382.1">Enable the </span><strong class="bold"><span class="koboSpan" id="kobo.383.1">Maximum Value</span></strong><span class="koboSpan" id="kobo.384.1"> property and set its value </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.386.1">5</span></strong></span></li><li><span class="koboSpan" id="kobo.387.1">Set both </span><strong class="bold"><span class="koboSpan" id="kobo.388.1">Min Fractional Digit</span></strong><span class="koboSpan" id="kobo.389.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.390.1">Max Fractional Digit</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.391.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.392.1">0</span></strong></span></li><li><span class="koboSpan" id="kobo.393.1">Double-check that the </span><strong class="bold"><span class="koboSpan" id="kobo.394.1">Is Variable</span></strong><span class="koboSpan" id="kobo.395.1"> checkbox </span><span class="No-Break"><span class="koboSpan" id="kobo.396.1">is selected</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.397.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.398.1">Palette</span></strong><span class="koboSpan" id="kobo.399.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.400.1">Button</span></strong><span class="koboSpan" id="kobo.401.1"> component into the </span><strong class="bold"><span class="koboSpan" id="kobo.402.1">Container</span></strong><span class="koboSpan" id="kobo.403.1"> item and do </span><span class="No-Break"><span class="koboSpan" id="kobo.404.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.405.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.406.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.407.1">CreateSessionBtn</span></strong></span></li><li><span class="koboSpan" id="kobo.408.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.409.1">Padding</span></strong><span class="koboSpan" id="kobo.410.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.411.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.412.1">5.0</span></strong></span></li><li><span class="koboSpan" id="kobo.413.1">Double-check that the </span><strong class="bold"><span class="koboSpan" id="kobo.414.1">Is Variable</span></strong><span class="koboSpan" id="kobo.415.1"> checkbox </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1">is selected</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.417.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.418.1">Palette</span></strong><span class="koboSpan" id="kobo.419.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.420.1">Text</span></strong><span class="koboSpan" id="kobo.421.1"> component inside into </span><strong class="bold"><span class="koboSpan" id="kobo.422.1">CreateSessionBtn</span></strong><span class="koboSpan" id="kobo.423.1"> item and do </span><span class="No-Break"><span class="koboSpan" id="kobo.424.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.425.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.427.1">CreateSessionLabel</span></strong></span></li><li><span class="koboSpan" id="kobo.428.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.429.1">Text</span></strong><span class="koboSpan" id="kobo.430.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.431.1">to </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.432.1">Create</span></strong></span></li><li><span class="koboSpan" id="kobo.433.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.434.1">Justification</span></strong><span class="koboSpan" id="kobo.435.1"> property to </span><strong class="bold"><span class="koboSpan" id="kobo.436.1">Align </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.437.1">Text Center</span></strong></span></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.438.1">The</span><a id="_idIndexMarker692"/><span class="koboSpan" id="kobo.439.1"> final structure of the widget is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.440.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.441.1">.5</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer198">
<span class="koboSpan" id="kobo.443.1"><img alt="Figure 12.5 – The final CreateSession widget hierarchy" src="image/Figure_12_05_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.444.1">Figure 12.5 – The final CreateSession widget hierarchy</span></p>
<p><span class="koboSpan" id="kobo.445.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.446.1">Designer</span></strong><span class="koboSpan" id="kobo.447.1"> view for the widget is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.448.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.449.1">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.450.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer199">
<span class="koboSpan" id="kobo.451.1"><img alt="Figure 12.6 – The Designer view of the CreateSession widget" src="image/Figure_12_06_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.452.1">Figure 12.6 – The Designer view of the CreateSession widget</span></p>
<p><span class="koboSpan" id="kobo.453.1">With </span><a id="_idIndexMarker693"/><span class="koboSpan" id="kobo.454.1">this layout, the player will be able to select the maximum number of players hosted in a session and start the </span><span class="No-Break"><span class="koboSpan" id="kobo.455.1">session itself.</span></span></p>
<h2 id="_idParaDest-248"><a id="_idTextAnchor249"/><span class="koboSpan" id="kobo.456.1">Implementing the Visual Scripting logic</span></h2>
<p><span class="koboSpan" id="kobo.457.1">Now that the </span><a id="_idIndexMarker694"/><span class="koboSpan" id="kobo.458.1">visual part of the widget is finished, you can start adding the Visual Scripting logic. </span><span class="koboSpan" id="kobo.458.2">Open the </span><strong class="bold"><span class="koboSpan" id="kobo.459.1">Graph</span></strong><span class="koboSpan" id="kobo.460.1"> panel by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.461.1">Graph</span></strong><span class="koboSpan" id="kobo.462.1"> button and, in the </span><strong class="bold"><span class="koboSpan" id="kobo.463.1">Variables</span></strong><span class="koboSpan" id="kobo.464.1"> panel, you should already have two variables – </span><strong class="bold"><span class="koboSpan" id="kobo.465.1">CreateSessionBtn</span></strong><span class="koboSpan" id="kobo.466.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.467.1">MaxPlayersSpinBox</span></strong><span class="koboSpan" id="kobo.468.1">. </span><span class="koboSpan" id="kobo.468.2">Then, complete the </span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">following steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.470.1">Add a new variable of the </span><strong class="bold"><span class="koboSpan" id="kobo.471.1">Integer</span></strong><span class="koboSpan" id="kobo.472.1"> type and call </span><span class="No-Break"><span class="koboSpan" id="kobo.473.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">MaxPlayers</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.475.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.476.1">Select the </span><strong class="bold"><span class="koboSpan" id="kobo.477.1">MaxPlayersSpinBox</span></strong><span class="koboSpan" id="kobo.478.1"> variable and, in the </span><strong class="bold"><span class="koboSpan" id="kobo.479.1">Events</span></strong><span class="koboSpan" id="kobo.480.1"> panel, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.481.1">On Value Changed +</span></strong><span class="koboSpan" id="kobo.482.1"> button to create </span><span class="No-Break"><span class="koboSpan" id="kobo.483.1">an event.</span></span></li>
<li><span class="koboSpan" id="kobo.484.1">Select the </span><strong class="bold"><span class="koboSpan" id="kobo.485.1">CreateSessionBtn</span></strong><span class="koboSpan" id="kobo.486.1"> variable and, in the </span><strong class="bold"><span class="koboSpan" id="kobo.487.1">Events</span></strong><span class="koboSpan" id="kobo.488.1"> panel, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.489.1">On Clicked +</span></strong><span class="koboSpan" id="kobo.490.1"> button to create </span><span class="No-Break"><span class="koboSpan" id="kobo.491.1">an event.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.492.1">The previous steps will create two events that will handle the corresponding user interactions, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.493.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.494.1">.7</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.495.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer200">
<span class="koboSpan" id="kobo.496.1"><img alt="Figure 12.7 – The CreateSession graph events" src="image/Figure_12_07_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.497.1">Figure 12.7 – The CreateSession graph events</span></p>
<p><span class="koboSpan" id="kobo.498.1">We will start </span><a id="_idIndexMarker695"/><span class="koboSpan" id="kobo.499.1">by handling the spin box change event, which will simply have to assign its value to the </span><strong class="bold"><span class="koboSpan" id="kobo.500.1">MaxConnections</span></strong><span class="koboSpan" id="kobo.501.1"> variable. </span><span class="koboSpan" id="kobo.501.2">To do so, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.502.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.503.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.504.1">Variables</span></strong><span class="koboSpan" id="kobo.505.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.506.1">Set Max </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.507.1">Players</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.508.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.509.1">Connect the outgoing execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.510.1">On Value Changed (MaxPlayersSpinBox)</span></strong><span class="koboSpan" id="kobo.511.1"> event to the incoming execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.512.1">Set Max </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.513.1">Players</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.514.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.515.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.516.1">In Value</span></strong><span class="koboSpan" id="kobo.517.1"> pin of the event node to the </span><strong class="bold"><span class="koboSpan" id="kobo.518.1">Max Players</span></strong><span class="koboSpan" id="kobo.519.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.520.1">Set</span></strong><span class="koboSpan" id="kobo.521.1"> node. </span><span class="koboSpan" id="kobo.521.2">This will automatically create a </span><strong class="bold"><span class="koboSpan" id="kobo.522.1">Truncate</span></strong><span class="koboSpan" id="kobo.523.1"> node to convert the spin box float value into </span><span class="No-Break"><span class="koboSpan" id="kobo.524.1">an integer.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.525.1">The final result of this part of the graph is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.526.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.527.1">.8</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.528.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer201">
<span class="koboSpan" id="kobo.529.1"><img alt="Figure 12.8 – The spin box Event Graph" src="image/Figure_12_08_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.530.1">Figure 12.8 – The spin box Event Graph</span></p>
<p><span class="koboSpan" id="kobo.531.1">We can</span><a id="_idIndexMarker696"/><span class="koboSpan" id="kobo.532.1"> now start working on the session creation part of the graph, which will be fired whenever the </span><strong class="bold"><span class="koboSpan" id="kobo.533.1">CreateSessionBtn</span></strong><span class="koboSpan" id="kobo.534.1"> button </span><span class="No-Break"><span class="koboSpan" id="kobo.535.1">is clicked.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.536.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.537.1">Create Session</span></strong><span class="koboSpan" id="kobo.538.1"> node and a </span><strong class="bold"><span class="koboSpan" id="kobo.539.1">Get Player Controller</span></strong><span class="koboSpan" id="kobo.540.1"> node to </span><span class="No-Break"><span class="koboSpan" id="kobo.541.1">the graph.</span></span></li>
<li><span class="koboSpan" id="kobo.542.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.543.1">Variables</span></strong><span class="koboSpan" id="kobo.544.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.545.1">Get Max </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.546.1">Players</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.547.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.548.1">Connect the outgoing execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.549.1">On Clicked (CreateSessionBtn)</span></strong><span class="koboSpan" id="kobo.550.1"> event to the incoming execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.551.1">Create </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.552.1">Session</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.553.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.554.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.555.1">Return Value</span></strong><span class="koboSpan" id="kobo.556.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.557.1">Get Player Controller</span></strong><span class="koboSpan" id="kobo.558.1"> node to the </span><strong class="bold"><span class="koboSpan" id="kobo.559.1">Player Controller</span></strong><span class="koboSpan" id="kobo.560.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.561.1">Create </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.562.1">Session</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.563.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.564.1">Connect the outgoing pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.565.1">Max Players</span></strong><span class="koboSpan" id="kobo.566.1"> node to the </span><strong class="bold"><span class="koboSpan" id="kobo.567.1">Public Connections</span></strong><span class="koboSpan" id="kobo.568.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.569.1">Create </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.570.1">Session</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.571.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.572.1">Enable the </span><strong class="bold"><span class="koboSpan" id="kobo.573.1">Use LAN</span></strong><span class="koboSpan" id="kobo.574.1"> checkbox of the </span><strong class="bold"><span class="koboSpan" id="kobo.575.1">Create </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.576.1">Session</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.577.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.578.1">Add an </span><strong class="bold"><span class="koboSpan" id="kobo.579.1">Open Level (by Name)</span></strong><span class="koboSpan" id="kobo.580.1"> node to the graph and expand its advanced properties by clicking on the down arrow at the bottom of the node itself. </span><span class="koboSpan" id="kobo.580.2">Set its properties to the </span><span class="No-Break"><span class="koboSpan" id="kobo.581.1">following values:</span></span><ul><li><span class="koboSpan" id="kobo.582.1">Add a value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.583.1">Level_01</span></strong><span class="koboSpan" id="kobo.584.1"> to the </span><strong class="bold"><span class="koboSpan" id="kobo.585.1">Level Name</span></strong><span class="koboSpan" id="kobo.586.1"> input field (or insert any game level you would like </span><span class="No-Break"><span class="koboSpan" id="kobo.587.1">to load)</span></span></li><li><span class="koboSpan" id="kobo.588.1">Leave the </span><strong class="bold"><span class="koboSpan" id="kobo.589.1">Absolute</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.590.1">value checked</span></span></li><li><span class="koboSpan" id="kobo.591.1">Add a value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.592.1">listen</span></strong><span class="koboSpan" id="kobo.593.1"> to the </span><strong class="bold"><span class="koboSpan" id="kobo.594.1">Options</span></strong><span class="koboSpan" id="kobo.595.1"> input field to open the level as a </span><span class="No-Break"><span class="koboSpan" id="kobo.596.1">listen server</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.597.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.598.1">On Success</span></strong><span class="koboSpan" id="kobo.599.1"> execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.600.1">Create Session</span></strong><span class="koboSpan" id="kobo.601.1"> node to the incoming </span><a id="_idIndexMarker697"/><span class="koboSpan" id="kobo.602.1">execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.603.1">Open Level (by </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.604.1">Name)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.605.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.606.1">Optionally, connect the </span><strong class="bold"><span class="koboSpan" id="kobo.607.1">On Failure</span></strong><span class="koboSpan" id="kobo.608.1"> execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.609.1">Create Session</span></strong><span class="koboSpan" id="kobo.610.1"> node to a </span><strong class="bold"><span class="koboSpan" id="kobo.611.1">Print String</span></strong><span class="koboSpan" id="kobo.612.1"> node; this will show an error message. </span><span class="koboSpan" id="kobo.612.2">This will trace any failure that may pop up during the creation of a session in the </span><strong class="bold"><span class="koboSpan" id="kobo.613.1">Output </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.614.1">Log</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.615.1"> window.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.616.1">The final graph is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.617.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.618.1">.9</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.619.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer202">
<span class="koboSpan" id="kobo.620.1"><img alt="Figure 12.9 – The Create Session Event Graph" src="image/Figure_12_09_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.621.1">Figure 12.9 – The Create Session Event Graph</span></p>
<p><span class="koboSpan" id="kobo.622.1">The graph you have just created is simple but does a lot of things, including creating a session on a LAN, setting a maximum of players per session, and opening the game level to start the actual </span><span class="No-Break"><span class="koboSpan" id="kobo.623.1">multiplayer session.</span></span></p>
<p><span class="koboSpan" id="kobo.624.1">In the next section, we will work on an interface that will let the player search for and join </span><span class="No-Break"><span class="koboSpan" id="kobo.625.1">existing sessions.</span></span></p>
<h1 id="_idParaDest-249"><a id="_idTextAnchor250"/><span class="koboSpan" id="kobo.626.1">Joining a session</span></h1>
<p><span class="koboSpan" id="kobo.627.1">In this section, we </span><a id="_idIndexMarker698"/><span class="koboSpan" id="kobo.628.1">will work on a couple of widgets that will display a list of sessions available in the network and let the players join them. </span><span class="koboSpan" id="kobo.628.2">We will need two widgets: </span><strong class="bold"><span class="koboSpan" id="kobo.629.1">Session Item Renderer</span></strong><span class="koboSpan" id="kobo.630.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.631.1">Find Session</span></strong><span class="koboSpan" id="kobo.632.1">. </span><span class="koboSpan" id="kobo.632.2">The first one will be used to display a single session’s information, while the second one will be responsible for using the first one as a list of </span><span class="No-Break"><span class="koboSpan" id="kobo.633.1">available sessions.</span></span></p>
<h2 id="_idParaDest-250"><a id="_idTextAnchor251"/><span class="koboSpan" id="kobo.634.1">Creating the SessionItemRenderer widget</span></h2>
<p><span class="koboSpan" id="kobo.635.1">The widget </span><a id="_idIndexMarker699"/><span class="koboSpan" id="kobo.636.1">you will</span><a id="_idIndexMarker700"/><span class="koboSpan" id="kobo.637.1"> create will have the </span><span class="No-Break"><span class="koboSpan" id="kobo.638.1">following features:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.639.1">Displays the available </span><span class="No-Break"><span class="koboSpan" id="kobo.640.1">server name</span></span></li>
<li><span class="koboSpan" id="kobo.641.1">Displays the maximum number of available connections, along with the number of </span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">connected players</span></span></li>
<li><span class="koboSpan" id="kobo.643.1">Provides a join button to let the player enter </span><span class="No-Break"><span class="koboSpan" id="kobo.644.1">the session</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.645.1">The first thing we must do is create the widget. </span><span class="koboSpan" id="kobo.645.2">So, in the Content Browser area, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.646.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.647.1">Right-click and select </span><strong class="bold"><span class="koboSpan" id="kobo.648.1">User Interface</span></strong><span class="koboSpan" id="kobo.649.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.650.1">Widget Blueprint</span></strong><span class="koboSpan" id="kobo.651.1">. </span><span class="koboSpan" id="kobo.651.2">In the pop-up window that appears, select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.652.1">User Widget</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.653.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.654.1">Name the newly created widget </span><strong class="source-inline"><span class="koboSpan" id="kobo.655.1">WB_SessionItemRenderer</span></strong><span class="koboSpan" id="kobo.656.1"> and double-click on it to </span><span class="No-Break"><span class="koboSpan" id="kobo.657.1">open it.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.658.1">Once again, we will start by adding the user </span><span class="No-Break"><span class="koboSpan" id="kobo.659.1">interface elements.</span></span></p>
<h3><span class="koboSpan" id="kobo.660.1">Adding the visual elements</span></h3>
<p><span class="koboSpan" id="kobo.661.1">Once the </span><a id="_idIndexMarker701"/><span class="koboSpan" id="kobo.662.1">editor is open, select the </span><strong class="bold"><span class="koboSpan" id="kobo.663.1">Designer</span></strong><span class="koboSpan" id="kobo.664.1"> panel and do </span><span class="No-Break"><span class="koboSpan" id="kobo.665.1">the following:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.666.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.667.1">Palette</span></strong><span class="koboSpan" id="kobo.668.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.669.1">Horizontal Box</span></strong><span class="koboSpan" id="kobo.670.1"> item – a widget that aligns items horizontally – into the main window and, from the </span><strong class="bold"><span class="koboSpan" id="kobo.671.1">Details</span></strong><span class="koboSpan" id="kobo.672.1"> panel, name </span><span class="No-Break"><span class="koboSpan" id="kobo.673.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.674.1">Container</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.675.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.676.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.677.1">Palette</span></strong><span class="koboSpan" id="kobo.678.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.679.1">Text</span></strong><span class="koboSpan" id="kobo.680.1"> item into the horizontal box container and, in the </span><strong class="bold"><span class="koboSpan" id="kobo.681.1">Details</span></strong><span class="koboSpan" id="kobo.682.1"> panel, do </span><span class="No-Break"><span class="koboSpan" id="kobo.683.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.684.1">Name it </span><strong class="source-inline"><span class="koboSpan" id="kobo.685.1">ServerNameLabel</span></strong><span class="koboSpan" id="kobo.686.1"> and tick the </span><strong class="bold"><span class="koboSpan" id="kobo.687.1">Is Variable</span></strong><span class="koboSpan" id="kobo.688.1"> checkbox to make this item available in the Event </span><span class="No-Break"><span class="koboSpan" id="kobo.689.1">Graph area</span></span></li><li><span class="koboSpan" id="kobo.690.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.691.1">Size</span></strong><span class="koboSpan" id="kobo.692.1"> property to </span><strong class="source-inline"><span class="koboSpan" id="kobo.693.1">Fill</span></strong><span class="koboSpan" id="kobo.694.1"> and the </span><strong class="bold"><span class="koboSpan" id="kobo.695.1">Padding</span></strong><span class="koboSpan" id="kobo.696.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.697.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.698.1">5.0</span></strong></span></li><li><span class="koboSpan" id="kobo.699.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.700.1">Text</span></strong><span class="koboSpan" id="kobo.701.1"> property to </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.702.1">Server Name</span></strong></span></li></ul></li>
<li><span class="koboSpan" id="kobo.703.1">From</span><a id="_idIndexMarker702"/><span class="koboSpan" id="kobo.704.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.705.1">Palette</span></strong><span class="koboSpan" id="kobo.706.1"> window, drag another </span><strong class="bold"><span class="koboSpan" id="kobo.707.1">Text</span></strong><span class="koboSpan" id="kobo.708.1"> item into the horizontal box container and, in the </span><strong class="bold"><span class="koboSpan" id="kobo.709.1">Details</span></strong><span class="koboSpan" id="kobo.710.1"> panel, do </span><span class="No-Break"><span class="koboSpan" id="kobo.711.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.712.1">Name it </span><strong class="source-inline"><span class="koboSpan" id="kobo.713.1">NumPlayersLabel</span></strong><span class="koboSpan" id="kobo.714.1"> and tick the </span><strong class="bold"><span class="koboSpan" id="kobo.715.1">Is Variable</span></strong><span class="koboSpan" id="kobo.716.1"> checkbox to make this item available in the Event </span><span class="No-Break"><span class="koboSpan" id="kobo.717.1">Graph area</span></span></li><li><span class="koboSpan" id="kobo.718.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.719.1">Padding</span></strong><span class="koboSpan" id="kobo.720.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.721.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.722.1">5.0</span></strong></span></li><li><span class="koboSpan" id="kobo.723.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.724.1">Text</span></strong><span class="koboSpan" id="kobo.725.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.726.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.727.1">0/0</span></strong></span></li></ul></li>
<li><span class="koboSpan" id="kobo.728.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.729.1">Palette</span></strong><span class="koboSpan" id="kobo.730.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.731.1">Button</span></strong><span class="koboSpan" id="kobo.732.1"> item into the horizontal box container and, in the </span><strong class="bold"><span class="koboSpan" id="kobo.733.1">Details</span></strong><span class="koboSpan" id="kobo.734.1"> panel, do </span><span class="No-Break"><span class="koboSpan" id="kobo.735.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.736.1">Name it </span><strong class="source-inline"><span class="koboSpan" id="kobo.737.1">JoinBtn</span></strong><span class="koboSpan" id="kobo.738.1"> and double-check that the </span><strong class="bold"><span class="koboSpan" id="kobo.739.1">Is Variable</span></strong><span class="koboSpan" id="kobo.740.1"> checkbox </span><span class="No-Break"><span class="koboSpan" id="kobo.741.1">is ticked</span></span></li><li><span class="koboSpan" id="kobo.742.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.743.1">Padding</span></strong><span class="koboSpan" id="kobo.744.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.745.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.746.1">5.0</span></strong></span></li></ul></li>
<li><span class="koboSpan" id="kobo.747.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.748.1">Palette</span></strong><span class="koboSpan" id="kobo.749.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.750.1">Text</span></strong><span class="koboSpan" id="kobo.751.1"> item onto the </span><strong class="bold"><span class="koboSpan" id="kobo.752.1">JoinBtn</span></strong><span class="koboSpan" id="kobo.753.1"> item and, in the </span><strong class="bold"><span class="koboSpan" id="kobo.754.1">Details</span></strong><span class="koboSpan" id="kobo.755.1"> panel, do </span><span class="No-Break"><span class="koboSpan" id="kobo.756.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.757.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.758.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.759.1">JoinLabel</span></strong></span></li><li><span class="koboSpan" id="kobo.760.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.761.1">Text</span></strong><span class="koboSpan" id="kobo.762.1"> property to </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.763.1">Join Session</span></strong></span></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.764.1">The final structure of the widget is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.765.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.766.1">.10</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.767.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer203">
<span class="koboSpan" id="kobo.768.1"><img alt="Figure 12.10 – The hierarchy view of the SessionItemRenderer widget" src="image/Figure_12_10_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.769.1">Figure 12.10 – The hierarchy view of the SessionItemRenderer widget</span></p>
<p><span class="koboSpan" id="kobo.770.1">The </span><a id="_idIndexMarker703"/><strong class="bold"><span class="koboSpan" id="kobo.771.1">Designer</span></strong><span class="koboSpan" id="kobo.772.1"> view for the widget is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.773.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.774.1">.11</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.775.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer204">
<span class="koboSpan" id="kobo.776.1"><img alt="Figure 12.11 – The Designer view of the SessionItemRenderer widget" src="image/Figure_12_11_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.777.1">Figure 12.11 – The Designer view of the SessionItemRenderer widget</span></p>
<p><span class="koboSpan" id="kobo.778.1">With this layout, the player will be able to see the information for each available session and the </span><span class="No-Break"><span class="koboSpan" id="kobo.779.1">join button.</span></span></p>
<p><span class="koboSpan" id="kobo.780.1">Now that the visual part of the widget is finished, you can start adding the Visual </span><span class="No-Break"><span class="koboSpan" id="kobo.781.1">Scripting logic.</span></span></p>
<h3><span class="koboSpan" id="kobo.782.1">Implementing the Visual Scripting logic</span></h3>
<p><span class="koboSpan" id="kobo.783.1"> Open the </span><strong class="bold"><span class="koboSpan" id="kobo.784.1">Graph</span></strong><span class="koboSpan" id="kobo.785.1"> panel</span><a id="_idIndexMarker704"/><span class="koboSpan" id="kobo.786.1"> by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.787.1">Graph</span></strong><span class="koboSpan" id="kobo.788.1"> button and do </span><span class="No-Break"><span class="koboSpan" id="kobo.789.1">the following:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.790.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.791.1">Variables</span></strong><span class="koboSpan" id="kobo.792.1"> panel, you should already have three variables – </span><strong class="bold"><span class="koboSpan" id="kobo.793.1">JoinBtn</span></strong><span class="koboSpan" id="kobo.794.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.795.1">NumPlayersLabel</span></strong><span class="koboSpan" id="kobo.796.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.797.1">ServerNameLabel</span></strong><span class="koboSpan" id="kobo.798.1">. </span><span class="koboSpan" id="kobo.798.2">In the Designer graph, all of them have been marked as </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.799.1">Is Variable</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.800.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.801.1">Add a new variable of the </span><strong class="bold"><span class="koboSpan" id="kobo.802.1">Blueprint Session Result</span></strong><span class="koboSpan" id="kobo.803.1"> type and do </span><span class="No-Break"><span class="koboSpan" id="kobo.804.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.805.1">Call </span><span class="No-Break"><span class="koboSpan" id="kobo.806.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.807.1">SearchResult</span></strong></span></li><li><span class="koboSpan" id="kobo.808.1">In its </span><strong class="bold"><span class="koboSpan" id="kobo.809.1">Details</span></strong><span class="koboSpan" id="kobo.810.1"> panel, enable the </span><strong class="bold"><span class="koboSpan" id="kobo.811.1">Instance Editable</span></strong><span class="koboSpan" id="kobo.812.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.813.1">Expose on Spawn</span></strong><span class="koboSpan" id="kobo.814.1"> properties to make this property accessible from </span><span class="No-Break"><span class="koboSpan" id="kobo.815.1">other Blueprints</span></span></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.816.1">You should be already familiar with the </span><strong class="bold"><span class="koboSpan" id="kobo.817.1">Instance Editable</span></strong><span class="koboSpan" id="kobo.818.1"> property, but </span><strong class="bold"><span class="koboSpan" id="kobo.819.1">Expose on Spawn</span></strong><span class="koboSpan" id="kobo.820.1"> may be new to you. </span><span class="koboSpan" id="kobo.820.2">Enabling it will show a pin for this property when spawning this Blueprint – this will help us later on in initializing the data when we add this renderer to the list of </span><span class="No-Break"><span class="koboSpan" id="kobo.821.1">available sessions.</span></span></p>
<p><span class="koboSpan" id="kobo.822.1">Now that the variables have been set up, it’s time to add some Visual Scripting. </span><span class="koboSpan" id="kobo.822.2">We will start by implementing the </span><strong class="bold"><span class="koboSpan" id="kobo.823.1">Join Session</span></strong><span class="koboSpan" id="kobo.824.1"> logic. </span><span class="koboSpan" id="kobo.824.2">To do so, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.825.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.826.1">With the </span><strong class="bold"><span class="koboSpan" id="kobo.827.1">JoinBtn</span></strong><span class="koboSpan" id="kobo.828.1"> variable selected, add an </span><strong class="bold"><span class="koboSpan" id="kobo.829.1">On Clicked (JoinBtn)</span></strong><span class="koboSpan" id="kobo.830.1"> event by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.831.1">On Clicked +</span></strong><span class="koboSpan" id="kobo.832.1"> button in the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.833.1">Events</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.834.1"> panel.</span></span></li>
<li><span class="koboSpan" id="kobo.835.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.836.1">Join Session</span></strong><span class="koboSpan" id="kobo.837.1"> node to the graph and connect its incoming execution pin to the outgoing execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.838.1">On Clicked (</span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.839.1">JoinBtn)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.840.1"> event.</span></span></li>
<li><span class="koboSpan" id="kobo.841.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.842.1">Get Player Controller</span></strong><span class="koboSpan" id="kobo.843.1"> node to the graph and connect its </span><strong class="bold"><span class="koboSpan" id="kobo.844.1">Return Value</span></strong><span class="koboSpan" id="kobo.845.1"> pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.846.1">Player Controller</span></strong><span class="koboSpan" id="kobo.847.1"> pin of </span><strong class="bold"><span class="koboSpan" id="kobo.848.1">Join </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.849.1">Session Node</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.850.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.851.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.852.1">Variables</span></strong><span class="koboSpan" id="kobo.853.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.854.1">Get Search Result</span></strong><span class="koboSpan" id="kobo.855.1"> node into the graph and connect its pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.856.1">Search Result</span></strong><span class="koboSpan" id="kobo.857.1"> node of the </span><strong class="bold"><span class="koboSpan" id="kobo.858.1">Join </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.859.1">Session</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.860.1"> node.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.861.1">The final result for this part of the graph is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.862.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.863.1">.12</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.864.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer205">
<span class="koboSpan" id="kobo.865.1"><img alt="Figure 12.12 – The Join Session graph" src="image/Figure_12_12_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.866.1">Figure 12.12 – The Join Session graph</span></p>
<p><span class="koboSpan" id="kobo.867.1">As you can see, joining </span><a id="_idIndexMarker705"/><span class="koboSpan" id="kobo.868.1">a session is quite straightforward once you have the session data (that is, the search result); this data will be obtained during the </span><strong class="bold"><span class="koboSpan" id="kobo.869.1">Find Session</span></strong><span class="koboSpan" id="kobo.870.1"> procedure we’ll </span><span class="No-Break"><span class="koboSpan" id="kobo.871.1">add later.</span></span></p>
<p><span class="koboSpan" id="kobo.872.1">Please notice that we don’t need to open any level after joining a session as we did for the </span><strong class="bold"><span class="koboSpan" id="kobo.873.1">Create Session</span></strong><span class="koboSpan" id="kobo.874.1"> widget; this will happen automatically once we are connected to </span><span class="No-Break"><span class="koboSpan" id="kobo.875.1">the host.</span></span></p>
<p><span class="koboSpan" id="kobo.876.1">To complete this widget, we need to show the search result data in the labels we have previously created and, as we have previously exposed this data on spawn, we will have it already available at construction time. </span><span class="koboSpan" id="kobo.876.2">Let’s complete the widget’s Visual Scripting by looking for the </span><strong class="bold"><span class="koboSpan" id="kobo.877.1">Event Construct</span></strong><span class="koboSpan" id="kobo.878.1"> event node in the graph – it should already be available by default. </span><span class="koboSpan" id="kobo.878.2">Then, perform the </span><span class="No-Break"><span class="koboSpan" id="kobo.879.1">following steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.880.1">To keep things clean, add a </span><strong class="bold"><span class="koboSpan" id="kobo.881.1">Sequence</span></strong><span class="koboSpan" id="kobo.882.1"> node with two outgoing pins (the default setup) and connect its incoming execution pin to the outgoing execution pin of the </span><span class="No-Break"><span class="koboSpan" id="kobo.883.1">event node.</span></span></li>
<li><span class="koboSpan" id="kobo.884.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.885.1">Variables</span></strong><span class="koboSpan" id="kobo.886.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.887.1">Get Server Name Label</span></strong><span class="koboSpan" id="kobo.888.1"> node and a </span><strong class="bold"><span class="koboSpan" id="kobo.889.1">Get Search </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.890.1">Result</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.891.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.892.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.893.1">Server Name Label</span></strong><span class="koboSpan" id="kobo.894.1"> outgoing pin, click and drag to create a </span><strong class="bold"><span class="koboSpan" id="kobo.895.1">SetText (</span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.896.1">Text)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.897.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.898.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.899.1">SetText (Text)</span></strong><span class="koboSpan" id="kobo.900.1"> incoming execution pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.901.1">Then 0</span></strong><span class="koboSpan" id="kobo.902.1"> execution pin of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.903.1">Sequence</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.904.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.905.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.906.1">Search Result</span></strong><span class="koboSpan" id="kobo.907.1"> outgoing pin, click and drag to add a </span><strong class="bold"><span class="koboSpan" id="kobo.908.1">Get Server </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.909.1">Name</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.910.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.911.1">Connect</span><a id="_idIndexMarker706"/><span class="koboSpan" id="kobo.912.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.913.1">Get Server Name</span></strong><span class="koboSpan" id="kobo.914.1"> outgoing pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.915.1">In Text</span></strong><span class="koboSpan" id="kobo.916.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.917.1">SetText (Text)</span></strong><span class="koboSpan" id="kobo.918.1"> node. </span><span class="koboSpan" id="kobo.918.2">This will automatically create a </span><strong class="bold"><span class="koboSpan" id="kobo.919.1">To Text (String)</span></strong><span class="koboSpan" id="kobo.920.1"> node that will convert the text into the </span><span class="No-Break"><span class="koboSpan" id="kobo.921.1">correct type.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.922.1">So far, the graph should be like </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.923.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.924.1">.13</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.925.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer206">
<span class="koboSpan" id="kobo.926.1"><img alt="Figure 12.13 – The first part of the Event Construct event node" src="image/Figure_12_13_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.927.1">Figure 12.13 – The first part of the Event Construct event node</span></p>
<p><span class="koboSpan" id="kobo.928.1">The previous graph simply gets the available server’s name from the search result data and displays it in the corresponding label. </span><span class="koboSpan" id="kobo.928.2">We are going to do something similar with the number of connected players. </span><span class="koboSpan" id="kobo.928.3">To do so, keep on working on the same graph and continue with </span><span class="No-Break"><span class="koboSpan" id="kobo.929.1">these steps.</span></span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.930.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.931.1">Variables</span></strong><span class="koboSpan" id="kobo.932.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.933.1">Get Num Players Label</span></strong><span class="koboSpan" id="kobo.934.1"> node and a </span><strong class="bold"><span class="koboSpan" id="kobo.935.1">Get Search </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.936.1">Result</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.937.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.938.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.939.1">Num Players Label</span></strong><span class="koboSpan" id="kobo.940.1"> outgoing pin, click and drag to create a </span><strong class="bold"><span class="koboSpan" id="kobo.941.1">SetText (</span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.942.1">Text)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.943.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.944.1">Connect </span><a id="_idIndexMarker707"/><span class="koboSpan" id="kobo.945.1">the </span><strong class="bold"><span class="koboSpan" id="kobo.946.1">SetText (Text)</span></strong><span class="koboSpan" id="kobo.947.1"> incoming execution pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.948.1">Then 1</span></strong><span class="koboSpan" id="kobo.949.1"> execution pin of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.950.1">Sequence</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.951.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.952.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.953.1">Search Result</span></strong><span class="koboSpan" id="kobo.954.1"> outgoing pin, click and drag to add a </span><strong class="bold"><span class="koboSpan" id="kobo.955.1">Get Current Players</span></strong><span class="koboSpan" id="kobo.956.1"> node. </span><span class="koboSpan" id="kobo.956.2">Repeat this step, but this time, add a </span><strong class="bold"><span class="koboSpan" id="kobo.957.1">Get Max </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.958.1">Players</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.959.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.960.1">Add an </span><strong class="bold"><span class="koboSpan" id="kobo.961.1">Append</span></strong><span class="koboSpan" id="kobo.962.1"> node (from the </span><strong class="bold"><span class="koboSpan" id="kobo.963.1">String</span></strong><span class="koboSpan" id="kobo.964.1"> category) to the graph. </span><span class="koboSpan" id="kobo.964.2">Add an additional pin to this node by using the </span><strong class="bold"><span class="koboSpan" id="kobo.965.1">Add pin</span></strong><span class="koboSpan" id="kobo.966.1"> button – you should now have three incoming pins in total. </span><span class="koboSpan" id="kobo.966.2">Do the following operations for the </span><span class="No-Break"><span class="koboSpan" id="kobo.967.1">three pins:</span></span><ul><li><span class="koboSpan" id="kobo.968.1">Connect the incoming </span><strong class="bold"><span class="koboSpan" id="kobo.969.1">A</span></strong><span class="koboSpan" id="kobo.970.1"> pin to </span><strong class="bold"><span class="koboSpan" id="kobo.971.1">Return Value</span></strong><span class="koboSpan" id="kobo.972.1"> of the </span><strong class="bold"><span class="koboSpan" id="kobo.973.1">Get Current Players</span></strong><span class="koboSpan" id="kobo.974.1"> node. </span><span class="koboSpan" id="kobo.974.2">This will automatically add a node converted for </span><span class="No-Break"><span class="koboSpan" id="kobo.975.1">the type.</span></span></li><li><span class="koboSpan" id="kobo.976.1">Insert a </span><strong class="source-inline"><span class="koboSpan" id="kobo.977.1">/</span></strong><span class="koboSpan" id="kobo.978.1"> character into the input field for the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.979.1">B</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.980.1"> pin.</span></span></li><li><span class="koboSpan" id="kobo.981.1">Connect the incoming </span><strong class="bold"><span class="koboSpan" id="kobo.982.1">C</span></strong><span class="koboSpan" id="kobo.983.1"> pin to </span><strong class="bold"><span class="koboSpan" id="kobo.984.1">Return Value</span></strong><span class="koboSpan" id="kobo.985.1"> of the </span><strong class="bold"><span class="koboSpan" id="kobo.986.1">Get Max Players</span></strong><span class="koboSpan" id="kobo.987.1"> node. </span><span class="koboSpan" id="kobo.987.2">This will automatically add a node converted for </span><span class="No-Break"><span class="koboSpan" id="kobo.988.1">the type.</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.989.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.990.1">Append</span></strong><span class="koboSpan" id="kobo.991.1"> node’s outgoing pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.992.1">In Text</span></strong><span class="koboSpan" id="kobo.993.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.994.1">SetText (Text)</span></strong><span class="koboSpan" id="kobo.995.1"> node. </span><span class="koboSpan" id="kobo.995.2">This will automatically create a </span><strong class="bold"><span class="koboSpan" id="kobo.996.1">To Text (String)</span></strong><span class="koboSpan" id="kobo.997.1"> node that will convert the text into the </span><span class="No-Break"><span class="koboSpan" id="kobo.998.1">correct type.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.999.1">This portion of the graph will look like </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1000.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1001.1">.14</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1002.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer207">
<span class="koboSpan" id="kobo.1003.1"><img alt="Figure 12.14 – The second part of the Event Construct event node" src="image/Figure_12_14_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1004.1">Figure 12.14 – The second part of the Event Construct event node</span></p>
<p><span class="koboSpan" id="kobo.1005.1">This</span><a id="_idIndexMarker708"/><span class="koboSpan" id="kobo.1006.1"> widget is now complete and contains all the logic to show a session’s information and </span><span class="No-Break"><span class="koboSpan" id="kobo.1007.1">join it.</span></span></p>
<p><span class="koboSpan" id="kobo.1008.1">We are now going to create the third widget, which will allow us to search the network for </span><span class="No-Break"><span class="koboSpan" id="kobo.1009.1">available sessions.</span></span></p>
<h2 id="_idParaDest-251"><a id="_idTextAnchor252"/><span class="koboSpan" id="kobo.1010.1">Creating the FindSessions widget</span></h2>
<p><span class="koboSpan" id="kobo.1011.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1012.1">FindSessions</span></strong><span class="koboSpan" id="kobo.1013.1"> widget </span><a id="_idIndexMarker709"/><span class="koboSpan" id="kobo.1014.1">will have the</span><a id="_idIndexMarker710"/> <span class="No-Break"><span class="koboSpan" id="kobo.1015.1">following </span></span><span class="No-Break"><a id="_idIndexMarker711"/></span><span class="No-Break"><span class="koboSpan" id="kobo.1016.1">features:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.1017.1">Let the player find available sessions through the click of </span><span class="No-Break"><span class="koboSpan" id="kobo.1018.1">a button</span></span></li>
<li><span class="koboSpan" id="kobo.1019.1">Show a list of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1020.1">available sessions</span></span></li>
<li><span class="koboSpan" id="kobo.1021.1">If required, display </span><span class="No-Break"><span class="koboSpan" id="kobo.1022.1">information messages</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1023.1">The first thing we must do is create the actual widget. </span><span class="koboSpan" id="kobo.1023.2">So, in the Content Browser area, do </span><span class="No-Break"><span class="koboSpan" id="kobo.1024.1">the following:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1025.1">Right-click and select </span><strong class="bold"><span class="koboSpan" id="kobo.1026.1">User Interface</span></strong><span class="koboSpan" id="kobo.1027.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1028.1">Widget Blueprint</span></strong><span class="koboSpan" id="kobo.1029.1">. </span><span class="koboSpan" id="kobo.1029.2">In the pop-up window that appears, select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1030.1">User Widget</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1031.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1032.1">Name the newly created widget </span><strong class="source-inline"><span class="koboSpan" id="kobo.1033.1">WB_FindSessions</span></strong><span class="koboSpan" id="kobo.1034.1"> and double-click on it to </span><span class="No-Break"><span class="koboSpan" id="kobo.1035.1">open it.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1036.1">As usual, you </span><a id="_idIndexMarker712"/><span class="koboSpan" id="kobo.1037.1">will start by adding the visual elements to </span><span class="No-Break"><span class="koboSpan" id="kobo.1038.1">the widget.</span></span></p>
<h3><span class="koboSpan" id="kobo.1039.1">Adding the visual elements</span></h3>
<p><span class="koboSpan" id="kobo.1040.1">Once the</span><a id="_idIndexMarker713"/><span class="koboSpan" id="kobo.1041.1"> editor is open, select the </span><strong class="bold"><span class="koboSpan" id="kobo.1042.1">Designer</span></strong><span class="koboSpan" id="kobo.1043.1"> panel and follow </span><span class="No-Break"><span class="koboSpan" id="kobo.1044.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1045.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1046.1">Palette</span></strong><span class="koboSpan" id="kobo.1047.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1048.1">Canvas Panel</span></strong><span class="koboSpan" id="kobo.1049.1"> item into the main window. </span><span class="koboSpan" id="kobo.1049.2">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1050.1">Details</span></strong><span class="koboSpan" id="kobo.1051.1"> panel, name the </span><span class="No-Break"><span class="koboSpan" id="kobo.1052.1">item </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1053.1">FindSessionsPanel</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1054.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1055.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1056.1">Palette</span></strong><span class="koboSpan" id="kobo.1057.1"> window, drag an </span><strong class="bold"><span class="koboSpan" id="kobo.1058.1">Image</span></strong><span class="koboSpan" id="kobo.1059.1"> item – that will work as a background color – inside the </span><strong class="bold"><span class="koboSpan" id="kobo.1060.1">Canvas</span></strong><span class="koboSpan" id="kobo.1061.1"> panel and, in its </span><strong class="bold"><span class="koboSpan" id="kobo.1062.1">Details</span></strong><span class="koboSpan" id="kobo.1063.1"> panel, do </span><span class="No-Break"><span class="koboSpan" id="kobo.1064.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1065.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.1066.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1067.1">Background</span></strong></span></li><li><span class="koboSpan" id="kobo.1068.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.1069.1">Color</span></strong><span class="koboSpan" id="kobo.1070.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.1071.1">Opacity</span></strong><span class="koboSpan" id="kobo.1072.1"> values to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1073.1">(0, 0, </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1074.1">0, 0.4)</span></strong></span></li><li><span class="koboSpan" id="kobo.1075.1">While holding the </span><em class="italic"><span class="koboSpan" id="kobo.1076.1">Ctrl</span></em><span class="koboSpan" id="kobo.1077.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.1078.1">Shift</span></em><span class="koboSpan" id="kobo.1079.1"> keys, click the </span><strong class="bold"><span class="koboSpan" id="kobo.1080.1">Anchors</span></strong><span class="koboSpan" id="kobo.1081.1"> drop-down menu and select the bottom-right button to make the background stretch over the entirety of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1082.1">Canvas</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1083.1"> panel</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1084.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1085.1">Palette</span></strong><span class="koboSpan" id="kobo.1086.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1087.1">VerticalBox</span></strong><span class="koboSpan" id="kobo.1088.1"> item onto the </span><strong class="bold"><span class="koboSpan" id="kobo.1089.1">Canvas</span></strong><span class="koboSpan" id="kobo.1090.1"> panel and, in its </span><strong class="bold"><span class="koboSpan" id="kobo.1091.1">Details</span></strong><span class="koboSpan" id="kobo.1092.1"> panel, do </span><span class="No-Break"><span class="koboSpan" id="kobo.1093.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1094.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.1095.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1096.1">Container</span></strong></span></li><li><span class="koboSpan" id="kobo.1097.1">While holding the </span><em class="italic"><span class="koboSpan" id="kobo.1098.1">Ctrl</span></em><span class="koboSpan" id="kobo.1099.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.1100.1">Shift</span></em><span class="koboSpan" id="kobo.1101.1"> keys pressed, click the </span><strong class="bold"><span class="koboSpan" id="kobo.1102.1">Anchors</span></strong><span class="koboSpan" id="kobo.1103.1"> drop-down menu, and select the bottom-right button to make the background stretch over the entirety of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1104.1">Canvas</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1105.1"> panel</span></span></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.1106.1">At this point, you will have created the container for the widget – nothing fancy, but fully functional. </span><span class="koboSpan" id="kobo.1106.2">The widget hierarchy can be seen in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1107.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1108.1">.15</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1109.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer208">
<span class="koboSpan" id="kobo.1110.1"><img alt="Figure 12.15 – The partial FindSessions widget hierarchy" src="image/Figure_12_15_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1111.1">Figure 12.15 – The partial FindSessions widget hierarchy</span></p>
<p><span class="koboSpan" id="kobo.1112.1">Now, we are </span><a id="_idIndexMarker714"/><span class="koboSpan" id="kobo.1113.1">going to add the working elements that will allow the player to find the </span><span class="No-Break"><span class="koboSpan" id="kobo.1114.1">network sessions.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.1115.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1116.1">Palette</span></strong><span class="koboSpan" id="kobo.1117.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1118.1">Button</span></strong><span class="koboSpan" id="kobo.1119.1"> component into the </span><strong class="bold"><span class="koboSpan" id="kobo.1120.1">Container</span></strong><span class="koboSpan" id="kobo.1121.1"> item (that is, the vertical box) and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1122.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1123.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.1124.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1125.1">FindSessionsBtn</span></strong></span></li><li><span class="koboSpan" id="kobo.1126.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.1127.1">Padding</span></strong><span class="koboSpan" id="kobo.1128.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.1129.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1130.1">10.0</span></strong></span></li><li><span class="koboSpan" id="kobo.1131.1">Double-check that the </span><strong class="bold"><span class="koboSpan" id="kobo.1132.1">Is Variable</span></strong><span class="koboSpan" id="kobo.1133.1"> checkbox </span><span class="No-Break"><span class="koboSpan" id="kobo.1134.1">is selected</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1135.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1136.1">Palette</span></strong><span class="koboSpan" id="kobo.1137.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1138.1">Text</span></strong><span class="koboSpan" id="kobo.1139.1"> component into the </span><strong class="bold"><span class="koboSpan" id="kobo.1140.1">FindSessionBtn</span></strong><span class="koboSpan" id="kobo.1141.1"> item and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1142.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1143.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.1144.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1145.1">FindSessionsLabel</span></strong></span></li><li><span class="koboSpan" id="kobo.1146.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.1147.1">Text</span></strong><span class="koboSpan" id="kobo.1148.1"> property to </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1149.1">Find Sessions</span></strong></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1150.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1151.1">Palette</span></strong><span class="koboSpan" id="kobo.1152.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1153.1">Border</span></strong><span class="koboSpan" id="kobo.1154.1"> component into the </span><strong class="bold"><span class="koboSpan" id="kobo.1155.1">Container</span></strong><span class="koboSpan" id="kobo.1156.1"> item and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1157.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1158.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.1159.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1160.1">Separator</span></strong></span></li><li><span class="koboSpan" id="kobo.1161.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.1162.1">Padding</span></strong><span class="koboSpan" id="kobo.1163.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.1164.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1165.1">10.0</span></strong></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1166.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1167.1">Palette</span></strong><span class="koboSpan" id="kobo.1168.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1169.1">ScrollBox</span></strong><span class="koboSpan" id="kobo.1170.1"> component – a widget that will let you list items with a side scroll bar – into the </span><strong class="bold"><span class="koboSpan" id="kobo.1171.1">Container</span></strong><span class="koboSpan" id="kobo.1172.1"> item and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1173.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1174.1">Name </span><span class="No-Break"><span class="koboSpan" id="kobo.1175.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1176.1">SessionsScrollBox</span></strong></span></li><li><span class="koboSpan" id="kobo.1177.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.1178.1">Padding</span></strong><span class="koboSpan" id="kobo.1179.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.1180.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1181.1">10.0</span></strong></span></li><li><span class="koboSpan" id="kobo.1182.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.1183.1">Size</span></strong><span class="koboSpan" id="kobo.1184.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.1185.1">to </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1186.1">Fill</span></strong></span></li><li><span class="koboSpan" id="kobo.1187.1">Double-check that the </span><strong class="bold"><span class="koboSpan" id="kobo.1188.1">Is Variable</span></strong><span class="koboSpan" id="kobo.1189.1"> checkbox </span><span class="No-Break"><span class="koboSpan" id="kobo.1190.1">is selected</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1191.1">From</span><a id="_idIndexMarker715"/><span class="koboSpan" id="kobo.1192.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.1193.1">Palette</span></strong><span class="koboSpan" id="kobo.1194.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1195.1">Text</span></strong><span class="koboSpan" id="kobo.1196.1"> component into the </span><strong class="bold"><span class="koboSpan" id="kobo.1197.1">Container</span></strong><span class="koboSpan" id="kobo.1198.1"> item and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1199.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1200.1">Name it </span><strong class="source-inline"><span class="koboSpan" id="kobo.1201.1">SessionMessage</span></strong><span class="koboSpan" id="kobo.1202.1"> and tick the </span><strong class="bold"><span class="koboSpan" id="kobo.1203.1">Is Variable</span></strong><span class="koboSpan" id="kobo.1204.1"> property to expose this item in </span><span class="No-Break"><span class="koboSpan" id="kobo.1205.1">the graph.</span></span></li><li><span class="koboSpan" id="kobo.1206.1">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.1207.1">Padding</span></strong><span class="koboSpan" id="kobo.1208.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.1209.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1210.1">10.0</span></strong></span></li><li><span class="koboSpan" id="kobo.1211.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.1212.1">Text</span></strong><span class="koboSpan" id="kobo.1213.1"> property to </span><strong class="bold"><span class="koboSpan" id="kobo.1214.1">No </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1215.1">Session Available</span></strong></span></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.1216.1">The final structure of the widget is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1217.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1218.1">.16</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1219.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer209">
<span class="koboSpan" id="kobo.1220.1"><img alt="Figure 12.16 – The final FindSessions widget hierarchy" src="image/Figure_12_16_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1221.1">Figure 12.16 – The final FindSessions widget hierarchy</span></p>
<p><span class="koboSpan" id="kobo.1222.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1223.1">Designer</span></strong><span class="koboSpan" id="kobo.1224.1"> view for the widget is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1225.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1226.1">.17</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1227.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer210">
<span class="koboSpan" id="kobo.1228.1"><img alt="Figure 12.17 – The final FindSessions widget Designer view" src="image/Figure_12_17_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1229.1">Figure 12.17 – The final FindSessions widget Designer view</span></p>
<p><span class="koboSpan" id="kobo.1230.1">With this layout, the </span><a id="_idIndexMarker716"/><span class="koboSpan" id="kobo.1231.1">player will be able to click the </span><strong class="bold"><span class="koboSpan" id="kobo.1232.1">Find Sessions</span></strong><span class="koboSpan" id="kobo.1233.1"> button to search the network for available sessions and display them in a selectable list. </span><span class="koboSpan" id="kobo.1233.2">You now need to open the </span><strong class="bold"><span class="koboSpan" id="kobo.1234.1">Graph</span></strong><span class="koboSpan" id="kobo.1235.1"> panel and add some Visual </span><span class="No-Break"><span class="koboSpan" id="kobo.1236.1">Scripting logic.</span></span></p>
<h3><span class="koboSpan" id="kobo.1237.1">Implementing the Visual Scripting logic</span></h3>
<p><span class="koboSpan" id="kobo.1238.1">This part will </span><a id="_idIndexMarker717"/><span class="koboSpan" id="kobo.1239.1">be a bit more complex than the rest as there will be a lot going on; in particular, the code logic will have to do </span><span class="No-Break"><span class="koboSpan" id="kobo.1240.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.1241.1">Search for available networks over </span><span class="No-Break"><span class="koboSpan" id="kobo.1242.1">the LAN</span></span></li>
<li><span class="koboSpan" id="kobo.1243.1">Display a list of available sessions through the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1244.1">SessionItemRenderer</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1245.1"> widget</span></span></li>
<li><span class="koboSpan" id="kobo.1246.1">Display </span><span class="No-Break"><span class="koboSpan" id="kobo.1247.1">error messages</span></span></li>
<li><span class="koboSpan" id="kobo.1248.1">Enable and disable the search button, depending on </span><span class="No-Break"><span class="koboSpan" id="kobo.1249.1">the circumstances</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1250.1">As a first step, I need you to check that, in the </span><strong class="bold"><span class="koboSpan" id="kobo.1251.1">Variables</span></strong><span class="koboSpan" id="kobo.1252.1"> panel, there are three references to the items you will be using: </span><strong class="bold"><span class="koboSpan" id="kobo.1253.1">FindSessionBtn</span></strong><span class="koboSpan" id="kobo.1254.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.1255.1">SessionMessage</span></strong><span class="koboSpan" id="kobo.1256.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.1257.1">SessionScrollBox</span></strong><span class="koboSpan" id="kobo.1258.1">. </span><span class="koboSpan" id="kobo.1258.2">Then, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.1259.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1260.1">Add a new variable called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1261.1">SessionResults</span></strong><span class="koboSpan" id="kobo.1262.1"> of the </span><strong class="bold"><span class="koboSpan" id="kobo.1263.1">Blueprint Session Result</span></strong><span class="koboSpan" id="kobo.1264.1"> type and make it an </span><strong class="bold"><span class="koboSpan" id="kobo.1265.1">Array</span></strong><span class="koboSpan" id="kobo.1266.1"> – this will contain a list of the sessions that have been found in </span><span class="No-Break"><span class="koboSpan" id="kobo.1267.1">the network.</span></span></li>
<li><span class="koboSpan" id="kobo.1268.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.1269.1">FindSessionBtn</span></strong><span class="koboSpan" id="kobo.1270.1"> and, in the </span><strong class="bold"><span class="koboSpan" id="kobo.1271.1">Events</span></strong><span class="koboSpan" id="kobo.1272.1"> panel, add an </span><strong class="bold"><span class="koboSpan" id="kobo.1273.1">On Clicked</span></strong><span class="koboSpan" id="kobo.1274.1"> event by </span><a id="_idIndexMarker718"/><span class="koboSpan" id="kobo.1275.1">clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.1276.1">+</span></strong><span class="koboSpan" id="kobo.1277.1"> button next to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1278.1">corresponding element.</span></span></li>
<li><span class="koboSpan" id="kobo.1279.1">Connect the outgoing execution pin of </span><strong class="bold"><span class="koboSpan" id="kobo.1280.1">On Clicked (FindSessionBtn)</span></strong><span class="koboSpan" id="kobo.1281.1"> to a </span><strong class="bold"><span class="koboSpan" id="kobo.1282.1">Sequence</span></strong><span class="koboSpan" id="kobo.1283.1"> node with two execution pins (that is, the </span><span class="No-Break"><span class="koboSpan" id="kobo.1284.1">default ones).</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1285.1">Now, to keep things clean, you’ll be creating some functions that will do some of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1286.1">minor operations:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.1287.1">AddItemRenderer</span></strong><span class="koboSpan" id="kobo.1288.1"> to add a session item to </span><span class="No-Break"><span class="koboSpan" id="kobo.1289.1">the list</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1290.1">EnableSearchButton/DisableSearchButton</span></strong><span class="koboSpan" id="kobo.1291.1"> to make the search button interactable or not, depending on </span><span class="No-Break"><span class="koboSpan" id="kobo.1292.1">the situation</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1293.1">GetSessionResultMessage</span></strong><span class="koboSpan" id="kobo.1294.1"> to compose the resulting message of </span><span class="No-Break"><span class="koboSpan" id="kobo.1295.1">a search</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1296.1">Let’s create </span><span class="No-Break"><span class="koboSpan" id="kobo.1297.1">these now.</span></span></p>
<h4><span class="koboSpan" id="kobo.1298.1">Creating the AddItemRenderer function</span></h4>
<p><span class="koboSpan" id="kobo.1299.1">We’ll start from </span><a id="_idIndexMarker719"/><span class="koboSpan" id="kobo.1300.1">the first function by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.1301.1">+</span></strong><span class="koboSpan" id="kobo.1302.1"> button in the </span><strong class="bold"><span class="koboSpan" id="kobo.1303.1">Functions</span></strong><span class="koboSpan" id="kobo.1304.1"> section of the </span><strong class="bold"><span class="koboSpan" id="kobo.1305.1">My Blueprint</span></strong><span class="koboSpan" id="kobo.1306.1"> window. </span><span class="koboSpan" id="kobo.1306.2">Follow </span><span class="No-Break"><span class="koboSpan" id="kobo.1307.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1308.1">Name the function </span><strong class="source-inline"><span class="koboSpan" id="kobo.1309.1">AddItemRenderer</span></strong><span class="koboSpan" id="kobo.1310.1"> and, in the </span><strong class="bold"><span class="koboSpan" id="kobo.1311.1">Details</span></strong><span class="koboSpan" id="kobo.1312.1"> panel, do </span><span class="No-Break"><span class="koboSpan" id="kobo.1313.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1314.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.1315.1">Input</span></strong><span class="koboSpan" id="kobo.1316.1"> section, add an input of the </span><strong class="bold"><span class="koboSpan" id="kobo.1317.1">Blueprint Session Result</span></strong><span class="koboSpan" id="kobo.1318.1"> type and name </span><span class="No-Break"><span class="koboSpan" id="kobo.1319.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1320.1">SearchResult</span></strong></span></li><li><span class="koboSpan" id="kobo.1321.1">With the function node selected, look for the </span><strong class="bold"><span class="koboSpan" id="kobo.1322.1">Graph</span></strong><span class="koboSpan" id="kobo.1323.1"> section of the </span><strong class="bold"><span class="koboSpan" id="kobo.1324.1">My Blueprint</span></strong><span class="koboSpan" id="kobo.1325.1"> window and set </span><strong class="bold"><span class="koboSpan" id="kobo.1326.1">Access Specifier</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1327.1">to </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1328.1">Protected</span></strong></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1329.1"> Add a </span><strong class="bold"><span class="koboSpan" id="kobo.1330.1">Get Player Controller</span></strong><span class="koboSpan" id="kobo.1331.1"> node to </span><span class="No-Break"><span class="koboSpan" id="kobo.1332.1">the graph.</span></span></li>
<li><span class="koboSpan" id="kobo.1333.1"> Add a </span><strong class="bold"><span class="koboSpan" id="kobo.1334.1">Create Widget</span></strong><span class="koboSpan" id="kobo.1335.1"> node to the graph and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1336.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1337.1">Connect its incoming execution pin to the outgoing execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1338.1">Add Item Renderer</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1339.1">function node</span></span></li><li><span class="koboSpan" id="kobo.1340.1">From the drop-down menu of the </span><strong class="bold"><span class="koboSpan" id="kobo.1341.1">Class</span></strong><span class="koboSpan" id="kobo.1342.1"> pin, </span><span class="No-Break"><span class="koboSpan" id="kobo.1343.1">select </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1344.1">WB_SessionItemRenderer</span></strong></span></li><li><span class="koboSpan" id="kobo.1345.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.1346.1">Owning Player</span></strong><span class="koboSpan" id="kobo.1347.1"> pin to </span><strong class="bold"><span class="koboSpan" id="kobo.1348.1">Return Value</span></strong><span class="koboSpan" id="kobo.1349.1"> of the </span><strong class="bold"><span class="koboSpan" id="kobo.1350.1">Get Player </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1351.1">Controller</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1352.1"> node</span></span></li><li><span class="koboSpan" id="kobo.1353.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.1354.1">Search Result</span></strong><span class="koboSpan" id="kobo.1355.1"> pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1356.1">Search Result</span></strong><span class="koboSpan" id="kobo.1357.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1358.1">Add Item Renderer</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1359.1">function node</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1360.1">Drag</span><a id="_idIndexMarker720"/><span class="koboSpan" id="kobo.1361.1"> a </span><strong class="bold"><span class="koboSpan" id="kobo.1362.1">Get Session Scroll Box</span></strong><span class="koboSpan" id="kobo.1363.1"> node from the </span><strong class="bold"><span class="koboSpan" id="kobo.1364.1">Variables</span></strong><span class="koboSpan" id="kobo.1365.1"> panel onto </span><span class="No-Break"><span class="koboSpan" id="kobo.1366.1">the graph.</span></span></li>
<li><span class="koboSpan" id="kobo.1367.1">Add an </span><strong class="bold"><span class="koboSpan" id="kobo.1368.1">Add Child</span></strong><span class="koboSpan" id="kobo.1369.1"> node to the graph and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1370.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1371.1">Connect its incoming execution pin to the outgoing execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1372.1">Create </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1373.1">Widget</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1374.1"> node</span></span></li><li><span class="koboSpan" id="kobo.1375.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.1376.1">Content</span></strong><span class="koboSpan" id="kobo.1377.1"> pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1378.1">Return Value</span></strong><span class="koboSpan" id="kobo.1379.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1380.1">Create </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1381.1">Widget</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1382.1"> node</span></span></li><li><span class="koboSpan" id="kobo.1383.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.1384.1">Target</span></strong><span class="koboSpan" id="kobo.1385.1"> pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1386.1">Session Scroll Box</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1387.1">getter node</span></span></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.1388.1">The final graph for the </span><strong class="bold"><span class="koboSpan" id="kobo.1389.1">AddItemRenderer</span></strong><span class="koboSpan" id="kobo.1390.1"> function is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1391.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1392.1">.18</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1393.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer211">
<span class="koboSpan" id="kobo.1394.1"><img alt="Figure 12.18 – The AddItemRenderer function" src="image/Figure_12_18_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1395.1">Figure 12.18 – The AddItemRenderer function</span></p>
<p><span class="koboSpan" id="kobo.1396.1">We can now start creating the function that will enable the search button </span><span class="No-Break"><span class="koboSpan" id="kobo.1397.1">when requested.</span></span></p>
<h4><span class="koboSpan" id="kobo.1398.1">Creating the EnableSearchButton function</span></h4>
<p><span class="koboSpan" id="kobo.1399.1">Let’s start </span><a id="_idIndexMarker721"/><span class="koboSpan" id="kobo.1400.1">by creating the function by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.1401.1">+</span></strong><span class="koboSpan" id="kobo.1402.1"> button in the </span><strong class="bold"><span class="koboSpan" id="kobo.1403.1">Functions</span></strong><span class="koboSpan" id="kobo.1404.1"> section of the </span><strong class="bold"><span class="koboSpan" id="kobo.1405.1">My Blueprint</span></strong><span class="koboSpan" id="kobo.1406.1"> window. </span><span class="koboSpan" id="kobo.1406.2">Follow </span><span class="No-Break"><span class="koboSpan" id="kobo.1407.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1408.1">Name the function </span><strong class="source-inline"><span class="koboSpan" id="kobo.1409.1">EnableSearchButton</span></strong><span class="koboSpan" id="kobo.1410.1"> and, with the function node selected, look for the </span><strong class="bold"><span class="koboSpan" id="kobo.1411.1">Graph</span></strong><span class="koboSpan" id="kobo.1412.1"> section of the </span><strong class="bold"><span class="koboSpan" id="kobo.1413.1">My Blueprint</span></strong><span class="koboSpan" id="kobo.1414.1"> window and set </span><strong class="bold"><span class="koboSpan" id="kobo.1415.1">Access Specifier</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1416.1">to </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1417.1">Protected</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1418.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1419.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1420.1">Variables</span></strong><span class="koboSpan" id="kobo.1421.1"> panel, drag a </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1422.1">FindSessionsBtn</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1423.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1424.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.1425.1">Set Is Enabled</span></strong><span class="koboSpan" id="kobo.1426.1"> node to the graph and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1427.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1428.1">Connect its incoming execution pin to the outgoing execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1429.1">Enable Search Button</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1430.1">function node</span></span></li><li><span class="koboSpan" id="kobo.1431.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.1432.1">Target</span></strong><span class="koboSpan" id="kobo.1433.1"> pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1434.1">Find Session </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1435.1">Btn</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1436.1"> getter</span></span></li><li><span class="koboSpan" id="kobo.1437.1">Tick the </span><strong class="bold"><span class="koboSpan" id="kobo.1438.1">In Is </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1439.1">Enabled</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1440.1"> checkbox</span></span></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.1441.1">The final graph for this function is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1442.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1443.1">.19</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1444.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer212">
<span class="koboSpan" id="kobo.1445.1"><img alt="Figure 12.19 – The EnableSearchButton function" src="image/Figure_12_19_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1446.1">Figure 12.19 – The EnableSearchButton function</span></p>
<p><span class="koboSpan" id="kobo.1447.1">The function that </span><a id="_idIndexMarker722"/><span class="koboSpan" id="kobo.1448.1">will disable the button is almost identical to the previous one, so let’s </span><span class="No-Break"><span class="koboSpan" id="kobo.1449.1">create it.</span></span></p>
<h4><span class="koboSpan" id="kobo.1450.1">Creating the DisableSearchButton function</span></h4>
<p><span class="koboSpan" id="kobo.1451.1">Let’s start </span><a id="_idIndexMarker723"/><span class="koboSpan" id="kobo.1452.1">by creating the function by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.1453.1">+</span></strong><span class="koboSpan" id="kobo.1454.1"> button in the </span><strong class="bold"><span class="koboSpan" id="kobo.1455.1">Functions</span></strong><span class="koboSpan" id="kobo.1456.1"> section of the </span><strong class="bold"><span class="koboSpan" id="kobo.1457.1">My Blueprint</span></strong><span class="koboSpan" id="kobo.1458.1"> window. </span><span class="koboSpan" id="kobo.1458.2">Follow </span><span class="No-Break"><span class="koboSpan" id="kobo.1459.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1460.1">With the function node selected, look for the </span><strong class="bold"><span class="koboSpan" id="kobo.1461.1">Graph</span></strong><span class="koboSpan" id="kobo.1462.1"> section of the </span><strong class="bold"><span class="koboSpan" id="kobo.1463.1">My Blueprint</span></strong><span class="koboSpan" id="kobo.1464.1"> window and set </span><strong class="bold"><span class="koboSpan" id="kobo.1465.1">Access Specifier</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1466.1">to </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1467.1">Protected</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1468.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1469.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1470.1">Variables</span></strong><span class="koboSpan" id="kobo.1471.1"> panel, drag a </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1472.1">FindSessionsBtn</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1473.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1474.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.1475.1">Set Is Enabled</span></strong><span class="koboSpan" id="kobo.1476.1"> node to the graph and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1477.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1478.1">Connect its incoming execution pin to the outgoing execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1479.1">Enable Search Button</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1480.1">function node</span></span></li><li><span class="koboSpan" id="kobo.1481.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.1482.1">Target</span></strong><span class="koboSpan" id="kobo.1483.1"> pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1484.1">Find Session </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1485.1">Btn</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1486.1"> getter</span></span></li><li><span class="koboSpan" id="kobo.1487.1">Leave the </span><strong class="bold"><span class="koboSpan" id="kobo.1488.1">In Is Enabled</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1489.1">checkbox unticked</span></span></li></ul></li>
</ol>
<p><span class="koboSpan" id="kobo.1490.1">The final graph for this function is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1491.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1492.1">.20</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1493.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer213">
<span class="koboSpan" id="kobo.1494.1"><img alt="Figure 12.20 – The DisableSearchButton function" src="image/Figure_12_20_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1495.1">Figure 12.20 – The DisableSearchButton function</span></p>
<p><span class="koboSpan" id="kobo.1496.1">We need </span><a id="_idIndexMarker724"/><span class="koboSpan" id="kobo.1497.1">just one last function – the one that will compose the </span><span class="No-Break"><span class="koboSpan" id="kobo.1498.1">sessions message.</span></span></p>
<h4><span class="koboSpan" id="kobo.1499.1">Creating the GetSessionResultMessage function</span></h4>
<p><span class="koboSpan" id="kobo.1500.1">Let’s start by creating</span><a id="_idIndexMarker725"/><span class="koboSpan" id="kobo.1501.1"> the function by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.1502.1">+</span></strong><span class="koboSpan" id="kobo.1503.1"> button in the </span><strong class="bold"><span class="koboSpan" id="kobo.1504.1">Functions</span></strong><span class="koboSpan" id="kobo.1505.1"> section of the </span><strong class="bold"><span class="koboSpan" id="kobo.1506.1">My Blueprint</span></strong><span class="koboSpan" id="kobo.1507.1"> window. </span><span class="koboSpan" id="kobo.1507.2">Follow </span><span class="No-Break"><span class="koboSpan" id="kobo.1508.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1509.1">Name the function </span><strong class="source-inline"><span class="koboSpan" id="kobo.1510.1">GetSessionsResultMessage</span></strong><span class="koboSpan" id="kobo.1511.1"> and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1512.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1513.1">With the function node selected, look for the </span><strong class="bold"><span class="koboSpan" id="kobo.1514.1">Graph</span></strong><span class="koboSpan" id="kobo.1515.1"> section of the </span><strong class="bold"><span class="koboSpan" id="kobo.1516.1">My Blueprint</span></strong><span class="koboSpan" id="kobo.1517.1"> window, tick the </span><strong class="bold"><span class="koboSpan" id="kobo.1518.1">Pure</span></strong><span class="koboSpan" id="kobo.1519.1"> attribute, and set </span><strong class="bold"><span class="koboSpan" id="kobo.1520.1">Access Specifier</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1521.1">to </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1522.1">Protected.</span></strong></span></li><li><span class="koboSpan" id="kobo.1523.1">Add an </span><strong class="bold"><span class="koboSpan" id="kobo.1524.1">Output</span></strong><span class="koboSpan" id="kobo.1525.1"> value of the </span><strong class="bold"><span class="koboSpan" id="kobo.1526.1">Text</span></strong><span class="koboSpan" id="kobo.1527.1"> type and call it </span><strong class="source-inline"><span class="koboSpan" id="kobo.1528.1">ReturnValue</span></strong><span class="koboSpan" id="kobo.1529.1">; this will add </span><strong class="bold"><span class="koboSpan" id="kobo.1530.1">Return Node</span></strong><span class="koboSpan" id="kobo.1531.1"> to </span><span class="No-Break"><span class="koboSpan" id="kobo.1532.1">the graph.</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1533.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1534.1">Variables</span></strong><span class="koboSpan" id="kobo.1535.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1536.1">Get Session </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1537.1">Results</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1538.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1539.1">From the outgoing pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1540.1">Session Results</span></strong><span class="koboSpan" id="kobo.1541.1"> getter, click and drag to add a </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1542.1">Length</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1543.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1544.1">Add</span><a id="_idIndexMarker726"/><span class="koboSpan" id="kobo.1545.1"> an </span><strong class="bold"><span class="koboSpan" id="kobo.1546.1">Append</span></strong><span class="koboSpan" id="kobo.1547.1"> node (from the </span><strong class="bold"><span class="koboSpan" id="kobo.1548.1">String</span></strong><span class="koboSpan" id="kobo.1549.1"> category) to the graph and add an additional pin to this node by using the </span><strong class="bold"><span class="koboSpan" id="kobo.1550.1">Add pin</span></strong><span class="koboSpan" id="kobo.1551.1"> button – you should now have three incoming pins in total. </span><span class="koboSpan" id="kobo.1551.2">Do the following operations for the </span><span class="No-Break"><span class="koboSpan" id="kobo.1552.1">three pins:</span></span><ul><li><span class="koboSpan" id="kobo.1553.1">Insert in the </span><strong class="bold"><span class="koboSpan" id="kobo.1554.1">A</span></strong><span class="koboSpan" id="kobo.1555.1"> pin and </span><span class="No-Break"><span class="koboSpan" id="kobo.1556.1">input </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1557.1">Found:</span></strong></span></li><li><span class="koboSpan" id="kobo.1558.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.1559.1">B</span></strong><span class="koboSpan" id="kobo.1560.1"> pin to the outgoing pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1561.1">Length</span></strong><span class="koboSpan" id="kobo.1562.1"> node; this will automatically create a converter node </span><span class="No-Break"><span class="koboSpan" id="kobo.1563.1">in between</span></span></li><li><span class="koboSpan" id="kobo.1564.1">Insert in the </span><strong class="bold"><span class="koboSpan" id="kobo.1565.1">C</span></strong><span class="koboSpan" id="kobo.1566.1"> pin and </span><span class="No-Break"><span class="koboSpan" id="kobo.1567.1">input </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1568.1">sessions</span></strong></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1569.1">Connect the outgoing pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1570.1">Append</span></strong><span class="koboSpan" id="kobo.1571.1"> node to </span><strong class="bold"><span class="koboSpan" id="kobo.1572.1">Return Value</span></strong><span class="koboSpan" id="kobo.1573.1"> of </span><strong class="bold"><span class="koboSpan" id="kobo.1574.1">Return Node</span></strong><span class="koboSpan" id="kobo.1575.1">; this will automatically create a </span><strong class="bold"><span class="koboSpan" id="kobo.1576.1">To Text (String)</span></strong><span class="koboSpan" id="kobo.1577.1"> converter node </span><span class="No-Break"><span class="koboSpan" id="kobo.1578.1">in between.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1579.1">The final graph for this function is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1580.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1581.1">.21</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1582.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer214">
<span class="koboSpan" id="kobo.1583.1"><img alt="Figure 12.21 – The GetSessionsResultMessage function" src="image/Figure_12_21_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1584.1">Figure 12.21 – The GetSessionsResultMessage function</span></p>
<p><span class="koboSpan" id="kobo.1585.1">The last function has been created, so it’s time to get back to the main Event Graph and create the search and </span><span class="No-Break"><span class="koboSpan" id="kobo.1586.1">result logic.</span></span></p>
<h4><span class="koboSpan" id="kobo.1587.1">Implementing the Event Graph</span></h4>
<p><span class="koboSpan" id="kobo.1588.1">The </span><a id="_idIndexMarker727"/><span class="koboSpan" id="kobo.1589.1">main graph will need to look for the available sessions in the network and expose them in the widget list. </span><span class="koboSpan" id="kobo.1589.2">To start with this Visual Scripting logic, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.1590.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1591.1">Locate the </span><strong class="bold"><span class="koboSpan" id="kobo.1592.1">On Clicked (FindSessionBtn)</span></strong><span class="koboSpan" id="kobo.1593.1"> event and add a </span><strong class="bold"><span class="koboSpan" id="kobo.1594.1">Sequence</span></strong><span class="koboSpan" id="kobo.1595.1"> node to the outgoing </span><span class="No-Break"><span class="koboSpan" id="kobo.1596.1">execution pin.</span></span></li>
<li><span class="koboSpan" id="kobo.1597.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1598.1">Variables</span></strong><span class="koboSpan" id="kobo.1599.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1600.1">SessionsScrollBox</span></strong><span class="koboSpan" id="kobo.1601.1"> node and, from its outgoing pin, click and drag to add a </span><strong class="bold"><span class="koboSpan" id="kobo.1602.1">Clear </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1603.1">Children</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1604.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1605.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.1606.1">Clear Children</span></strong><span class="koboSpan" id="kobo.1607.1"> incoming execution pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1608.1">Then 0</span></strong><span class="koboSpan" id="kobo.1609.1"> outgoing execution pin of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1610.1">Sequence</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1611.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1612.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1613.1">Functions</span></strong><span class="koboSpan" id="kobo.1614.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1615.1">Disable Search Button</span></strong><span class="koboSpan" id="kobo.1616.1"> function and connect its incoming execution pin to the outgoing execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1617.1">Clear </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1618.1">Children</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1619.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1620.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1621.1">Variables</span></strong><span class="koboSpan" id="kobo.1622.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1623.1">Session Message</span></strong><span class="koboSpan" id="kobo.1624.1"> node and, from its outgoing pin, click and drag to add a </span><strong class="bold"><span class="koboSpan" id="kobo.1625.1">Set Text</span></strong><span class="koboSpan" id="kobo.1626.1"> node (from the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1627.1">Content</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1628.1"> category).</span></span></li>
<li><span class="koboSpan" id="kobo.1629.1">Connect the incoming execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1630.1">Set Text</span></strong><span class="koboSpan" id="kobo.1631.1"> node to the outgoing pin of </span><strong class="bold"><span class="koboSpan" id="kobo.1632.1">Disable </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1633.1">Search Button</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1634.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1635.1">Insert </span><strong class="bold"><span class="koboSpan" id="kobo.1636.1">Search Session...</span></strong><span class="koboSpan" id="kobo.1637.1"> into the </span><strong class="bold"><span class="koboSpan" id="kobo.1638.1">Text</span></strong><span class="koboSpan" id="kobo.1639.1"> field of the </span><strong class="bold"><span class="koboSpan" id="kobo.1640.1">Set </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1641.1">Text</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1642.1"> node.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1643.1">This first part of the graph essentially cleans the sessions list from previous search results, disables the search button to avoid multiple clicks, and displays a message. </span><span class="koboSpan" id="kobo.1643.2">This is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1644.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1645.1">.22</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1646.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer215">
<span class="koboSpan" id="kobo.1647.1"><img alt="Figure 12.22 – The first part of the FindSessions graph" src="image/Figure_12_22_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1648.1">Figure 12.22 – The first part of the FindSessions graph</span></p>
<p><span class="koboSpan" id="kobo.1649.1">The second part of the graph will be responsible for searching the network sessions</span><a id="_idIndexMarker728"/><span class="koboSpan" id="kobo.1650.1"> and showing the </span><span class="No-Break"><span class="koboSpan" id="kobo.1651.1">actual results.</span></span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.1652.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.1653.1">Get Player Controller</span></strong><span class="koboSpan" id="kobo.1654.1"> node to </span><span class="No-Break"><span class="koboSpan" id="kobo.1655.1">the graph.</span></span></li>
<li><span class="koboSpan" id="kobo.1656.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.1657.1">Find Sessions</span></strong><span class="koboSpan" id="kobo.1658.1"> node to the graph and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1659.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1660.1">Connect its incoming execution pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1661.1">Then 1</span></strong><span class="koboSpan" id="kobo.1662.1"> outgoing execution pin of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1663.1">Sequence</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1664.1"> node</span></span></li><li><span class="koboSpan" id="kobo.1665.1">Connect the </span><strong class="bold"><span class="koboSpan" id="kobo.1666.1">Player Controller</span></strong><span class="koboSpan" id="kobo.1667.1"> pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1668.1">Return Value</span></strong><span class="koboSpan" id="kobo.1669.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1670.1">Get Player </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1671.1">Controller</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1672.1"> node</span></span></li><li><span class="koboSpan" id="kobo.1673.1">Set </span><strong class="bold"><span class="koboSpan" id="kobo.1674.1">Max Results</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.1675.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1676.1">10</span></strong></span></li><li><span class="koboSpan" id="kobo.1677.1">Tick the </span><strong class="bold"><span class="koboSpan" id="kobo.1678.1">Use LAN</span></strong><span class="koboSpan" id="kobo.1679.1"> checkbox to </span><span class="No-Break"><span class="koboSpan" id="kobo.1680.1">enable it</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1681.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1682.1">Variables</span></strong><span class="koboSpan" id="kobo.1683.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1684.1">Set Session Results</span></strong><span class="koboSpan" id="kobo.1685.1"> node and connect its incoming execution pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1686.1">On Success</span></strong><span class="koboSpan" id="kobo.1687.1"> execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1688.1">Find </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1689.1">Sessions</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1690.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1691.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1692.1">Functions</span></strong><span class="koboSpan" id="kobo.1693.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1694.1">Get Sessions Result </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1695.1">Message</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1696.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1697.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1698.1">Variables</span></strong><span class="koboSpan" id="kobo.1699.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1700.1">Session Message</span></strong><span class="koboSpan" id="kobo.1701.1"> getter node and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1702.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1703.1">From its outgoing pin, click and drag to add a </span><strong class="bold"><span class="koboSpan" id="kobo.1704.1">Set Text</span></strong><span class="koboSpan" id="kobo.1705.1"> node (from the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1706.1">Content</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1707.1"> category)</span></span></li><li><span class="koboSpan" id="kobo.1708.1">Connect its </span><strong class="bold"><span class="koboSpan" id="kobo.1709.1">Text</span></strong><span class="koboSpan" id="kobo.1710.1"> pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1711.1">Return Value</span></strong><span class="koboSpan" id="kobo.1712.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1713.1">Get Sessions Result </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1714.1">Message</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1715.1"> node</span></span></li><li><span class="koboSpan" id="kobo.1716.1">Connect its incoming execution pin to the outgoing execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1717.1">Set Session </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1718.1">Results</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1719.1"> node</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1720.1">From</span><a id="_idIndexMarker729"/><span class="koboSpan" id="kobo.1721.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.1722.1">Variables</span></strong><span class="koboSpan" id="kobo.1723.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1724.1">Get Session Results</span></strong><span class="koboSpan" id="kobo.1725.1"> node. </span><span class="koboSpan" id="kobo.1725.2">From its outgoing pin, click and drag to add a </span><strong class="bold"><span class="koboSpan" id="kobo.1726.1">For Each Loop</span></strong><span class="koboSpan" id="kobo.1727.1"> node. </span><span class="koboSpan" id="kobo.1727.2">Connect the incoming </span><strong class="bold"><span class="koboSpan" id="kobo.1728.1">Exec</span></strong><span class="koboSpan" id="kobo.1729.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1730.1">For Each Loop</span></strong><span class="koboSpan" id="kobo.1731.1"> node to the outgoing pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1732.1">Set </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1733.1">Text</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1734.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1735.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1736.1">Functions</span></strong><span class="koboSpan" id="kobo.1737.1"> panel, drag an </span><strong class="bold"><span class="koboSpan" id="kobo.1738.1">Add Item Renderer</span></strong><span class="koboSpan" id="kobo.1739.1"> node to the graph and do </span><span class="No-Break"><span class="koboSpan" id="kobo.1740.1">the following:</span></span><ul><li><span class="koboSpan" id="kobo.1741.1">Connect its incoming execution pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1742.1">Loop Body</span></strong><span class="koboSpan" id="kobo.1743.1"> execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1744.1">For Each </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1745.1">Loop</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1746.1"> node</span></span></li><li><span class="koboSpan" id="kobo.1747.1">Connect its </span><strong class="bold"><span class="koboSpan" id="kobo.1748.1">Search Result</span></strong><span class="koboSpan" id="kobo.1749.1"> pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1750.1">Array Element</span></strong><span class="koboSpan" id="kobo.1751.1"> pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1752.1">For Each </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1753.1">Loop</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1754.1"> node</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.1755.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1756.1">Functions</span></strong><span class="koboSpan" id="kobo.1757.1"> panel, drag an </span><strong class="bold"><span class="koboSpan" id="kobo.1758.1">Enable Search Button</span></strong><span class="koboSpan" id="kobo.1759.1"> node onto the graph and connect its incoming execution pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1760.1">Completed</span></strong><span class="koboSpan" id="kobo.1761.1"> execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1762.1">For Each </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1763.1">Loop</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1764.1"> node.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1765.1">This second part of the graph looks for a list of available sessions in the network, displays a result message, and adds the results to the session list. </span><span class="koboSpan" id="kobo.1765.2">The graph is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1766.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1767.1">.23</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1768.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer216">
<span class="koboSpan" id="kobo.1769.1"><img alt="Figure 12.23 – The second part of the FindSessions graph" src="image/Figure_12_23_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1770.1">Figure 12.23 – The second part of the FindSessions graph</span></p>
<p><span class="koboSpan" id="kobo.1771.1">The last part of the graph will just show an error message if the search results with </span><span class="No-Break"><span class="koboSpan" id="kobo.1772.1">a failure.</span></span></p>
<ol>
<li value="16"><span class="koboSpan" id="kobo.1773.1">From</span><a id="_idIndexMarker730"/><span class="koboSpan" id="kobo.1774.1"> the </span><strong class="bold"><span class="koboSpan" id="kobo.1775.1">Variables</span></strong><span class="koboSpan" id="kobo.1776.1"> panel, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1777.1">Session Message</span></strong><span class="koboSpan" id="kobo.1778.1"> getter node and, from its outgoing pin, click and drag to add a </span><strong class="bold"><span class="koboSpan" id="kobo.1779.1">Set Text</span></strong><span class="koboSpan" id="kobo.1780.1"> node (from the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1781.1">Content</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1782.1"> category).</span></span></li>
<li><span class="koboSpan" id="kobo.1783.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.1784.1">Text</span></strong><span class="koboSpan" id="kobo.1785.1"> input field, add the following text: </span><strong class="source-inline"><span class="koboSpan" id="kobo.1786.1">Error searching for </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1787.1">available sessions</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1788.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1789.1">Connect its incoming execution pin to the </span><strong class="bold"><span class="koboSpan" id="kobo.1790.1">On Failure</span></strong><span class="koboSpan" id="kobo.1791.1"> outgoing execution pin of the </span><strong class="bold"><span class="koboSpan" id="kobo.1792.1">Find </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1793.1">Sessions</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1794.1"> node.</span></span></li>
<li><span class="koboSpan" id="kobo.1795.1">Connect its outgoing execution pin to an </span><strong class="bold"><span class="koboSpan" id="kobo.1796.1">Enable Search Button</span></strong><span class="koboSpan" id="kobo.1797.1"> node to make the button </span><span class="No-Break"><span class="koboSpan" id="kobo.1798.1">clickable again.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1799.1">This part of the graph is self-explanatory and is depicted in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1800.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1801.1">.24</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1802.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer217">
<span class="koboSpan" id="kobo.1803.1"><img alt="Figure 12.24 – The third part of the FindSessions graph" src="image/Figure_12_24_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1804.1">Figure 12.24 – The third part of the FindSessions graph</span></p>
<p><span class="koboSpan" id="kobo.1805.1">We have finally completed this widget and we are now ready to put things together in the </span><strong class="bold"><span class="koboSpan" id="kobo.1806.1">Main </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1807.1">Menu</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1808.1"> widget.</span></span></p>
<h2 id="_idParaDest-252"><a id="_idTextAnchor253"/><span class="koboSpan" id="kobo.1809.1">Creating the Main Menu widget</span></h2>
<p><span class="koboSpan" id="kobo.1810.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1811.1">Main Menu</span></strong><span class="koboSpan" id="kobo.1812.1"> widget – the</span><a id="_idIndexMarker731"/><span class="koboSpan" id="kobo.1813.1"> fourth and last one – simply acts as a container for the </span><strong class="bold"><span class="koboSpan" id="kobo.1814.1">Create Session</span></strong><span class="koboSpan" id="kobo.1815.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.1816.1">Find Sessions</span></strong><span class="koboSpan" id="kobo.1817.1"> ones. </span><span class="koboSpan" id="kobo.1817.2">To </span><a id="_idIndexMarker732"/><span class="koboSpan" id="kobo.1818.1">create it, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.1819.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1820.1">Right-click inside the Content Browser area and select </span><strong class="bold"><span class="koboSpan" id="kobo.1821.1">User Interface</span></strong><span class="koboSpan" id="kobo.1822.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1823.1">Widget Blueprint</span></strong><span class="koboSpan" id="kobo.1824.1">. </span><span class="koboSpan" id="kobo.1824.2">In the pop-up window that appears, select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1825.1">User Widget</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1826.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1827.1">Name the newly created widget </span><strong class="source-inline"><span class="koboSpan" id="kobo.1828.1">WB_MainMenu</span></strong><span class="koboSpan" id="kobo.1829.1"> and double-click on it to </span><span class="No-Break"><span class="koboSpan" id="kobo.1830.1">open it.</span></span></li>
<li><span class="koboSpan" id="kobo.1831.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1832.1">Palette</span></strong><span class="koboSpan" id="kobo.1833.1"> window, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1834.1">Canvas Panel</span></strong><span class="koboSpan" id="kobo.1835.1"> item into the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1836.1">Designer</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1837.1"> view.</span></span></li>
<li><span class="koboSpan" id="kobo.1838.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1839.1">Palette</span></strong><span class="koboSpan" id="kobo.1840.1"> menu, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1841.1">WB Create Session</span></strong><span class="koboSpan" id="kobo.1842.1"> item onto the </span><strong class="bold"><span class="koboSpan" id="kobo.1843.1">Canvas</span></strong><span class="koboSpan" id="kobo.1844.1"> panel and place it somewhere you think </span><span class="No-Break"><span class="koboSpan" id="kobo.1845.1">is appropriate.</span></span></li>
<li><span class="koboSpan" id="kobo.1846.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.1847.1">Palette</span></strong><span class="koboSpan" id="kobo.1848.1"> menu, drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1849.1">WB Find Sessions</span></strong><span class="koboSpan" id="kobo.1850.1"> item onto the </span><strong class="bold"><span class="koboSpan" id="kobo.1851.1">Canvas</span></strong><span class="koboSpan" id="kobo.1852.1"> panel and place it somewhere you think </span><span class="No-Break"><span class="koboSpan" id="kobo.1853.1">is appropriate.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1854.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1855.1">Designer</span></strong><span class="koboSpan" id="kobo.1856.1"> view for this widget should look similar to the one shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1857.1">Figure 12</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1858.1">.25</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1859.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer218">
<span class="koboSpan" id="kobo.1860.1"><img alt="Figure 12.25 – The MainMenu widget" src="image/Figure_12_25_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1861.1">Figure 12.25 – The MainMenu widget</span></p>
<p><span class="koboSpan" id="kobo.1862.1">In this section, you </span><a id="_idIndexMarker733"/><span class="koboSpan" id="kobo.1863.1">created the user interface for the</span><a id="_idIndexMarker734"/><span class="koboSpan" id="kobo.1864.1"> main menu level, which is composed of reusable widgets. </span><span class="koboSpan" id="kobo.1864.2">Each widget contains dedicated logic for creating sessions and </span><span class="No-Break"><span class="koboSpan" id="kobo.1865.1">joining them.</span></span></p>
<h1 id="_idParaDest-253"><a id="_idTextAnchor254"/><span class="koboSpan" id="kobo.1866.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1867.1">This chapter introduced you to the primary session commands within Unreal Engine’s Online Subsystem, providing you with the tools necessary to create, join, and manage multiplayer game sessions with ease. </span><span class="koboSpan" id="kobo.1867.2">Armed with this knowledge, you have created a user interface that harnesses these features and puts them to </span><span class="No-Break"><span class="koboSpan" id="kobo.1868.1">practical use.</span></span></p>
<p><span class="koboSpan" id="kobo.1869.1">If you want to take your multiplayer game from being just a basic prototype to a fully functional and complete gaming experience, then you must learn how to use these features. </span><span class="koboSpan" id="kobo.1869.2">Trust me – having this knowledge under your belt will make all the difference and help you create some truly awesome </span><span class="No-Break"><span class="koboSpan" id="kobo.1870.1">multiplayer games!</span></span></p>
<p><span class="koboSpan" id="kobo.1871.1">In the next chapter, we’ll take these helpful widgets and use them to create the main menu for the game. </span><span class="koboSpan" id="kobo.1871.2">We’ll also create the needed Gameplay Framework classes, as well as a cool system for customizing the </span><span class="No-Break"><span class="koboSpan" id="kobo.1872.1">character’s appearance!</span></span></p>
</div>
</body></html>