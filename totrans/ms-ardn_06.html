<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Programming the Arduino - The Basics</h1>
                </header>
            
            <article>
                
<p>I have been programming as long as I can remember, everything from teletypes and mainframes to personal computers and embedded devices. I have programmed games, business applications, websites and mobile apps but I can honestly say that I enjoy programming microcontroller boards like the Arduino the most.</p>
<p>The reason for this is with microcontrollers my programs can interact with the outside world through various sensors and motors rather than programming for simple human interaction. With microcontrollers we are only limited by our imagination and ingenuity however before we can begin conquering the world, we must first learn the basics of the Arduino programming language.</p>
<p>In this chapter, you will learn:</p>
<ul>
<li>What variables and constants are and how to use them</li>
<li>What math functions the Arduino programming language offer</li>
<li>How to add comments to our code</li>
<li>How to make decisions with the Arduino programming language</li>
<li>How to create loops to repeat blocks of code</li>
</ul>
<p>In <a href="b7889fa4-0da5-4063-838a-51b8d57f71ac.xhtml" target="_blank"><span class="ChapterrefPACKT">Chapter 5</span></a>, <em>Arduino IDE</em> we learned how to use the Arduino IDE and the Web Editor. We also examined the <kbd>setup()</kbd> and <kbd>loop()</kbd> functions and learned how to use them. In this chapter and <a href="97f86abb-08ca-4f9d-b4dd-c6f49c0949a1.xhtml" target="_blank">C<span class="ChapterrefPACKT">hapter 7</span></a>, <em>Programming the Arduino–Beyond the Basics</em>, we will learn about the Arduino programming language and how to use the language to develop applications for the Arduino. Let's start off by looking at the curly brackets.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Curly brackets</h1>
                </header>
            
            <article>
                
<p>The left curly brackets ( { ) defines where a block of code starts and the right curly bracket ( } ) defines where it ends. We saw these brackets when we looked at the <kbd>setup()</kbd> and <kbd>loop()</kbd> functions; however, curly brackets are not limited to defining the code within a function they are also used to define other blocks of code as well. We will see examples of this in the <em>Decision making</em> and <em>Looping</em> sections of this chapter.</p>
<p>Whenever there is a left curly bracket there must also be a right curly bracket. We say that the curly brackets are balanced when we have an equal number of left and right curly brackets. Unbalanced curly brackets can lead to crypt compiler errors. If you are receiving very crypt and hard to understand compiler errors, you may want to begin your troubleshooting by verifying that the curly brackets are balanced.</p>
<p>Now let's look at semicolons.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Semicolons</h1>
                </header>
            
            <article>
                
<p>A semicolon is used at the end of every statement to separate one statement from the next. If a statement does not end with a semicolon it will result in a compile-time error. The error text for forgetting a semicolon is pretty obvious and will include the line number of the statement that is missing it.</p>
<p>Semicolons are also used in the <kbd>for</kbd> loop to separate the different elements. We will look at the <kbd>for</kbd> loop in the <em>Looping</em> section of this chapter. Now let's look at how we can add comments to our code.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Comments</h1>
                </header>
            
            <article>
                
<p>There are two types of comments that can be used to within our Arduino code. These are block comments and line comments. Block comments are used when the text of the comment will span multiple lines and are usually used before function calls to let the reader know what a function does. The line comments are used when a short one-line comment is needed and are usually used within function blocks to let the reader know what a specific line of code is doing.</p>
<p>A block comment begins with <kbd>/*</kbd> and ends with <kbd>*/</kbd>. The following code shows what a block comment would look like:</p>
<pre>/* This is a block comment
   This comment can span multiple lines
   This type of comment is usually found outside function calls
*/</pre>
<p>A line comment starts with <kbd>//</kbd> and goes until the end of the line. The line comment can start at the beginning of the line or it may be after a statement ends. The following examples show what a line comment would look like:</p>
<pre>// This is a single line comment
Serial.println("Hello World"); // comment after statement</pre>
<p>It is always a good idea to add comments to your code to let the reader know what certain blocks of code are doing. Now let's look at what variables are.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Variables</h1>
                </header>
            
            <article>
                
<p>A variable is used to store information that can be referenced or manipulated within the code. A variable is given a unique name which can then be used to access the information. The name of the variable should be something that describes what the variable is so anyone that looks at the code will understand what the variable is used for. Camel case should be used when naming a variable.</p>
<p>Camel case is used when creating a name out of multiple words are phases where the first letter of the name is lowercase, but the beginning of each remaining word is uppercase. Some examples of camel case are ledOne, myVariable and redLedOnRightSide.</p>
<p>When a variable is declared it is usually a good idea to give it an initial value. This helps to avoid accidentally accessing the variable prior to initializing it. To declare a variable, we define the type of variable followed by the name of the variable and then if we are going to give it an initial value we add the equal sign followed by the initial value. The following code shows how we would do this:</p>
<pre>int myInt = 0;</pre>
<p>In the preceding line of code, we declared a variable named <kbd>myInt</kbd> of the integer (<kbd>int</kbd>) type with an initial value of <kbd>0</kbd>. Let's look at some of the more popular built-in data types that we can use with the Arduino language.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Data types</h1>
                </header>
            
            <article>
                
<p>There are numerous, built-in, data types in the Arduino programming language. In this section, we will look at the most commonly used ones. Let's begin by looking at the Boolean type.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Boolean</h1>
                </header>
            
            <article>
                
<p>The Boolean data type can contain one of two possible values, <kbd>true</kbd> or <kbd>false</kbd>. The following example shows how to declare a variable to be of the Boolean type:</p>
<pre>boolean myBool = true;</pre>
<p>The preceding code declares a variable named <kbd>myBool</kbd> of the Boolean type and sets an initial value of <kbd>true</kbd>. Boolean types are used a lot within a standard Arduino program and all comparison operations, as we will see later in this chapter, return a Boolean value.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Byte</h1>
                </header>
            
            <article>
                
<p>The byte data type is an 8-bit numerical value that ranges from 0 to 255. The following shows how we would declare a variable of the byte type:</p>
<pre>byte myByte = 128;</pre>
<p>The preceding code declares a variable named <kbd>myByte</kbd> of the <kbd>byte</kbd> type with an initial value of <kbd>128</kbd>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Integer</h1>
                </header>
            
            <article>
                
<p>The integer is the primary data type used to store numerical data when a decimal value is not needed. A variable of the integer type can contain numbers ranging from -32,768 to 32,768. An integer is defined using the <kbd>int</kbd> keyword.</p>
<p>We can declare an integer to be unsigned by using the <kbd>unsigned</kbd> keyword. An unsigned integer can range from 0 to 65,535 whereas the normal integer has a range of -32,768 to 32,768. The following code shows how we would define both a regular integer and an unsigned integer:</p>
<pre>int mySignedInt = 25;
unsigned int myUnsignedInt = 15;</pre>
<p>In the preceding code, we declared a variable named <kbd>mySignedInt</kbd> of the integer type with an initial value of <kbd>25</kbd>. We also declared a second variable named <kbd>myUnsignedInt</kbd> of the unsigned integer type with an initial value of <kbd>15</kbd>.</p>
<div class="packt_infobox">On some Arduino boards like the Due or SAMD, the integer can store values larger than the 32,768 and smaller than the -32,768 value. Since most of the boards have an integer range of -32,768 to 32,768, I would recommend always assuming that is the range you can use.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Long</h1>
                </header>
            
            <article>
                
<p>The long data type can store integers from -2,147,483,648 to 2,147,483,647. The following code shows how we would define a long variable:</p>
<pre>long myLong = 123,456,789; </pre>
<p>In the preceding code, we declared a variable named <kbd>myLong</kbd> of the <kbd>long</kbd> type and gave it a value of 123,456,789. It is good practice to avoid using the long data type unless it is necessary to store larger numbers because it uses more memory than the integer type.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Double and float</h1>
                </header>
            
            <article>
                
<p>Double and float data types are floating point numbers which means they are numbers that can contain a decimal point. Both the double and float types can hold values ranging from -3.4028235E+38 to 3.4028235E+38.</p>
<p>On most platforms, the float data type has a precision of six or seven decimal digits while the double data type usually has fifteen digits; however, this is not true on the Arduino platform. On the Arduino platform, the double and float types are exactly the same, therefore they both have the precision to six or seven decimal digits.</p>
<p>There are two very good reasons not to use a double or float value unless you absolutely need a decimal number. The first reason is with precision inaccuracy, as an example 6.0 divided by 3.0 may not always equal 2. You may end up getting something like 1.9999999999. The second reason is floating point math is much slower than integer math.</p>
<p>The following code shows how to define both a double and float variable:</p>
<pre>double myDouble = 1.25; 
float myFloat = 1.5; </pre>
<p>In the preceding code, we declare a variable named <kbd>myDouble</kbd> of the <kbd>double</kbd> type with a value of <kbd>1.25</kbd>. We also declare a variable named <kbd>myFloat</kbd> of the <kbd>float</kbd> type with a value of <kbd>1.5</kbd>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Character</h1>
                </header>
            
            <article>
                
<p>The char data type is usually described as the data type that stores a character, however, this is not technically correct. The char data type stores a character as a numeric value based on the ASCII chart. When a char variable is defined, it can be defined with either the number that represents the character or the character itself as shown in the following code:</p>
<pre>char myChar = 'A';
char myChar = 65;</pre>
<p>In the preceding code, both lines declare a variable named <kbd>myChar</kbd> of the <kbd>char</kbd> type with a capital <kbd>A</kbd> as the value. Having a type that can hold only a single character is useful, but it would be more useful if we could store entire words or sentences. Later in this chapter, we will see how we can store words or sentences by using an array of characters.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Arrays</h1>
                </header>
            
            <article>
                
<p>An array is an ordered collection of variables which are of the same type. Each variable in the array is called an <strong>element</strong>, and these elements can be accessed by the location (index) in the array. When an array is defined we must declare the type of variables that will be stored in it. There are several ways that an array can be defined. The following examples show some of the basic ways to define an array:</p>
<pre>int myInts[10];
int myInts[] = {1, 2, 3, 4};
int myInts[8] = {2, 4, 6, 8, 10};</pre>
<p>Each of these examples defines an array of integers. The first example defines an uninitialized array of ten integers. Be careful when defining uninitialized arrays because the memory locations are never initialized, which could lead to very unexpected results.</p>
<p>The second example defines an array of four integers were all of the elements are initialized with values. This array is automatically sized to the number of elements that is in the initialization array.</p>
<p>The last example defines an array of eight integers where the first five elements are initialized with values, but the last three elements are not initialized. Once again, I would recommend not defining an array like this because the last three elements are not initialized. In a moment, we will see what happens when we attempt to access an element in an array whose value was not initialized but first we need to see how we would access elements in an array.</p>
<p>We access an element in an array by the index. We put the index of the element we wish to retrieve between two square brackets as shown in the following code:</p>
<pre>int myInts[] = {1, 2, 3, 4};
int myInt = myInts[1];</pre>
<p>In the preceding code, we begin by defining an array of four integers and initialize all four values. In the next line, we retrieve the element at index <kbd>1</kbd> and put the value in the <kbd>myInt</kbd> variable.</p>
<p>It would be incorrect to think the <kbd>myInt</kbd> variable contains the number <kbd>1</kbd> because arrays are zero indexed which means the first value would be at index <kbd>0</kbd> therefore the <kbd>myInt</kbd> variable contains the number <kbd>2</kbd>. The following code shows how this works:</p>
<pre>int myInts[] = {1, 2, 3, 4};
int myInt0 = myInts[0]; // contains 1
int myInt1 = myInts[1]; // contains 2
int myInt2 = myInts[2]; // contains 3
int myInt3 = myInts[3]; // contains 4</pre>
<p>What this code shows is when we declared an array of four integers the valid indexes for this array start at <kbd>0</kbd> and end at <kbd>3</kbd>. Now that we know how to access an array let's see what happens when we access elements that aren't initialized. Add the following code in the <kbd>setup()</kbd> function of a sketch and run it:</p>
<pre>int myInts[5];
Serial.println(myInts[0]);
Serial.println(myInts[1]);
Serial.println(myInts[2]);
Serial.println(myInts[3]);
Serial.println(myInts[4]);</pre>
<p>In the Serial Monitor, you will see five values printed out but they can be any valid integer value because the elements were never initialized. Assigning a new value to an element in the array is exactly like assigning a value to any variable. The following code shows this:</p>
<pre>int myInts[2];
myInts[0] = 0;
myInts[1] = 1;</pre>
<p>In the preceding code, we defined an array of two integers and then assigned the value of <kbd>0</kbd> to the first element and a value of <kbd>1</kbd> to the second element.</p>
<p>We can also create multi-dimensional arrays, which are basically arrays of arrays. The following code shows two ways that we would define a 3 × 4 array of integers:</p>
<pre>int myInts[3][4];
int myInts[][] = { {0,1,2,3}, {4,5,6,7}, {8,9,10,11} };</pre>
<p>Elements in a multidimensional array are accessed by the indexes just like a single dimensional array. The following code shows how to do this:</p>
<pre>int myInt = myInts[1,2]; // The value would be 6</pre>
<p>Now that we have seen how to use arrays, let's see how we can use character arrays to store words and sentences.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Character arrays</h1>
                </header>
            
            <article>
                
<p>We saw earlier in this chapter that we can use the character (<kbd>char</kbd>) type to store a single character; however, what if we wanted to store whole words or sentences? We can use an array of characters to do this. Character arrays can be initiated exactly like other arrays as the following code shows:</p>
<pre>char myStr[10]; 
char myStr[8] = {'A', 'r', 'd', 'u', 'i', 'n', 'o', '\0'}; </pre>
<p>Generally, character arrays are called <strong>strings</strong>. In the preceding code, we define an uninitialized string that can contain up to ten characters and also a character array that contains the word <em>Arduino</em>.</p>
<p>You may notice that at the end of the <em>Arduino</em> string there is a <kbd>\0</kbd> character. This character represents a null. When defining a string we should always terminate the string with the null character, this is called <strong>Null Termination</strong>. By ending the string with a null character, functions like the <kbd>serial.println()</kbd> function know where in memory the string ends. Without the null characters, these functions would continue to read memory until a null character is encountered, which will cause a lot of garbage to appear in the console.</p>
<p>There are easier ways to declare a string as the following code shows:</p>
<pre>char myStr[] = "Arduino";
char myStr[10] = "Arduino";</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p>In the preceding code, the first line initializes a string containing the word Arduino and the array is automatically sized with the null terminator added at the end. In the second line, we initialize a string that contains the word Arduino and contains additional space. The null terminator is added at the end of the work Arduino.</p>
<p>The Arduino language does contain a separate string object; however, you will find that character arrays are used a lot in the sample code. We will look at the string object in <a href="97f86abb-08ca-4f9d-b4dd-c6f49c0949a1.xhtml" target="_blank"><span class="ChapterrefPACKT">Chapter 7</span></a>, <em>Programming the Arduino – Beyond the Basics.</em></p>
<p>Now that we have seen how to use variables and arrays, let's look at how to define a constant.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Constants</h1>
                </header>
            
            <article>
                
<p>A constant is a value that never changes. In the Arduino programming language, we have two ways to declare constants. We can use the <kbd>const</kbd> keyword or the <kbd>#define</kbd> component.</p>
<p>The <kbd>#define</kbd> component enables us to give a name to a constant value prior to the application being compiled. The compiler will replace all references to these constants, with the assigned value, prior to the application being compiled. This means that the defined constants do not take up any program space in memory, which may be an advantage if you are trying to squeeze a large program into an Arduino Nano.</p>
<p>The <kbd>#define</kbd> component does have some drawbacks where the biggest drawback being if the name that is defined for the constant is also included in some other constant or variable name then the name would be replaced by the value defined in the <kbd>#define</kbd> component. For this reason, when I use the <kbd>#define</kbd> to define a constant I usually use all capital letters for the name.</p>
<p>The following code shows how to use the <kbd>#define</kbd> component. You will note in the following code that with the <kbd>#define</kbd> component there is no semicolon at the end of the line. When using a directive like <kbd>#define</kbd>, you do not need to use a semicolon:</p>
<pre>#define LED_PIN 8</pre>
<p>The second way to declare a constant is to use the <kbd>const</kbd> keyword. The <kbd>const</kbd> keyword is a variable qualifier that modifies the variable's behavior making it read-only. This will enable us to use the variable exactly as we would any other variable except that we are unable to change the variable's value. If we attempted to change the value, we would receive a compile-time error.</p>
<p>The following code shows how to use the <kbd>const</kbd> keyword:</p>
<pre>const float pi = 3.14; </pre>
<p>The <kbd>const</kbd> keyword is generally preferred of the <kbd>#define</kbd> component; however, with devices with limited memory the <kbd>#define</kbd> can be used. Now let's see how we can perform math functions in the Arduino programming language.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Arithmetic functions</h1>
                </header>
            
            <article>
                
<p>The Arduino programming language includes operators that enable us to calculate the sum, difference, product and quotient of two operands. To use these operators, the two operands must be of the same type. This means, as an example, we have the ability to calculate the sum of two integer variables; however, we are unable to calculate the sum of a float variable and an integer variable without casting one of the variables forcing them to be of the same type. We will look at casting a little later in this chapter.</p>
<p>The following example shows how we calculate the sum, difference, product, and quotient of two variables:</p>
<pre>z = x + y; // calculates the sum of x and y
z = x - y; // calculates the difference of x and y
z = x * y; // calculates the product of x and y
z = x / y; // calculates the quotient of x and y</pre>
<p>When we perform a division operation there are times where we only need the remainder. For this, we can use the modulo operator. If we divided 5 by 2 the result would be 2.5, therefore with the modulo operator the result will be 5 since that is the remainder. The following code example shows how to use the modulo operator:</p>
<pre>z = x % y // z will contain the remainder of x divided by y</pre>
<p>The Arduino programming language also includes compound assignment operators that enable us to combine the arithmetic and variable assignment operations. This enables us to perform an arithmetic operation and assign the result to the original variable. The following code shows the compound operators in the Arduino programming language:</p>
<pre>x++; // increments x by 1 and assigns the result to x
x--; // decrements x by 1 and assigns the result to x
x += y; //increments x by y and assigns the result to x
x -= y; //decrement x by y and assigns the result to x
x *= y; //multiplies x and y and assigns the result to x
x /= y; //divides x and y and assigns the result to x</pre>
<p class="mce-root"/>
<p>There are also numerous math functions that enable us to perform various common math functions. The following code shows some of the more common functions:</p>
<pre>abs(x) // returns the absolute value of x
max(x,y) // returns the larger of the two values
min(x,y) //returns the smaller of the two values
pow(x,y) // returns the value of x raised to the power of y
sq(x) // returns the value of x squared
sqrt(x) // returns the square root of the value</pre>
<p>Now that we have seen the arithmetic operators and functions that the Arduino programming language provides, let's look at the comparison operators.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Comparison operators</h1>
                </header>
            
            <article>
                
<p>The Arduino programming language includes comparison operators that enable us to compare the values of two operands. The comparison operators return a Boolean value indicating if the comparison was true or false. The following code shows how we would use these operators:</p>
<pre>x == y // returns true if x is equal to y
x != y // returns true if x is not equal to y
x &gt; y // returns true if x is greater than y
x &lt; y // returns true if x is less than y
x &gt;= y // returns true if x is greater or equal to y
x &lt;= y // returns true if x is less than or equal to y</pre>
<p>Now that we have seen the comparison operators that the Arduino programming language provides, let's look at the logical operators.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Logical operators</h1>
                </header>
            
            <article>
                
<p>There are several logical operators included in the Arduino programming language. These operators are the AND, OR and NOT operators. The NOT operator enables us to reverse a comparison operation. The AND and OR operators enable us to combine multiple comparison operators into one step. The following code shows how to use the logical operators:</p>
<pre>(x &gt; 5 &amp;&amp; x &lt; 10) // true if x is greater than 5 and less than 10
(x &gt; 5 || x &lt; 1) // true if x is greater than 5 or less than 1
!(x == y) // returns true if x is not equal to y</pre>
<p class="mce-root"/>
<p>Now let's see how we can cast a variable.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Casting</h1>
                </header>
            
            <article>
                
<p>The cast operator will convert the variable type to a different type. This will enable us to perform operations, like arithmetic operations, on variables of different types. For example, if we want to add two variables where one is of the float type and the other is of the integer type, then we will need to cast one of them, so the two variables are of the same type.</p>
<p>One thing to note is when we cast a float value to an integer value the value is truncated and not rounded. This means that if the float variable contains the value 2.9 and we cast it to an integer, the value will be 2. With this in mind, we generally want to cast integer values to float values rather than float values to integer values even if it means the operation will take longer.</p>
<p>The following code shows how we could cast an integer variable as a float variable to perform arithmetic calculations:</p>
<pre>int x = 5;
float y = 3.14;
float z = (float)x + y;</pre>
<p>There are very few useful applications that we can write that do not have some sort of logic in them. This logic is usually performed by deciding what to do based on some input. This requires our applications to make decisions. Let's see how we can do this with the Arduino programming language.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Decision making</h1>
                </header>
            
            <article>
                
<p>In the Arduino programming language, we make decisions with the <kbd>if</kbd> statement. The <kbd>if</kbd> statement will check if a condition is true and if so will execute the block of code within the curly brackets.</p>
<p>The following shows the syntax for the <kbd>if</kbd> statement:</p>
<pre>if (condition) {
  // Code to execute
}</pre>
<p>We can use an <kbd>else</kbd> statement after the <kbd>if</kbd> statement to execute a block of code if the condition is not true.</p>
<p>The following shows the syntax for the <kbd>if/else</kbd> statement:</p>
<pre>if (condition) {
  // Code to execute if condition is true
} else {
  // Code to execute if condition is false
}</pre>
<p>The condition, in the <kbd>if</kbd> statement, can be any Boolean value or an operation that returns a Boolean result. You will find that the majority of the <kbd>if</kbd> statements in your code will contain comparison operations. Let's look at some code that will illustrate this:</p>
<pre>if (varA &gt; varB) {
  Serial.println("varA is greater than varB");
} else {
  Serial.println("varB is greater or equal to varA");<br/>}</pre>
<p>In the preceding code, we used the greater than (<kbd>&gt;</kbd>) comparison operator to see if <kbd>varA</kbd> is greater than <kbd>varB</kbd>. If the comparison operation returned <kbd>true</kbd> then the code sends the <kbd>varA is greater than varB</kbd> message to the console. If the comparison operation returned false then the <kbd>varB is greater or equal to varA</kbd> message is sent to the console.</p>
<p>We can also string the <kbd>if</kbd> statements together by using an <kbd>if</kbd> statement with an <kbd>else</kbd> statement. The following code illustrates this:</p>
<pre>if (varA == varB) {
  Serial.println("varA is equal to varB");
} else if (varA &gt; varB) {
  Serial.println("varA is greater than varB");
} else {
  Serial.println("varB is greater than varA");<br/>}</pre>
<p>In the preceding code, we used the equal (<kbd>==</kbd>) comparison operator to see if <kbd>varA</kbd> equaled <kbd>varB</kbd> and if so we send the <kbd>varA is equal to varB</kbd> message to the console. If they were not equal, we then used the greater than (<kbd>&gt;</kbd>) comparison operator to see if <kbd>varA</kbd> is greater than <kbd>varB</kbd> and if so we send the <kbd>varA is greater than varB</kbd> message to the console. If neither one of the two comparison operations were successful we then send the <kbd>varA is equal to varB</kbd> message to the console.</p>
<p>When using the <kbd>else</kbd> and <kbd>if</kbd> statements together, the code will execute the first block of code that returns a <kbd>true</kbd> condition and will then ignore the remainder of the <kbd>else</kbd> statements.</p>
<p>Using the <kbd>if</kbd> and <kbd>else</kbd> statements is the most common way to perform logic within an application; however, the code can get very messy if we have more than two or three conditions to check. Just imagine if the last <kbd>if</kbd>/<kbd>else</kbd> example has ten different conditions that we needed to check. If there is a need to check more than two or three conditions, we can use the <kbd>switch</kbd>/<kbd>case</kbd> statements.</p>
<p>The <kbd>switch</kbd>/<kbd>case</kbd> statement takes a value, compares it to the several possible matches, and executes the appropriate block of code based on the first successful match. The <kbd>switch</kbd> statement is an alternative to using multiple <kbd>else-if</kbd> statements when there could be several possible matches. The <kbd>switch</kbd> statement is preferred over the <kbd>else-if</kbd> statements if there are three or more possible matches. The <kbd>switch</kbd> statement takes the following format:</p>
<pre>switch (var) { 
  case match1:
    // Code to execute if condition matches case
  break;
  case match2:
   // Code to execute if condition matches case
  break;
  case match3:
   // Code to execute if condition matches case
  break;
  default:
   // Code to execute if condition matches case
}</pre>
<p>The preceding code starts off with a switch statement and within the parenthesis of the <kbd>switch</kbd> statement, there is a variable named <kbd>var</kbd>. The code will attempt to match the value of the <kbd>var</kbd> variable with each case statement starting with the first one and once it finds a match it will execute the code.</p>
<p>The code within each <kbd>case</kbd> statement should end with a <kbd>break</kbd> statement. The <kbd>break</kbd> statement is needed because once the <kbd>switch</kbd> statement matches a case it will not only execute the code within that <kbd>case</kbd> statement but also the code in each subsequent <kbd>case</kbd> statement. This means that if we did not include the <kbd>break</kbd> statements and the <kbd>var</kbd> variable matched the value in the <kbd>match2</kbd> case, the code within the <kbd>match2</kbd> case, the <kbd>match3</kbd> case and default will all execute. The code encounters the <kbd>break</kbd> statement it immediately exits out of the <kbd>switch</kbd> statement preventing the code in the other <kbd>case</kbd> statements from executing.</p>
<p>Now that we have seen how to make decisions in the Arduino programming language, let's look at how to perform looping.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Looping</h1>
                </header>
            
            <article>
                
<p>The Arduino programming language has three looping statements which are the <kbd>for</kbd>, <kbd>while</kbd> and <kbd>do</kbd>/<kbd>while</kbd> loops. We will start off by looking at the <kbd>for</kbd> loop.</p>
<p>The <kbd>for</kbd> loop is used to repeatedly execute a block of code. The <kbd>for</kbd> loop is usually used to execute a block of code a specific number of times or to access elements in an array. There are three parts to the <kbd>for</kbd> statement. These parts are the initialization, condition, and increment.</p>
<p>In the initialization portion of the <kbd>for</kbd> statement, we initialize any variables that need to be initialized. There can be multiple initializations separated by commas, but I would recommend avoiding any initialization here that is not directly related to the <kbd>for</kbd> loop.</p>
<p>The condition portion of the <kbd>for</kbd> statement, expect a statement that will return either a <kbd>true</kbd> or <kbd>false</kbd> and it usually contains a conditional statement. This portion of the loop determines when the loop will end. While the conditional statement returns <kbd>true</kbd>, the <kbd>for</kbd> loop will continue to execute the block of code. Once the conditional statement returns <kbd>false</kbd> the loop will exit.</p>
<p>The increment portion of the <kbd>for</kbd> statement is used to change the value of a variable. This change is performed each time the loop is executed. The following code shows the syntax for the <kbd>for</kbd> statement:</p>
<pre>for (initialization; condition; change) { }</pre>
<p>To see how this would look with actual code, the following shows how we would create a <kbd>for</kbd> statement that will loop ten times:</p>
<pre>for (int i = 0; i &lt; 10; i++) {
  // Code to execute
}</pre>
<p>In the preceding code, the for statement initializes the <kbd>i</kbd> variable to zero in the initialization portion. In the condition portion, the <kbd>for</kbd> statements checks to see if the <kbd>i</kbd> variable is less than ten and if it is, the code will continue to loop. In the change portion, the <kbd>for</kbd> loop increments the <kbd>i</kbd> variable by one each time the loop is executed. In the example, the <kbd>for</kbd> loop will initially assign the value of <kbd>0</kbd> to the <kbd>i</kbd> variable and then increment it each loop until the <kbd>i</kbd> variable is equal to <kbd>9</kbd>.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>The next loop that we will look at is the <kbd>while</kbd> loop. The <kbd>while</kbd> loop will repeatedly execute a block of code until the condition defined in the <kbd>while</kbd> statement returns <kbd>false</kbd>. This can be a dangerous loop to use because if the condition never returns <kbd>false</kbd> then the loop will continue indefinitely. The <kbd>while</kbd> statement takes the following syntax:</p>
<pre>while (condition) {
  // code to execute
}</pre>
<p>The condition within the <kbd>while</kbd> statement should return either <kbd>true</kbd> or <kbd>false</kbd>. This condition is usually a comparison statement. The following code shows an example of the <kbd>while</kbd> statement:</p>
<pre>int x = 0;
while (x &lt; 200) {
  // code to execute
  x++;
}</pre>
<p>In the preceding code, the block of code is executed while the <kbd>x</kbd> variable is less than <kbd>200</kbd>. At the end of the code block, the <kbd>x</kbd> variable is incremented by 1. If we had forgotten to put the line that incremented <kbd>x</kbd> in the code block then the <kbd>while</kbd> loop would loop indefinitely. It is very important to make sure you put the change statement within the code block, otherwise the loop will never exit.</p>
<p>With the <kbd>while</kbd> loop, the condition is checked prior to the block of code being executed. That means that if the conditions return <kbd>false</kbd> when the <kbd>while</kbd> statement is first called then the code block would never be executed. If we require that the block of code be executed once, prior to the condition being check, we can use the <kbd>do/while</kbd> loop.</p>
<p>The <kbd>do</kbd>/<kbd>while</kbd> loop is exactly like the <kbd>while</kbd> loop except that the condition is checked after the block of code is executed rather than before. The following code shows the syntax for this loop:</p>
<pre>do {
  // code to execute
} while (condition);</pre>
<p>As with the <kbd>while</kbd> loop, the condition within the <kbd>while</kbd> statement should return either a <kbd>true</kbd> or <kbd>false</kbd> and is usually a comparison statement. The following codes show an example of the <kbd>do</kbd>/<kbd>while</kbd> statement:</p>
<pre>int x = 0;
do {
  // code to execute
  x++;
} while (x &lt; 200);</pre>
<p>The preceding code will execute the block of code 200 times, exactly like the code in the previous <kbd>while</kbd> loop. The only difference is, in the <kbd>while</kbd> loop, the condition is checked prior to executing the block of code and in the <kbd>do</kbd>/<kbd>while</kbd> loop the condition is checked after.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Functions</h1>
                </header>
            
            <article>
                
<p>A function is a named block of code that performs a specific task. When a new sketch is created, the IDE or Web Editor automatically creates two functions for us as we saw in the previous chapter; however, we are not limited to only those two functions, we also have the ability to declare custom functions ourselves. The following code shows the syntax for creating a function:</p>
<pre>type name (parameters) { } </pre>
<p>To declare a function, we need to declare what type the function is. The function type is the value that is returned by the function. If the function is not going to return a value, as with the <kbd>setup()</kbd> and <kbd>loop()</kbd> functions, then the function type would be <kbd>void</kbd>.</p>
<p>Once the function type is declared we define the name of the function. The function name should be something that describes what the function does. For example, if we are creating a sketch that will turn a LED on or off, then we may have functions named <kbd>ledOff()</kbd> and <kbd>ledOn()</kbd>. It is good practice to use camel case when naming a function as with variables.</p>
<p>After the name of the function, we put the parameters of the function within parentheses. Parameters are data that are passed to the function by the code that calls it. The function usually relies on the data to perform it's required logic. You may have multiple parameters within the parentheses by separating them with commas.</p>
<p>We use curly brackets to define the start and end of the code block for the function. The left curly bracket indicates the start of the function while the right curly bracket indicates the end of the function. The following examples show different examples of functions:</p>
<pre>void myFunction() {
  // Function code
}    

void myFunction(int param) {
  // Function code
}

int myFunction() {
  // Function code
}

int myFunction(int param) {
  // Function Code
}</pre>
<p>The first function has a return type of <kbd>void</kbd> which means it does not return any value. It also does not have any parameters. This type of function would be used to perform a task that does not need to return any information back to the code that called it and does not require any additional information to perform its required task.</p>
<p>The second function also has a return type of <kbd>void</kbd>, but it does accept one parameter. This type of function would be used if the function needs some information, from the code that called it, to perform its task. The first part of the parameter is the parameter type. In this example, the type is an <kbd>int</kbd>, which means the data will be of the integer type. The second part of the parameter is the name of the parameter. This would mean that the parameter in this example is named <kbd>param</kbd> and is of the integer type. To declare multiple parameters, we would separate them with commas like this: <kbd>(int param1, int param2, float param3)</kbd>.</p>
<p>The third function has an <kbd>int</kbd> return type, which means it must return an integer; however, it does not take any parameters. This type of function would be used if we wanted to pass information from the function back to the code that called it.</p>
<p>The fourth function returns an integer and accepts a parameter. This type of function would be used if we wanted to pass information back to the code that called it and it needed information from that code to perform its task.</p>
<p>We use the <kbd>return</kbd> statement to return a value from a function. The following code shows how we would do this:</p>
<pre>int myFunction() {
  var x = 1;
  var y = 2;
  return x + y;
}</pre>
<p>When a variable is created within a function, as we saw in the last example, the variable is only accessible within that function. The following code illustrates this:</p>
<pre>int g = 1;
void function myFunction1() {
  int x1 = 2;
}
void function myFunction2() {
 int x2 = 3;
}</pre>
<p>In the preceding code, the <kbd>g</kbd> variable, since it is declared outside of the functions, is accessible by any of the functions. When you declare a variable outside of the functions like this it is considered to be a global variable. The <kbd>x1</kbd> variable is only accessible within the <kbd>myFunction1()</kbd> function and the <kbd>x2</kbd> variable is accessible only within the <kbd>myFunction2()</kbd> function.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we covered the basics of the Arduino programming language. The material in this chapter lays the groundwork for everything else that is covered in this book, therefore, it is important to understand the items presented here.</p>
<p>In the next chapter, we will look at some more advanced features of the Arduino programming language and the Arduino development environments.</p>


            </article>

            
        </section>
    </body></html>