<html><head></head><body>
<div id="_idContainer253">
<h1 class="chapter-number" id="_idParaDest-274"><a id="_idTextAnchor275"/><span class="koboSpan" id="kobo.1.1">14</span></h1>
<h1 id="_idParaDest-275"><a id="_idTextAnchor276"/><span class="koboSpan" id="kobo.2.1">Deploying Multiplayer Games</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Deploying an Unreal multiplayer game can be a daunting task for </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">any developer.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">In this chapter, I will present you with the key steps involved in packaging and deploying a game – a process that needs proper planning and preparation beforehand. </span><span class="koboSpan" id="kobo.5.2">This will help you avoid most issues, resulting in a successful launch at </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">deploy time.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">This process will also involve a crucial task – compiling Unreal Engine from its source code and then packaging your game as a standalone server executable and </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">client executable.</span></span></p>
<p><span class="koboSpan" id="kobo.9.1">So, in the next sections, I will present you with the </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.11.1">Going online </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">for real</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Compiling </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">Unreal Engine</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Setting up a </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">dedicated server</span></span></li>
</ul>
<h1 id="_idParaDest-276"><a id="_idTextAnchor277"/><span class="koboSpan" id="kobo.17.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.18.1">To follow the topics presented in this chapter, you should have completed all the previous chapters and have understood </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">their content.</span></span></p>
<p><span class="koboSpan" id="kobo.20.1">Although not mandatory, basic knowledge of Git technology (</span><a href="https://git-scm.com"><span class="koboSpan" id="kobo.21.1">https://git-scm.com</span></a><span class="koboSpan" id="kobo.22.1">) will help in the second section of </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1">this chapter.</span></span></p>
<h1 id="_idParaDest-277"><a id="_idTextAnchor278"/><span class="koboSpan" id="kobo.24.1">Going online for real</span></h1>
<p><span class="koboSpan" id="kobo.25.1">Up until now, to work on your projects, you have been utilizing an Unreal Engine official release that can be </span><a id="_idIndexMarker775"/><span class="koboSpan" id="kobo.26.1">accessed through the Epic Games Launcher. </span><span class="koboSpan" id="kobo.26.2">However, if you aspire to enhance your skills in multiplayer development, you must take a further step to proficiently excel in this field and become an adept multiplayer </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">game developer.</span></span></p>
<p><span class="koboSpan" id="kobo.28.1">The first thing you need to know is that Unreal Engine releases are not “complete” versions of the software; they offer almost all that’s needed to work on your project, but they usually miss less common and more advanced features. </span><span class="koboSpan" id="kobo.28.2">One of the main reasons is to keep the regular version of Unreal Engine to a smaller, more </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">affordable size.</span></span></p>
<p><span class="koboSpan" id="kobo.30.1">Regrettably, these releases lack the necessary functionality to compile a project for multiplayer deployment, which in turn means that if you plan to release your game in the wild, you are out </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">of luck.</span></span></p>
<p><span class="koboSpan" id="kobo.32.1">Luckily there is a solution available – compiling the Unreal Engine Editor yourself directly from the source code. </span><span class="koboSpan" id="kobo.32.2">The full Unreal Engine source code is available in a repository hosted on GitHub (</span><a href="https://github.com/"><span class="koboSpan" id="kobo.33.1">https://github.com/</span></a><span class="koboSpan" id="kobo.34.1">) and, with minimum effort, you will be able to get it and use it for your own needs. </span><span class="koboSpan" id="kobo.34.2">There are many advantages in compiling your own version of the engine, including peeking through the actual engine implementation classes – such as Actor and Pawn – and stepping inside the engine code while debugging your game to get an introspection on </span><span class="No-Break"><span class="koboSpan" id="kobo.35.1">what’s happening.</span></span></p>
<p><span class="koboSpan" id="kobo.36.1">A great number </span><a id="_idIndexMarker776"/><span class="koboSpan" id="kobo.37.1">of individuals have made valuable contributions to the engine by identifying software glitches and taking the time to fix them. </span><span class="koboSpan" id="kobo.37.2">At the time of writing this chapter, the number of contributors to the engine is as many as 563 developers, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.38.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.39.1">.1</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.40.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer231">
<span class="koboSpan" id="kobo.41.1"><img alt="Figure 14.1 – The Unreal Engine GitHub page" src="image/Figure_14_01_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.42.1">Figure 14.1 – The Unreal Engine GitHub page</span></p>
<p><span class="koboSpan" id="kobo.43.1">Another advantage of accessing the engine source code and compiling your own executable version is that you will </span><a id="_idIndexMarker777"/><span class="koboSpan" id="kobo.44.1">be able to compile your multiplayer game as a </span><strong class="bold"><span class="koboSpan" id="kobo.45.1">dedicated server</span></strong><span class="koboSpan" id="kobo.46.1"> – a game version that will run without rendering any </span><a id="_idIndexMarker778"/><span class="koboSpan" id="kobo.47.1">visuals and that will not run on a client machine. </span><span class="koboSpan" id="kobo.47.2">This kind of game</span><a id="_idIndexMarker779"/><span class="koboSpan" id="kobo.48.1"> instance is usually referred to as a </span><strong class="bold"><span class="koboSpan" id="kobo.49.1">headless</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.50.1">game version.</span></span></p>
<p><span class="koboSpan" id="kobo.51.1">Using a dedicated server offers many advantages over a </span><span class="No-Break"><span class="koboSpan" id="kobo.52.1">listen server:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.53.1">The size of the </span><a id="_idIndexMarker780"/><span class="koboSpan" id="kobo.54.1">executable will </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">be smaller</span></span></li>
<li><span class="koboSpan" id="kobo.56.1">The server version will mainly focus on gameplay logic and handling information from </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">the clients</span></span></li>
<li><span class="koboSpan" id="kobo.58.1">No client will have advantages or disadvantages over the others due to hosting the </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">game session</span></span></li>
<li><span class="koboSpan" id="kobo.60.1">You can build a dedicated server release separate from the client release and a client release from the </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">dedicated server</span></span></li>
<li><span class="koboSpan" id="kobo.62.1">The server-side code logic can be compiled just in the server, obfuscating important code that may be available to malevolent hackers if distributed inside </span><span class="No-Break"><span class="koboSpan" id="kobo.63.1">the client</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.64.1">With this in mind, let’s kick off this exciting journey by creating our very own executable program for the Unreal Engine Editor using the </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">source code.</span></span></p>
<p><span class="koboSpan" id="kobo.66.1">The first thing to do is to obtain the actual source code from the GitHub repository – something we are going to do in the </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">next section.</span></span></p>
<h1 id="_idParaDest-278"><a id="_idTextAnchor279"/><span class="koboSpan" id="kobo.68.1">Compiling the Unreal Engine</span></h1>
<p><span class="koboSpan" id="kobo.69.1">In this section, you’ll be </span><a id="_idIndexMarker781"/><span class="koboSpan" id="kobo.70.1">downloading the engine source code and building it to get a personal, executable release that will let you create your own dedicated servers for </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">multiplayer deployment.</span></span></p>
<p><span class="koboSpan" id="kobo.72.1">This process is divided into two </span><span class="No-Break"><span class="koboSpan" id="kobo.73.1">main parts:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.74.1">Cloning the project from the official Epic Games </span><span class="No-Break"><span class="koboSpan" id="kobo.75.1">GitHub repository</span></span></li>
<li><span class="koboSpan" id="kobo.76.1">Setting up and building the sources with </span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">Visual Studio</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.78.1">Don’t worry if you’re </span><a id="_idIndexMarker782"/><span class="koboSpan" id="kobo.79.1">unfamiliar with GitHub – I’ll walk you through everything with clear and easy-to-follow </span><span class="No-Break"><span class="koboSpan" id="kobo.80.1">step-by-step instructions.</span></span></p>
<h2 id="_idParaDest-279"><a id="_idTextAnchor280"/><span class="koboSpan" id="kobo.81.1">Downloading the Unreal Engine source project</span></h2>
<p><span class="koboSpan" id="kobo.82.1">During the next steps, you will be downloading the Unreal Engine source code from the official Epic Games GitHub </span><a id="_idIndexMarker783"/><span class="koboSpan" id="kobo.83.1">repository in order to have the full project in your hands. </span><span class="koboSpan" id="kobo.83.2">The requisites you will need to satisfy are </span><span class="No-Break"><span class="koboSpan" id="kobo.84.1">as follows:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.85.1">Have Git installed on </span><span class="No-Break"><span class="koboSpan" id="kobo.86.1">your computer</span></span></li>
<li><span class="koboSpan" id="kobo.87.1">Have a </span><span class="No-Break"><span class="koboSpan" id="kobo.88.1">GitHub account</span></span></li>
<li><span class="koboSpan" id="kobo.89.1">Connect the GitHub account to your Epic </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">Games account</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.91.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.92.1">If you already know Git, chances are you will already have satisfied some or all of the requisites. </span><span class="koboSpan" id="kobo.92.2">If so, feel free to skip the </span><span class="No-Break"><span class="koboSpan" id="kobo.93.1">following steps.</span></span></p>
<p><span class="koboSpan" id="kobo.94.1">You will start by installing Git on </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">your computer.</span></span></p>
<h3><span class="koboSpan" id="kobo.96.1">Installing Git on your computer</span></h3>
<p><strong class="bold"><span class="koboSpan" id="kobo.97.1">Git</span></strong><span class="koboSpan" id="kobo.98.1"> is a version control system that </span><a id="_idIndexMarker784"/><span class="koboSpan" id="kobo.99.1">is both free and open source. </span><span class="koboSpan" id="kobo.99.2">It is designed to track the changes made </span><a id="_idIndexMarker785"/><span class="koboSpan" id="kobo.100.1">to computer files, which </span><a id="_idIndexMarker786"/><span class="koboSpan" id="kobo.101.1">it does by taking “snapshots” of a project’s files whenever a commit is executed. </span><span class="koboSpan" id="kobo.101.2">This feature enables developers to oversee and regulate their code’s evolution in an efficient, speedy fashion. </span><span class="koboSpan" id="kobo.101.3">Git is an excellent source code management tool for projects of all sizes, ranging from small to </span><span class="No-Break"><span class="koboSpan" id="kobo.102.1">extremely large.</span></span></p>
<p><span class="koboSpan" id="kobo.103.1">As stated before, you don’t have to be proficient with Git in order to obtain the Unreal Engine repository – you will just be using its cloning capabilities to download the engine </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">source code.</span></span></p>
<p><span class="koboSpan" id="kobo.105.1">To install Git on your computer, head to the official download page (</span><a href="https://git-scm.com/downloads"><span class="koboSpan" id="kobo.106.1">https://git-scm.com/downloads</span></a><span class="koboSpan" id="kobo.107.1">) and get </span><a id="_idIndexMarker787"/><span class="koboSpan" id="kobo.108.1">the latest release. </span><span class="koboSpan" id="kobo.108.2">Once it is downloaded, simply install it as you would do </span><a id="_idIndexMarker788"/><span class="koboSpan" id="kobo.109.1">with any common </span><a id="_idIndexMarker789"/><span class="koboSpan" id="kobo.110.1">software. </span><span class="koboSpan" id="kobo.110.2">Once the installation phase has been completed, you will have the Git command line available on </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">your machine.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.112.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.113.1">Some people – including me – prefer to use dedicated client software instead of using the command line, easing the pain of using the command prompt. </span><span class="koboSpan" id="kobo.113.2">If you feel uncomfortable with the command line, you can use a third-party client, some of which are listed on this </span><span class="No-Break"><span class="koboSpan" id="kobo.114.1">page: </span></span><a href="https://git-scm.com/downloads/guis"><span class="No-Break"><span class="koboSpan" id="kobo.115.1">https://git-scm.com/downloads/guis</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.116.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.117.1">Once you have installed Git, you can safely proceed to create a </span><span class="No-Break"><span class="koboSpan" id="kobo.118.1">GitHub account.</span></span></p>
<h3><span class="koboSpan" id="kobo.119.1">Creating a GitHub account</span></h3>
<p><strong class="bold"><span class="koboSpan" id="kobo.120.1">GitHub</span></strong><span class="koboSpan" id="kobo.121.1"> (</span><a href="https://github.com/"><span class="koboSpan" id="kobo.122.1">https://github.com/</span></a><span class="koboSpan" id="kobo.123.1">) is a cloud-based</span><a id="_idIndexMarker790"/><span class="koboSpan" id="kobo.124.1"> service that allows software developers to store, manage, track, and control changes made to their code base using Git. </span><span class="koboSpan" id="kobo.124.2">It enables developers to </span><a id="_idIndexMarker791"/><span class="koboSpan" id="kobo.125.1">collaborate on projects from </span><a id="_idIndexMarker792"/><span class="koboSpan" id="kobo.126.1">anywhere and provides a range of features such as project management tools, documentation, issue tracking, and continuous integration and deployment. </span><span class="koboSpan" id="kobo.126.2">GitHub is widely used in the software development industry and has become a crucial part of the software development workflow for many organizations </span><span class="No-Break"><span class="koboSpan" id="kobo.127.1">and developers.</span></span></p>
<p><span class="koboSpan" id="kobo.128.1">To create a GitHub account, you just need to click the </span><strong class="bold"><span class="koboSpan" id="kobo.129.1">Sign up</span></strong><span class="koboSpan" id="kobo.130.1"> button and, after adding your email, follow the instructions you will be </span><span class="No-Break"><span class="koboSpan" id="kobo.131.1">presented with.</span></span></p>
<p><span class="koboSpan" id="kobo.132.1">Once you have got your GitHub account, it’s time to get access to the Epic Games organization by connecting the GitHub and Epic </span><span class="No-Break"><span class="koboSpan" id="kobo.133.1">Games accounts.</span></span></p>
<h3><span class="koboSpan" id="kobo.134.1">Connecting your GitHub account to the Epic Games account</span></h3>
<p><span class="koboSpan" id="kobo.135.1">Epic Games has </span><a id="_idIndexMarker793"/><span class="koboSpan" id="kobo.136.1">a GitHub organization (</span><a href="https://github.com/EpicGames"><span class="koboSpan" id="kobo.137.1">https://github.com/EpicGames</span></a><span class="koboSpan" id="kobo.138.1">) where public repositories </span><a id="_idIndexMarker794"/><span class="koboSpan" id="kobo.139.1">are stored, including the Unreal Engine project. </span><span class="koboSpan" id="kobo.139.2">Accessing this organization is free – you just have to connect the Epic </span><a id="_idIndexMarker795"/><span class="koboSpan" id="kobo.140.1">Games account to the GitHub one. </span><span class="koboSpan" id="kobo.140.2">Here’s how to </span><span class="No-Break"><span class="koboSpan" id="kobo.141.1">do so:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.142.1">Visit your Epic Games account </span><span class="No-Break"><span class="koboSpan" id="kobo.143.1">page (</span></span><a href="https://www.epicgames.com/account"><span class="No-Break"><span class="koboSpan" id="kobo.144.1">https://www.epicgames.com/account</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.145.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.146.1">Select the </span><strong class="bold"><span class="koboSpan" id="kobo.147.1">APPS AND </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.148.1">ACCOUNTS</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.149.1"> page.</span></span></li>
<li><span class="koboSpan" id="kobo.150.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.151.1">GITHUB</span></strong><span class="koboSpan" id="kobo.152.1"> section, click the </span><strong class="bold"><span class="koboSpan" id="kobo.153.1">CONNECT</span></strong><span class="koboSpan" id="kobo.154.1"> button, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.155.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.156.1">.2</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.157.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer232">
<span class="koboSpan" id="kobo.158.1"><img alt="Figure 14.2 – The Apps and Accounts section" src="image/Figure_14_02_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.159.1">Figure 14.2 – The Apps and Accounts section</span></p>
<p><span class="koboSpan" id="kobo.160.1">Once you have </span><a id="_idIndexMarker796"/><span class="koboSpan" id="kobo.161.1">authorized the connect operation, you will be granted access to the Epic Games </span><a id="_idIndexMarker797"/><span class="koboSpan" id="kobo.162.1">GitHub organization (</span><a href="https://github.com/EpicGames"><span class="koboSpan" id="kobo.163.1">https://github.com/EpicGames</span></a><span class="koboSpan" id="kobo.164.1">) and to the </span><a id="_idIndexMarker798"/><span class="koboSpan" id="kobo.165.1">Unreal Engine repository (</span><a href="https://github.com/EpicGames/UnrealEngine"><span class="koboSpan" id="kobo.166.1">https://github.com/EpicGames/UnrealEngine</span></a><span class="koboSpan" id="kobo.167.1">). </span><span class="koboSpan" id="kobo.167.2">The Unreal Engine repository includes all the </span><a id="_idIndexMarker799"/><span class="koboSpan" id="kobo.168.1">Unreal Engine versions organized in their own </span><span class="No-Break"><span class="koboSpan" id="kobo.169.1">separate branches.</span></span></p>
<p><span class="koboSpan" id="kobo.170.1">In Git, a </span><strong class="bold"><span class="koboSpan" id="kobo.171.1">branch</span></strong><span class="koboSpan" id="kobo.172.1"> is a separate line </span><a id="_idIndexMarker800"/><span class="koboSpan" id="kobo.173.1">of development that represents changes made to a code base. </span><span class="koboSpan" id="kobo.173.2">Think of it as a snapshot of the code at a specific point in time that allows developers to work on different features without affecting the main code base. </span><span class="koboSpan" id="kobo.173.3">This way, you will be able to create your own executable with the version of your choice. </span><span class="koboSpan" id="kobo.173.4">In the Unreal Engine repository, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.174.1">release</span></strong><span class="koboSpan" id="kobo.175.1"> branch includes the latest stable release of </span><span class="No-Break"><span class="koboSpan" id="kobo.176.1">the engine.</span></span></p>
<p><span class="koboSpan" id="kobo.177.1">You are now ready to clone the repository on your </span><span class="No-Break"><span class="koboSpan" id="kobo.178.1">local machine:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.179.1">On your PC, navigate to an empty folder or create a </span><span class="No-Break"><span class="koboSpan" id="kobo.180.1">new one.</span></span></li>
<li><span class="koboSpan" id="kobo.181.1">Right-click and, from the drop-down menu, select </span><strong class="bold"><span class="koboSpan" id="kobo.182.1">Git Bash Here</span></strong><span class="koboSpan" id="kobo.183.1">, as depicted in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.184.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.185.1">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.186.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer233">
<span class="koboSpan" id="kobo.187.1"><img alt="Figure 14.3 – The Git Bash Here option" src="image/Figure_14_03_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.188.1">Figure 14.3 – The Git Bash Here option</span></p>
<p><span class="koboSpan" id="kobo.189.1">This will open </span><a id="_idIndexMarker801"/><span class="koboSpan" id="kobo.190.1">a command prompt </span><a id="_idIndexMarker802"/><span class="koboSpan" id="kobo.191.1">and you will be ready to </span><a id="_idIndexMarker803"/><span class="koboSpan" id="kobo.192.1">clone the Unreal </span><span class="No-Break"><span class="koboSpan" id="kobo.193.1">Engine project.</span></span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.194.1">Type the </span><span class="No-Break"><span class="koboSpan" id="kobo.195.1">following command:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.196.1">
git clone https://github.com/EpicGames/UnrealEngine.git</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.197.1">You may be asked to enter your credentials; in this case, use those of your </span><span class="No-Break"><span class="koboSpan" id="kobo.198.1">GitHub account.</span></span></p>
<p><span class="koboSpan" id="kobo.199.1">The download and clone process may take a long time, depending on your </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">internet connection.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.201.1">Once the process has finished, you should see an </span><strong class="source-inline"><span class="koboSpan" id="kobo.202.1">UnrealEngine</span></strong><span class="koboSpan" id="kobo.203.1"> folder in your directory; this is the project source code. </span><span class="koboSpan" id="kobo.203.2">In the Git terminal, type </span><span class="No-Break"><span class="koboSpan" id="kobo.204.1">the following:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.205.1">
git fetch origin</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.206.1">This command will retrieve all available branches in the </span><span class="No-Break"><span class="koboSpan" id="kobo.207.1">remote repository.</span></span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.208.1">As an </span><a id="_idIndexMarker804"/><span class="koboSpan" id="kobo.209.1">optional step, if you want to work with a particular release of the </span><a id="_idIndexMarker805"/><span class="koboSpan" id="kobo.210.1">engine, you can type the </span><a id="_idIndexMarker806"/><span class="No-Break"><span class="koboSpan" id="kobo.211.1">following command:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.212.1">
git checkout –b [version number] origin/[version number]</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.213.1">For instance, if you need Unreal Engine 5.1, you </span><span class="No-Break"><span class="koboSpan" id="kobo.214.1">will type:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.215.1">
git checkout –b 5.1 origin/5.1</span></pre>
<p><span class="koboSpan" id="kobo.216.1">This command will switch to the 5.1 version branch and make its </span><span class="No-Break"><span class="koboSpan" id="kobo.217.1">sources available.</span></span></p>
<p><span class="koboSpan" id="kobo.218.1">Once the process has finished, you are ready to go and compile </span><span class="No-Break"><span class="koboSpan" id="kobo.219.1">the sources.</span></span></p>
<h2 id="_idParaDest-280"><a id="_idTextAnchor281"/><span class="koboSpan" id="kobo.220.1">Compiling from the source code</span></h2>
<p><span class="koboSpan" id="kobo.221.1">Once you have </span><a id="_idIndexMarker807"/><span class="koboSpan" id="kobo.222.1">downloaded the source code from the GitHub repository, you’ll need to compile it, in order to get an executable out of it. </span><span class="koboSpan" id="kobo.222.2">This will allow you to launch the compiled Unreal Engine application and take advantage of all </span><span class="No-Break"><span class="koboSpan" id="kobo.223.1">its features.</span></span></p>
<p><span class="koboSpan" id="kobo.224.1">There are four main steps you’ll need to complete in order to have a fully </span><span class="No-Break"><span class="koboSpan" id="kobo.225.1">working executable:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.226.1">Set up your </span><span class="No-Break"><span class="koboSpan" id="kobo.227.1">programming IDE</span></span></li>
<li><span class="koboSpan" id="kobo.228.1">Set up </span><span class="No-Break"><span class="koboSpan" id="kobo.229.1">the project</span></span></li>
<li><span class="koboSpan" id="kobo.230.1">Generate the </span><span class="No-Break"><span class="koboSpan" id="kobo.231.1">project files</span></span></li>
<li><span class="koboSpan" id="kobo.232.1">Compile the </span><span class="No-Break"><span class="koboSpan" id="kobo.233.1">source files</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.234.1">Let’s get started by checking that your programming IDE is up to date and ready </span><span class="No-Break"><span class="koboSpan" id="kobo.235.1">to go.</span></span></p>
<h3><span class="koboSpan" id="kobo.236.1">Setting up your programming IDE</span></h3>
<p><span class="koboSpan" id="kobo.237.1">As you have been working with Unreal and C++ so far, your programming IDE should already be up to </span><a id="_idIndexMarker808"/><span class="koboSpan" id="kobo.238.1">date to compile the source files, but a double-check is mandatory, in order to have everything properly </span><span class="No-Break"><span class="koboSpan" id="kobo.239.1">set up:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.240.1">Open the Visual Studio installer on </span><span class="No-Break"><span class="koboSpan" id="kobo.241.1">your PC.</span></span></li>
<li><span class="koboSpan" id="kobo.242.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.243.1">Modify</span></strong><span class="koboSpan" id="kobo.244.1"> from your own Visual Studio installation, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.245.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.246.1">.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.247.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer234">
<span class="koboSpan" id="kobo.248.1"><img alt="Figure 14.4 – Visual Studio Installer" src="image/Figure_14_04_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.249.1">Figure 14.4 – Visual Studio Installer</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.250.1">Once the </span><strong class="bold"><span class="koboSpan" id="kobo.251.1">Modyfing</span></strong><span class="koboSpan" id="kobo.252.1"> window is open, select the </span><strong class="bold"><span class="koboSpan" id="kobo.253.1">Individual components</span></strong><span class="koboSpan" id="kobo.254.1"> tab, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.255.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.256.1">.5</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.257.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer235">
<span class="koboSpan" id="kobo.258.1"><img alt="Figure 14.5 – The Modifying window" src="image/Figure_14_05_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.259.1">Figure 14.5 – The Modifying window</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.260.1">From the </span><strong class="bold"><span class="koboSpan" id="kobo.261.1">Individual components</span></strong><span class="koboSpan" id="kobo.262.1"> tab, install the latest .NET Framework development </span><a id="_idIndexMarker809"/><span class="koboSpan" id="kobo.263.1">tools, the latest .NET Framework SDK and – not mandatory, but strongly recommended – all the previous versions of the .NET Framework SDK. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.264.1">Figure 14</span></em></span><em class="italic"><span class="koboSpan" id="kobo.265.1">.6</span></em><span class="koboSpan" id="kobo.266.1"> depicts my setup at the time of writing </span><span class="No-Break"><span class="koboSpan" id="kobo.267.1">this book:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer236">
<span class="koboSpan" id="kobo.268.1"><img alt="Figure 14.6 – The individual components setup" src="image/Figure_14_06_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.269.1">Figure 14.6 – The individual components setup</span></p>
<p><span class="koboSpan" id="kobo.270.1">Once the </span><a id="_idIndexMarker810"/><span class="koboSpan" id="kobo.271.1">installation is finished, you can safely close the Visual Studio installer and you’ll be ready to set up </span><span class="No-Break"><span class="koboSpan" id="kobo.272.1">the project.</span></span></p>
<h3><span class="koboSpan" id="kobo.273.1">Setting up the project</span></h3>
<p><span class="koboSpan" id="kobo.274.1">In this step, you’ll be downloading the needed dependency files in order to properly set up the project. </span><span class="koboSpan" id="kobo.274.2">This </span><a id="_idIndexMarker811"/><span class="koboSpan" id="kobo.275.1">process is pretty straightforward, but it may take some time, depending on your internet connection. </span><span class="koboSpan" id="kobo.275.2">Just open the source file project folder you cloned from GitHub, which should be named </span><strong class="bold"><span class="koboSpan" id="kobo.276.1">UnrealEngine</span></strong><span class="koboSpan" id="kobo.277.1">, and locate the </span><strong class="source-inline"><span class="koboSpan" id="kobo.278.1">Setup.bat</span></strong><span class="koboSpan" id="kobo.279.1"> file, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.280.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.281.1">.7</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.282.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer237">
<span class="koboSpan" id="kobo.283.1"><img alt="Figure 14.7 – The Setup.bat file" src="image/Figure_14_07_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.284.1">Figure 14.7 – The Setup.bat file</span></p>
<p><span class="koboSpan" id="kobo.285.1">Then right-click on this file and select </span><strong class="bold"><span class="koboSpan" id="kobo.286.1">Run as administrator</span></strong><span class="koboSpan" id="kobo.287.1">; this will open the command prompt and run the </span><span class="No-Break"><span class="koboSpan" id="kobo.288.1">needed commands.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.289.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.290.1">For a more advanced level of customization, you may want to pre-determine the target hardware and platform. </span><span class="koboSpan" id="kobo.290.2">For instance, you can run the </span><strong class="source-inline"><span class="koboSpan" id="kobo.291.1">Setup.bat</span></strong><span class="koboSpan" id="kobo.292.1"> command excluding unneeded platforms by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.293.1">-exclude</span></strong><span class="koboSpan" id="kobo.294.1"> option. </span><span class="koboSpan" id="kobo.294.2">As an extra benefit, fewer files will be downloaded and, by the end of the build process, you will get an engine with a smaller </span><span class="No-Break"><span class="koboSpan" id="kobo.295.1">file size.</span></span></p>
<p><span class="koboSpan" id="kobo.296.1">Once the process </span><a id="_idIndexMarker812"/><span class="koboSpan" id="kobo.297.1">has finished, you will have added the needed dependencies and will be ready for the </span><span class="No-Break"><span class="koboSpan" id="kobo.298.1">next step.</span></span></p>
<h3><span class="koboSpan" id="kobo.299.1">Generating the project files</span></h3>
<p><span class="koboSpan" id="kobo.300.1">Once you have properly set up your project, you are ready to generate the project files, in order to open </span><a id="_idIndexMarker813"/><span class="koboSpan" id="kobo.301.1">the project in Visual Studio. </span><span class="koboSpan" id="kobo.301.2">The process is almost identical to the previous one, but you will have to run another </span><strong class="source-inline"><span class="koboSpan" id="kobo.302.1">.bat</span></strong><span class="koboSpan" id="kobo.303.1"> file instead. </span><span class="koboSpan" id="kobo.303.2">In the sources project folder (i.e., the </span><strong class="source-inline"><span class="koboSpan" id="kobo.304.1">UnrealEngine</span></strong><span class="koboSpan" id="kobo.305.1"> folder), locate the </span><strong class="source-inline"><span class="koboSpan" id="kobo.306.1">GenerateProjectFiles.bat</span></strong><span class="koboSpan" id="kobo.307.1"> file, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.308.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.309.1">.8</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.310.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer238">
<span class="koboSpan" id="kobo.311.1"><img alt="Figure 14.8  – The GenerateProjectFiles.bat file" src="image/Figure_14_08_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.312.1">Figure 14.8  – The GenerateProjectFiles.bat file</span></p>
<p><span class="koboSpan" id="kobo.313.1">Again, right-click on the file and select </span><strong class="bold"><span class="koboSpan" id="kobo.314.1">Run as administrator</span></strong><span class="koboSpan" id="kobo.315.1">; this will open the command </span><a id="_idIndexMarker814"/><span class="koboSpan" id="kobo.316.1">prompt and run the needed commands. </span><span class="koboSpan" id="kobo.316.2">Once the process has finished, you will have generated a Visual Studio solution and you should see a </span><strong class="source-inline"><span class="koboSpan" id="kobo.317.1">UE.sln</span></strong><span class="koboSpan" id="kobo.318.1"> file added to your source files folder, as depicted in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.319.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.320.1">.9</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer239">
<span class="koboSpan" id="kobo.322.1"><img alt="Figure 14.9 – The .sln file" src="image/Figure_14_09_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.323.1">Figure 14.9 – The .sln file</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.324.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.325.1">If you require a greater degree of customization for the project generation command, I recommend referring to the official documentation, which provides an exhaustive list of all available command </span><span class="No-Break"><span class="koboSpan" id="kobo.326.1">options: </span></span><a href="https://docs.unrealengine.com/5.1/en-US/how-to-generate-unreal-engine-project-files-for-your-ide/"><span class="No-Break"><span class="koboSpan" id="kobo.327.1">https://docs.unrealengine.com/5.1/en-US/how-to-generate-unreal-engine-project-files-for-your-ide/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.328.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.329.1">You are now </span><a id="_idIndexMarker815"/><span class="koboSpan" id="kobo.330.1">ready to open Visual Studio and build </span><span class="No-Break"><span class="koboSpan" id="kobo.331.1">Unreal Engine.</span></span></p>
<h3><span class="koboSpan" id="kobo.332.1">Compiling the source files</span></h3>
<p><span class="koboSpan" id="kobo.333.1">We will now compile the source code in Visual Studio through the previously generated solution. </span><span class="koboSpan" id="kobo.333.2">To </span><a id="_idIndexMarker816"/><span class="koboSpan" id="kobo.334.1">open it, just double-click on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.335.1">UE.sln</span></strong><span class="koboSpan" id="kobo.336.1"> file and the software should </span><span class="No-Break"><span class="koboSpan" id="kobo.337.1">open up.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.338.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.339.1">If you have more than one Visual Studio version, you may need to open the right one in order to correctly compile the project. </span><span class="koboSpan" id="kobo.339.2">This will depend on your PC configuration and .NET </span><span class="No-Break"><span class="koboSpan" id="kobo.340.1">SDK installations.</span></span></p>
<p><span class="koboSpan" id="kobo.341.1">The first thing to do is to set the correct solution configuration. </span><span class="koboSpan" id="kobo.341.2">To do so, locate the </span><strong class="bold"><span class="koboSpan" id="kobo.342.1">Solution Configurations</span></strong><span class="koboSpan" id="kobo.343.1"> drop-down menu in the toolbar and set its value to </span><strong class="bold"><span class="koboSpan" id="kobo.344.1">Development Editor</span></strong><span class="koboSpan" id="kobo.345.1">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.346.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.347.1">.10</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.348.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer240">
<span class="koboSpan" id="kobo.349.1"><img alt="Figure 14.10 – The Solution Configurations drop-down menu" src="image/Figure_14_10_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.350.1">Figure 14.10 – The Solution Configurations drop-down menu</span></p>
<p><span class="koboSpan" id="kobo.351.1">Next, you need to check the solution platform you will be compiling for. </span><span class="koboSpan" id="kobo.351.2">In the Visual Studio toolbar, locate the </span><strong class="bold"><span class="koboSpan" id="kobo.352.1">Solution Platforms</span></strong><span class="koboSpan" id="kobo.353.1"> drop-down menu and double-check that the target platform is set to </span><strong class="bold"><span class="koboSpan" id="kobo.354.1">Win64</span></strong><span class="koboSpan" id="kobo.355.1">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.356.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.357.1">.11</span></em></span></p>
<div>
<div class="IMG---Figure" id="_idContainer241">
<span class="koboSpan" id="kobo.358.1"><img alt="Figure 14.11 – The Solution Platforms drop-down menu" src="image/Figure_14_11_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.359.1">Figure 14.11 – The Solution Platforms drop-down menu</span></p>
<p><span class="koboSpan" id="kobo.360.1">You are finally ready to start the build process. </span><span class="koboSpan" id="kobo.360.2">To do so, locate the </span><strong class="bold"><span class="koboSpan" id="kobo.361.1">Solution Explorer</span></strong><span class="koboSpan" id="kobo.362.1"> window and </span><a id="_idIndexMarker817"/><span class="koboSpan" id="kobo.363.1">expand the </span><strong class="source-inline"><span class="koboSpan" id="kobo.364.1">Engine</span></strong><span class="koboSpan" id="kobo.365.1"> folder content. </span><span class="koboSpan" id="kobo.365.2">Then right-click on </span><strong class="bold"><span class="koboSpan" id="kobo.366.1">UE5</span></strong><span class="koboSpan" id="kobo.367.1"> and select </span><strong class="bold"><span class="koboSpan" id="kobo.368.1">Build</span></strong><span class="koboSpan" id="kobo.369.1"> as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.370.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.371.1">.12</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.372.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer242">
<span class="koboSpan" id="kobo.373.1"><img alt="Figure 14.12 – The Build option" src="image/Figure_14_12_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.374.1">Figure 14.12 – The Build option</span></p>
<p><span class="koboSpan" id="kobo.375.1">The build process will require a lot of time to complete (which will further depend on the capabilities </span><a id="_idIndexMarker818"/><span class="koboSpan" id="kobo.376.1">of your computer), so you can relax and have a </span><span class="No-Break"><span class="koboSpan" id="kobo.377.1">coffee break.</span></span></p>
<p><span class="koboSpan" id="kobo.378.1">After completing the process, you’ll have something to celebrate! </span><span class="koboSpan" id="kobo.378.2">You’ve just created your very own, fresh-out-of-the-box executable for Unreal Engine. </span><span class="koboSpan" id="kobo.378.3">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.379.1">.exe</span></strong><span class="koboSpan" id="kobo.380.1"> file can be found in your source files project, in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.381.1">Engine</span></strong><span class="koboSpan" id="kobo.382.1"> | </span><strong class="source-inline"><span class="koboSpan" id="kobo.383.1">Binaries</span></strong><span class="koboSpan" id="kobo.384.1"> | </span><strong class="source-inline"><span class="koboSpan" id="kobo.385.1">Win 64</span></strong><span class="koboSpan" id="kobo.386.1"> folder. </span><span class="koboSpan" id="kobo.386.2">My own compiled binaries are shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.387.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.388.1">.13</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.389.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer243">
<span class="koboSpan" id="kobo.390.1"><img alt="Figure 14.13 – The Unreal Engine compiled executable" src="image/Figure_14_13_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.391.1">Figure 14.13 – The Unreal Engine compiled executable</span></p>
<p><span class="koboSpan" id="kobo.392.1">When you double-click on it, Unreal Engine will launch, and you’ll notice that things look pretty much the same as the regular Unreal Engine Editor. </span><span class="koboSpan" id="kobo.392.2">However, the difference is that, under the hood, you will have a more powerful engine with more features at </span><span class="No-Break"><span class="koboSpan" id="kobo.393.1">your disposal.</span></span></p>
<p><span class="koboSpan" id="kobo.394.1">In this section, you have accomplished the challenging task of compiling the Unreal Engine Editor </span><a id="_idIndexMarker819"/><span class="koboSpan" id="kobo.395.1">from its source code – that’s something to be really proud of! </span><span class="koboSpan" id="kobo.395.2">Now, get ready for an even more challenging task in the next section, where you’ll be creating a dedicated server for a </span><span class="No-Break"><span class="koboSpan" id="kobo.396.1">multiplayer game.</span></span></p>
<h1 id="_idParaDest-281"><a id="_idTextAnchor282"/><span class="koboSpan" id="kobo.397.1">Setting up a dedicated server</span></h1>
<p><span class="koboSpan" id="kobo.398.1">In this section, you’ll be compiling a multiplayer project as a dedicated server. </span><span class="koboSpan" id="kobo.398.2">To keep things simple, you’ll be</span><a id="_idIndexMarker820"/><span class="koboSpan" id="kobo.399.1"> working with a simple project generated from one of the official templates, but all the topics and techniques can be easily adapted to any other project, including the Unreal Shadows project you’ve been working on </span><span class="No-Break"><span class="koboSpan" id="kobo.400.1">so far.</span></span></p>
<p><span class="koboSpan" id="kobo.401.1">In order to proceed with the creation of a dedicated server, your project must meet the specified requirements </span><span class="No-Break"><span class="koboSpan" id="kobo.402.1">listed here:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.403.1">You must utilize </span><a id="_idIndexMarker821"/><span class="koboSpan" id="kobo.404.1">a source build of Unreal Engine – the one you compiled in the </span><span class="No-Break"><span class="koboSpan" id="kobo.405.1">previous section</span></span></li>
<li><span class="koboSpan" id="kobo.406.1">Your project must be created as a </span><span class="No-Break"><span class="koboSpan" id="kobo.407.1">C++ one</span></span></li>
<li><span class="koboSpan" id="kobo.408.1">The project needs to, obviously, support </span><span class="No-Break"><span class="koboSpan" id="kobo.409.1">client-server gameplay</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.410.1">Without any more delays, let’s get started by creating </span><span class="No-Break"><span class="koboSpan" id="kobo.411.1">the project.</span></span></p>
<h2 id="_idParaDest-282"><a id="_idTextAnchor283"/><span class="koboSpan" id="kobo.412.1">Creating the project</span></h2>
<p><span class="koboSpan" id="kobo.413.1">In this section, you’ll be creating a new project starting from an Unreal Engine template. </span><span class="koboSpan" id="kobo.413.2">To do this, the first </span><a id="_idIndexMarker822"/><span class="koboSpan" id="kobo.414.1">thing you will need to do is to open your own compiled Unreal Engine Editor. </span><span class="koboSpan" id="kobo.414.2">So, locate the executable, which can be found in your GitHub downloaded directory using the </span><span class="No-Break"><span class="koboSpan" id="kobo.415.1">following path:</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.416.1">[Your Project Folder]</span></strong><span class="koboSpan" id="kobo.417.1"> | </span><strong class="source-inline"><span class="koboSpan" id="kobo.418.1">Engine</span></strong><span class="koboSpan" id="kobo.419.1"> | </span><strong class="source-inline"><span class="koboSpan" id="kobo.420.1">Binaries</span></strong><span class="koboSpan" id="kobo.421.1"> | </span><strong class="source-inline"><span class="koboSpan" id="kobo.422.1">Win64</span></strong><span class="koboSpan" id="kobo.423.1"> | </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.424.1">UnrealEngine.exe</span></strong></span></p>
<p><span class="koboSpan" id="kobo.425.1">Double-click on the file to launch the Unreal Engine Editor and, once it has started, create a new project with the </span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">following settings:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.427.1">Template</span></strong><span class="koboSpan" id="kobo.428.1">: </span><strong class="bold"><span class="koboSpan" id="kobo.429.1">Games</span></strong><span class="koboSpan" id="kobo.430.1"> | </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.431.1">Third Person</span></strong></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.432.1">Project </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.433.1">Name</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.434.1">: </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.435.1">TP_Multiplayer</span></strong></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.436.1">Project Type</span></strong><span class="koboSpan" id="kobo.437.1">: </span><strong class="bold"><span class="koboSpan" id="kobo.438.1">C++</span></strong><span class="koboSpan" id="kobo.439.1"> (if you opt for a </span><strong class="bold"><span class="koboSpan" id="kobo.440.1">Blueprint</span></strong><span class="koboSpan" id="kobo.441.1"> project, just remember that, later on, you will have to convert it to a C++ one when you need to compile the dedicated server; this will be a really easy task, as you will just need to add a C++ class to </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">the project)</span></span></li>
<li><span class="koboSpan" id="kobo.443.1">Leave </span><strong class="bold"><span class="koboSpan" id="kobo.444.1">Starter </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.445.1">Content</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.446.1"> unchecked</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.447.1">My setup for this project is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.448.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.449.1">.14</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.450.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer244">
<span class="koboSpan" id="kobo.451.1"><img alt="Figure 14.14 – The project setup" src="image/Figure_14_14_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.452.1">Figure 14.14 – The project setup</span></p>
<p><span class="koboSpan" id="kobo.453.1">Once the project </span><a id="_idIndexMarker823"/><span class="koboSpan" id="kobo.454.1">has been created, you are ready to set up and build the </span><span class="No-Break"><span class="koboSpan" id="kobo.455.1">project solution.</span></span></p>
<h2 id="_idParaDest-283"><a id="_idTextAnchor284"/><span class="koboSpan" id="kobo.456.1">Building the project solution</span></h2>
<p><span class="koboSpan" id="kobo.457.1">Now that you </span><a id="_idIndexMarker824"/><span class="koboSpan" id="kobo.458.1">have created the project, locate the </span><strong class="source-inline"><span class="koboSpan" id="kobo.459.1">Source</span></strong><span class="koboSpan" id="kobo.460.1"> folder inside your project. </span><span class="koboSpan" id="kobo.460.2">Here, you will find two files named </span><strong class="source-inline"><span class="koboSpan" id="kobo.461.1">TP_Multiplayer.Target.cs</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.462.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.463.1">TP_MultiplayerEditor.Target.cs</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.465.1">Target files are written in C# language and their purpose is to define how the Unreal Engine build tool will compile the target builds. </span><span class="koboSpan" id="kobo.465.2">In this case, the first one will be used when packaging a regular executable and the second one will be used for the Unreal </span><span class="No-Break"><span class="koboSpan" id="kobo.466.1">Engine Editor.</span></span></p>
<p><span class="koboSpan" id="kobo.467.1">We need to define a third one that will be used to package the server version of the application. </span><span class="koboSpan" id="kobo.467.2">In order to do this, in the same folder as the other two </span><strong class="source-inline"><span class="koboSpan" id="kobo.468.1">.Target.cs</span></strong><span class="koboSpan" id="kobo.469.1"> files, create a third target file and name </span><span class="No-Break"><span class="koboSpan" id="kobo.470.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.471.1">TP_MultiplayerServer.Target.cs</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.472.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.473.1">Once the file has been created, open it with your text editor of choice and insert the </span><span class="No-Break"><span class="koboSpan" id="kobo.474.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.475.1">
using UnrealBuildTool;
using System.Collections.Generic;
public class TP_MultiplayerServerTarget : TargetRules
{
  public TP_MultiplayerServerTarget(TargetInfo Target) : base(Target)
  {
    Type = TargetType.Server;
    DefaultBuildSettings = BuildSettingsVersion.V2;
    ExtraModuleNames.AddRange( new string[] { "TP_Multiplayer" } );
  }
}</span></pre>
<p><span class="koboSpan" id="kobo.476.1">If you are not familiar with C# syntax, don’t worry! </span><span class="koboSpan" id="kobo.476.2">There’s not much to understand here – we are just defining </span><a id="_idIndexMarker825"/><span class="koboSpan" id="kobo.477.1">a class named </span><strong class="source-inline"><span class="koboSpan" id="kobo.478.1">TP_MultiplayerServerTarget</span></strong><span class="koboSpan" id="kobo.479.1"> and, in the constructor, we are defining some build settings. </span><span class="koboSpan" id="kobo.479.2">The only thing to notice is that we have defined the built target type as </span><strong class="source-inline"><span class="koboSpan" id="kobo.480.1">Server</span></strong><span class="koboSpan" id="kobo.481.1"> as we need to create a dedicated </span><span class="No-Break"><span class="koboSpan" id="kobo.482.1">server build.</span></span></p>
<p><span class="koboSpan" id="kobo.483.1">Get back to the root folder of your project and locate the Unreal Engine project file, which should be called </span><strong class="source-inline"><span class="koboSpan" id="kobo.484.1">TP_Multiplayer.uproject</span></strong><span class="koboSpan" id="kobo.485.1">. </span><span class="koboSpan" id="kobo.485.2">Right-click on it and, from the drop-down options, select </span><strong class="bold"><span class="koboSpan" id="kobo.486.1">Generate Visual Studio project files</span></strong><span class="koboSpan" id="kobo.487.1">, as depicted in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.488.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.489.1">.15</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.490.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer245">
<span class="koboSpan" id="kobo.491.1"><img alt="Figure 14.15 – The project file generation option" src="image/Figure_14_15_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.492.1">Figure 14.15 – The project file generation option</span></p>
<p><span class="koboSpan" id="kobo.493.1">Once the generation process has finished, your project will be set to also compile a server build – something you will need to create your </span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">dedicated server.</span></span></p>
<p><span class="koboSpan" id="kobo.495.1">You can now open </span><a id="_idIndexMarker826"/><span class="koboSpan" id="kobo.496.1">Visual Studio by double-clicking on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.497.1">TP_Multiplayer.sln</span></strong><span class="koboSpan" id="kobo.498.1"> solution file, in order to create the needed builds. </span><span class="koboSpan" id="kobo.498.2">Once your programming IDE is opened, create your build by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.499.1">Solution Configurations</span></strong><span class="koboSpan" id="kobo.500.1"> drop-down menu in the main toolbar and selecting </span><strong class="bold"><span class="koboSpan" id="kobo.501.1">Development Server</span></strong><span class="koboSpan" id="kobo.502.1">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.503.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.504.1">.16</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.505.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer246">
<span class="koboSpan" id="kobo.506.1"><img alt="Figure 14.16 – The solution configuration set as Development Server" src="image/Figure_14_16_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.507.1">Figure 14.16 – The solution configuration set as Development Server</span></p>
<p><span class="koboSpan" id="kobo.508.1">You can now build the project by right-clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.509.1">TP_Multiplayer</span></strong><span class="koboSpan" id="kobo.510.1"> item in the </span><strong class="bold"><span class="koboSpan" id="kobo.511.1">Solution Explorer</span></strong><span class="koboSpan" id="kobo.512.1"> window and </span><span class="No-Break"><span class="koboSpan" id="kobo.513.1">selecting </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.514.1">Build</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.516.1">Once the process has finished, you will have successfully built the development server, which will allow the Unreal build tool to recognize the server </span><span class="No-Break"><span class="koboSpan" id="kobo.517.1">build target.</span></span></p>
<p><span class="koboSpan" id="kobo.518.1">Before getting back to the Unreal Engine Editor, you will have to also build the Development Editor </span><a id="_idIndexMarker827"/><span class="koboSpan" id="kobo.519.1">configuration, so repeat the previous steps with the Editor configuration by taking the following steps. </span><span class="koboSpan" id="kobo.519.2">In the main toolbar, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.520.1">Solution Configurations</span></strong><span class="koboSpan" id="kobo.521.1"> drop-down menu and select </span><strong class="bold"><span class="koboSpan" id="kobo.522.1">Development Editor</span></strong><span class="koboSpan" id="kobo.523.1">. </span><span class="koboSpan" id="kobo.523.2">Then build the project by right-clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.524.1">TP_Multiplayer</span></strong><span class="koboSpan" id="kobo.525.1"> item in the </span><strong class="bold"><span class="koboSpan" id="kobo.526.1">Solution Explorer</span></strong><span class="koboSpan" id="kobo.527.1"> window and </span><span class="No-Break"><span class="koboSpan" id="kobo.528.1">selecting </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.529.1">Build</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.530.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.531.1">Once the build process has finished, you can safely close Visual Studio and get back to Unreal Engine to build the </span><span class="No-Break"><span class="koboSpan" id="kobo.532.1">dedicated server.</span></span></p>
<h2 id="_idParaDest-284"><a id="_idTextAnchor285"/><span class="koboSpan" id="kobo.533.1">Building the dedicated server</span></h2>
<p><span class="koboSpan" id="kobo.534.1">In this subsection, you’ll be building a dedicated server executable for your project from the Unreal </span><a id="_idIndexMarker828"/><span class="koboSpan" id="kobo.535.1">Engine Editor. </span><span class="koboSpan" id="kobo.535.2">The first thing you will need to do is to create a new map that will serve as an entry point for </span><span class="No-Break"><span class="koboSpan" id="kobo.536.1">the server:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.537.1">From the main menu, select </span><strong class="bold"><span class="koboSpan" id="kobo.538.1">File</span></strong><span class="koboSpan" id="kobo.539.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.540.1">New Level</span></strong><span class="koboSpan" id="kobo.541.1"> and create a new </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.542.1">Basic</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.543.1"> level.</span></span></li>
<li><span class="koboSpan" id="kobo.544.1">In the Content Browser, create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1">Maps</span></strong><span class="koboSpan" id="kobo.546.1"> folder and save the level in it, calling </span><span class="No-Break"><span class="koboSpan" id="kobo.547.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.548.1">Map_0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.549.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.550.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.551.1">World Setting</span></strong><span class="koboSpan" id="kobo.552.1"> window of the level, set </span><strong class="bold"><span class="koboSpan" id="kobo.553.1">Game Mode Override</span></strong><span class="koboSpan" id="kobo.554.1"> to </span><strong class="bold"><span class="koboSpan" id="kobo.555.1">Game Mode Base</span></strong><span class="koboSpan" id="kobo.556.1">; this will avoid opening this level with the default Third Person </span><span class="No-Break"><span class="koboSpan" id="kobo.557.1">Game Mode.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.558.1">This map will be used by the client as an entry point when connecting to the server. </span><span class="koboSpan" id="kobo.558.2">The next step is to update some project settings before starting the server </span><span class="No-Break"><span class="koboSpan" id="kobo.559.1">packaging phase.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.560.1">Let’s start by selecting </span><strong class="bold"><span class="koboSpan" id="kobo.561.1">Edit</span></strong><span class="koboSpan" id="kobo.562.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.563.1">Project Settings</span></strong><span class="koboSpan" id="kobo.564.1"> from the main menu. </span><span class="koboSpan" id="kobo.564.2">Then select the </span><strong class="bold"><span class="koboSpan" id="kobo.565.1">Maps &amp; </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.566.1">Modes</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.567.1"> section.</span></span></li>
<li><span class="koboSpan" id="kobo.568.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.569.1">Default Modes</span></strong><span class="koboSpan" id="kobo.570.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.571.1">Selected GameMode</span></strong><span class="koboSpan" id="kobo.572.1"> category, expand the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.573.1">Advanced</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.574.1"> section.</span></span></li>
<li><span class="koboSpan" id="kobo.575.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.576.1">Global Default Server Game Mode</span></strong><span class="koboSpan" id="kobo.577.1"> drop-down value to </span><strong class="bold"><span class="koboSpan" id="kobo.578.1">BP_ThirdPersonGameMode</span></strong><span class="koboSpan" id="kobo.579.1">, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.580.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.581.1">.17</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.582.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer247">
<span class="koboSpan" id="kobo.583.1"><img alt="Figure 14.17 – Global Default Server Game Mode" src="image/Figure_14_17_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.584.1">Figure 14.17 – Global Default Server Game Mode</span></p>
<p><span class="koboSpan" id="kobo.585.1">The aforementioned setup will define the Game Mode that will be used by clients when connected to </span><span class="No-Break"><span class="koboSpan" id="kobo.586.1">the server.</span></span></p>
<p><span class="koboSpan" id="kobo.587.1">We are now </span><a id="_idIndexMarker829"/><span class="koboSpan" id="kobo.588.1">going to define the game and server maps, in order to set the entry point that will be used when the clients connect. </span><span class="koboSpan" id="kobo.588.2">Locate the </span><strong class="bold"><span class="koboSpan" id="kobo.589.1">Default Maps</span></strong><span class="koboSpan" id="kobo.590.1"> category and do </span><span class="No-Break"><span class="koboSpan" id="kobo.591.1">the following:</span></span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.592.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.593.1">Game Default Map</span></strong><span class="koboSpan" id="kobo.594.1"> drop-down menu, </span><span class="No-Break"><span class="koboSpan" id="kobo.595.1">select </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.596.1">Map_0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.597.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.598.1">Expand the </span><strong class="bold"><span class="koboSpan" id="kobo.599.1">Advanced</span></strong><span class="koboSpan" id="kobo.600.1"> section and, in the </span><strong class="bold"><span class="koboSpan" id="kobo.601.1">Server Default Map</span></strong><span class="koboSpan" id="kobo.602.1"> drop-down menu, </span><span class="No-Break"><span class="koboSpan" id="kobo.603.1">select </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.604.1">ThirdPersonMap</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.605.1">.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.606.1">The final result for the </span><strong class="bold"><span class="koboSpan" id="kobo.607.1">Default Maps</span></strong><span class="koboSpan" id="kobo.608.1"> category is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.609.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.610.1">.18</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.611.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer248">
<span class="koboSpan" id="kobo.612.1"><img alt="Figure 14.18 – The Default Maps category" src="image/Figure_14_18_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.613.1">Figure 14.18 – The Default Maps category</span></p>
<p><span class="koboSpan" id="kobo.614.1">We are done with the </span><strong class="bold"><span class="koboSpan" id="kobo.615.1">Maps &amp; Modes</span></strong><span class="koboSpan" id="kobo.616.1"> settings. </span><span class="koboSpan" id="kobo.616.2">You will now need to define the packaging settings for </span><span class="No-Break"><span class="koboSpan" id="kobo.617.1">your project:</span></span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.618.1">In </span><strong class="bold"><span class="koboSpan" id="kobo.619.1">Project Settings</span></strong><span class="koboSpan" id="kobo.620.1">, expand the </span><strong class="bold"><span class="koboSpan" id="kobo.621.1">Packaging</span></strong><span class="koboSpan" id="kobo.622.1"> | </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.623.1">Advanced</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.624.1"> section.</span></span></li>
<li><span class="koboSpan" id="kobo.625.1">Locate the </span><strong class="bold"><span class="koboSpan" id="kobo.626.1">List of maps to include in the packaged build</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.627.1">array field.</span></span></li>
<li><span class="koboSpan" id="kobo.628.1">Use the </span><strong class="bold"><span class="koboSpan" id="kobo.629.1">+</span></strong><span class="koboSpan" id="kobo.630.1"> button </span><a id="_idIndexMarker830"/><span class="koboSpan" id="kobo.631.1">to add the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.632.1">Map_0.umap</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.633.1"> level.</span></span></li>
<li><span class="koboSpan" id="kobo.634.1">Use the </span><strong class="bold"><span class="koboSpan" id="kobo.635.1">+</span></strong><span class="koboSpan" id="kobo.636.1"> button again to add the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.637.1">ThirdPersonMap.umap</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.638.1"> level.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.639.1">You should now have a setup pretty similar to the one shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.640.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.641.1">.19</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer249">
<span class="koboSpan" id="kobo.643.1"><img alt="Figure 14.19 – The list of maps to be packaged in the build" src="image/Figure_14_19_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.644.1">Figure 14.19 – The list of maps to be packaged in the build</span></p>
<ol>
<li value="13"><span class="koboSpan" id="kobo.645.1">As an additional step, double-check that in the </span><strong class="bold"><span class="koboSpan" id="kobo.646.1">Project</span></strong><span class="koboSpan" id="kobo.647.1"> category, the </span><strong class="bold"><span class="koboSpan" id="kobo.648.1">Build</span></strong><span class="koboSpan" id="kobo.649.1"> configuration is set to </span><strong class="bold"><span class="koboSpan" id="kobo.650.1">Development</span></strong><span class="koboSpan" id="kobo.651.1">; this will allow us to connect to the server through the command line later on in </span><span class="No-Break"><span class="koboSpan" id="kobo.652.1">this chapter.</span></span></li>
<li><span class="koboSpan" id="kobo.653.1">Close the </span><strong class="bold"><span class="koboSpan" id="kobo.654.1">Project Settings</span></strong><span class="koboSpan" id="kobo.655.1"> window and in the Unreal Engine main toolbar, click the </span><strong class="bold"><span class="koboSpan" id="kobo.656.1">Platforms</span></strong><span class="koboSpan" id="kobo.657.1"> button and select </span><strong class="bold"><span class="koboSpan" id="kobo.658.1">Windows</span></strong><span class="koboSpan" id="kobo.659.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.660.1">TP_MultiplayerServer</span></strong><span class="koboSpan" id="kobo.661.1"> to set the build target, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.662.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.663.1">.20</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.664.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer250">
<span class="koboSpan" id="kobo.665.1"><img alt="Figure 14.20 – Building the server" src="image/Figure_14_20_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.666.1">Figure 14.20 – Building the server</span></p>
<ol>
<li value="15"><span class="koboSpan" id="kobo.667.1">Next, click </span><strong class="bold"><span class="koboSpan" id="kobo.668.1">Windows</span></strong><span class="koboSpan" id="kobo.669.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.670.1">Package Content</span></strong><span class="koboSpan" id="kobo.671.1"> to start packaging the application and, once the build has </span><a id="_idIndexMarker831"/><span class="koboSpan" id="kobo.672.1">finished, you will have in your hands a dedicated </span><span class="No-Break"><span class="koboSpan" id="kobo.673.1">server executable!</span></span></li>
<li><span class="koboSpan" id="kobo.674.1">To get a client executable, you will have to repeat the same steps as above, using a different build target. </span><span class="koboSpan" id="kobo.674.2">To do so, in the Unreal Engine main toolbar, click the </span><strong class="bold"><span class="koboSpan" id="kobo.675.1">Platforms</span></strong><span class="koboSpan" id="kobo.676.1"> button and select </span><strong class="bold"><span class="koboSpan" id="kobo.677.1">Windows</span></strong><span class="koboSpan" id="kobo.678.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.679.1">TP_Multiplayer</span></strong><span class="koboSpan" id="kobo.680.1"> to set the build target, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.681.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.682.1">.21</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.683.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer251">
<span class="koboSpan" id="kobo.684.1"><img alt=" Figure 14.21 – Building the client" src="image/Figure_14_21_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.685.1"> Figure 14.21 – Building the client</span></p>
<p><span class="koboSpan" id="kobo.686.1">Then, click </span><strong class="bold"><span class="koboSpan" id="kobo.687.1">Windows</span></strong><span class="koboSpan" id="kobo.688.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.689.1">Package Content</span></strong><span class="koboSpan" id="kobo.690.1"> to start packaging the client build. </span><span class="koboSpan" id="kobo.690.2">Once it has finished, you will </span><a id="_idIndexMarker832"/><span class="koboSpan" id="kobo.691.1">also have the client executable, and you will be ready to test </span><span class="No-Break"><span class="koboSpan" id="kobo.692.1">the application.</span></span></p>
<h2 id="_idParaDest-285"><a id="_idTextAnchor286"/><span class="koboSpan" id="kobo.693.1">Testing the project</span></h2>
<p><span class="koboSpan" id="kobo.694.1">Now that both </span><a id="_idIndexMarker833"/><span class="koboSpan" id="kobo.695.1">the dedicated server and the client have been successfully built, it’s time to test </span><span class="No-Break"><span class="koboSpan" id="kobo.696.1">their functionalities.</span></span></p>
<p><span class="koboSpan" id="kobo.697.1">To start your server locally, all you have to do is double-click on the build executable you created in the </span><span class="No-Break"><span class="koboSpan" id="kobo.698.1">previous steps.</span></span></p>
<p><span class="koboSpan" id="kobo.699.1">Alternatively, if you are interested in checking the server log, you can take the </span><span class="No-Break"><span class="koboSpan" id="kobo.700.1">following steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.701.1">Open the Windows </span><span class="No-Break"><span class="koboSpan" id="kobo.702.1">Command Prompt.</span></span></li>
<li><span class="koboSpan" id="kobo.703.1">Through the </span><strong class="source-inline"><span class="koboSpan" id="kobo.704.1">cd</span></strong><span class="koboSpan" id="kobo.705.1"> command, navigate to the folder that contains the </span><span class="No-Break"><span class="koboSpan" id="kobo.706.1">server executable.</span></span></li>
<li><span class="koboSpan" id="kobo.707.1">Insert the name of your server executable, followed by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.708.1">–log</span></strong><span class="koboSpan" id="kobo.709.1"> parameter, </span><span class="No-Break"><span class="koboSpan" id="kobo.710.1">for instance:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.711.1">
TP_MultiplayerServer.exe -log</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.712.1">Once the server has started, it will start listening for connection requests </span><span class="No-Break"><span class="koboSpan" id="kobo.713.1">from clients.</span></span></p>
<p><span class="koboSpan" id="kobo.714.1">As we have used an out-of-the-box, base template and we did not implement any session logic, we will be connecting the clients from the Unreal Engine command line. </span><span class="koboSpan" id="kobo.714.2">This is something you obviously won’t use in a final release but that is really handy at </span><span class="No-Break"><span class="koboSpan" id="kobo.715.1">development time.</span></span></p>
<p><span class="koboSpan" id="kobo.716.1">The command line is available in the client executable because we compiled the project as a development build in the </span><span class="No-Break"><span class="koboSpan" id="kobo.717.1">previous steps.</span></span></p>
<p><span class="koboSpan" id="kobo.718.1">To start the client </span><a id="_idIndexMarker834"/><span class="koboSpan" id="kobo.719.1">application, all you have to do is to double-click on the executable, which should be named </span><strong class="source-inline"><span class="koboSpan" id="kobo.720.1">TP_Multiplayer.exe</span></strong><span class="koboSpan" id="kobo.721.1">. </span><span class="koboSpan" id="kobo.721.2">This will open the executable with the default starting map (</span><span class="No-Break"><span class="koboSpan" id="kobo.722.1">i.e., </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.723.1">Map_0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.724.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.725.1">As stated before, to connect to the server, we will be using the console command, which can be opened by default with the ’ character (i.e., backtick). </span><span class="koboSpan" id="kobo.725.2">Once the console is open, enter the </span><span class="No-Break"><span class="koboSpan" id="kobo.726.1">following command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.727.1">
open 127.0.0.1</span></pre>
<p><span class="koboSpan" id="kobo.728.1">The client application with the console command open is shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.729.1">Figure 14</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.730.1">.22</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.731.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer252">
<span class="koboSpan" id="kobo.732.1"><img alt="Figure 14.22 – The client application with the console command open" src="image/Figure_14_22_B18203.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.733.1">Figure 14.22 – The client application with the console command open</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.734.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.735.1">If you are using a keyboard that does not support the backtick character (like mine), you can easily change the keyboard shortcut by opening </span><strong class="bold"><span class="koboSpan" id="kobo.736.1">Editor Preferences</span></strong><span class="koboSpan" id="kobo.737.1"> and looking for the </span><strong class="bold"><span class="koboSpan" id="kobo.738.1">Open Console Command </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.739.1">Box</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.740.1"> field.</span></span></p>
<p><span class="koboSpan" id="kobo.741.1">The client should now </span><a id="_idIndexMarker835"/><span class="koboSpan" id="kobo.742.1">open the regular Third Person map and your client will be connected to the dedicated server. </span><span class="koboSpan" id="kobo.742.2">To double-check this, if you started the server with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.743.1">–log</span></strong><span class="koboSpan" id="kobo.744.1"> option enabled, you should see a log message similar to </span><span class="No-Break"><span class="koboSpan" id="kobo.745.1">this one:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.746.1">
LogNet: Join Succeeded: [Client Identifier]</span></pre>
<p><span class="koboSpan" id="kobo.747.1">And that’s it – you have finally succeeded in creating your own dedicated server and connecting your clients to </span><span class="No-Break"><span class="koboSpan" id="kobo.748.1">a LAN!</span></span></p>
<p><span class="koboSpan" id="kobo.749.1">If you want an extra challenge, you can give compiling the Unreal Shadows project with a dedicated server a try. </span><span class="koboSpan" id="kobo.749.2">You already have some knowledge in this area, so it shouldn’t take too </span><span class="No-Break"><span class="koboSpan" id="kobo.750.1">much effort.</span></span></p>
<p><span class="koboSpan" id="kobo.751.1">Additionally, if you </span><a id="_idIndexMarker836"/><span class="koboSpan" id="kobo.752.1">want to go deeper into this topic, Epic Games has provided a full tutorial on how to compile Lyra Starter Game (</span><a href="https://docs.unrealengine.com/5.1/en-US/lyra-sample-game-in-unreal-engine/"><span class="koboSpan" id="kobo.753.1">https://docs.unrealengine.com/5.1/en-US/lyra-sample-game-in-unreal-engine/</span></a><span class="koboSpan" id="kobo.754.1">), a real-world project including many of the topics covered in this book. </span><span class="koboSpan" id="kobo.754.2">The link to the tutorial </span><span class="No-Break"><span class="koboSpan" id="kobo.755.1">is </span></span><a href="https://docs.unrealengine.com/5.1/en-US/setting-up-dedicated-servers-in-unreal-engine/"><span class="No-Break"><span class="koboSpan" id="kobo.756.1">https://docs.unrealengine.com/5.1/en-US/setting-up-dedicated-servers-in-unreal-engine/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.757.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.758.1">Anything is possible with a little bit of </span><span class="No-Break"><span class="koboSpan" id="kobo.759.1">hard work!</span></span></p>
<h1 id="_idParaDest-286"><a id="_idTextAnchor287"/><span class="koboSpan" id="kobo.760.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.761.1">In this chapter, you have faced the frightening task of downloading the Unreal Engine Editor source code from GitHub and compiling it into an </span><span class="No-Break"><span class="koboSpan" id="kobo.762.1">executable application.</span></span></p>
<p><span class="koboSpan" id="kobo.763.1">If you plan to make a living as a multiplayer developer, building Unreal Engine source code is a mandatory skill whenever you want to set up a dedicated server for your game or need to customize the engine’s networking and </span><span class="No-Break"><span class="koboSpan" id="kobo.764.1">multiplayer settings.</span></span></p>
<p><span class="koboSpan" id="kobo.765.1">As you have discovered, building and packaging a dedicated server is not an easy task and requires a lot of time and patience – and sometimes a bit </span><span class="No-Break"><span class="koboSpan" id="kobo.766.1">of luck!</span></span></p>
<p><span class="koboSpan" id="kobo.767.1">In the next – and final – chapter, you will learn how to take a step further in multiplayer game development by using online cloud services, specifically Epic </span><span class="No-Break"><span class="koboSpan" id="kobo.768.1">Online Services.</span></span></p>
</div>
</body></html>