# 第一章. 数学与物理基础

在本章中，我们将讨论和评估基本的 3D 物理和数学概念，以获得对 Unreal Engine 4 物理和现实世界物理的基本理解。首先，我们将讨论测量单位，它们是什么，以及它们如何在 Unreal Engine 4 中使用。此外，我们还将涵盖以下主题：

+   科学记数法

+   2D 和 3D 坐标系

+   标量与向量

+   牛顿定律或牛顿物理概念

+   力和能量

为了本章的目的，我们将打开 Unreal Engine 4 并按照以下步骤创建一个使用**第一人称**模板的简单项目。

# 启动 Unreal Engine 4

当我们首次打开 Unreal Engine 4 时，我们将看到 Unreal Engine 启动器，其中包含**新闻**选项卡、**学习**选项卡、**市场**选项卡和**库**选项卡。正如第一个标题所暗示的，**新闻**选项卡为您提供来自 Epic Games 的最新新闻，包括市场内容发布、Unreal Dev Grant 获奖者、Twitch 直播回顾等。**学习**选项卡为您提供大量资源，以了解更多关于 Unreal Engine 4 的信息，例如书面文档、视频教程、社区维基、示例游戏项目以及社区贡献。**市场**选项卡允许您从社区维基和 Epic Games 购买内容，例如特效、武器包、蓝图脚本、环境资产等。最后，**库**选项卡是您可以下载 Unreal Engine 4 最新版本、打开以前创建的项目以及管理项目文件的地方。

让我们从启动 Unreal Engine 启动器并从**库**选项卡中选择**启动**开始，如图所示：

![启动 Unreal Engine 4](img/image00169.jpeg)

为了保持一致性，我们将使用编辑器的最新版本。在撰写本书时，版本号为 4.7.6。接下来，我们将选择窗口顶部的**新建项目**选项卡，选择带有**入门内容**的**第一人称**项目模板，并将项目命名为`Unreal_PhyProject`：

![启动 Unreal Engine 4](img/image00170.jpeg)

现在我们已经打开了游戏引擎，我们可以继续我们的课程。

# 测量单位

在开始本节之前，我们首先定义测量以及在不实引擎 4 的上下文中我们将测量什么。在一般意义上，测量的定义是确定某物的大小、长度或数量（如距离），物体的长度/宽度/高度，或特定空间的体积。在 Unreal Engine 4 的上下文中，我们将测量 3D 空间中每个 3D 向量的长度以及*X*、*Y*和*Z*维度。对于 2D 游戏世界，我们将测量*X*和*Y*轴。在现实世界中，我们可以使用美国标准和欧洲标准单位来测量距离。

在美国，我们可以使用涉及使用**英寸**（**in**）、**英尺**（**ft**）、**码**（**yd**）和英里（**Mile**）的长度标准，而在欧洲，有长度标准，包括**毫米**（**mm**）、**厘米**（**cm**）、**米**（**m**）和**千米**（**km**）。为了我们的方便和参考，这里有一套美国和欧洲测量单位之间的转换图表。更多转换，请参考这个免费的转换网站[`converter.eu/length/`](http://converter.eu/length/)。

下表显示了美国的转换：

| 1 ft | 12 in |
| --- | --- |
| 1 in | 0.0833333 ft |
| 1 yd | 3 ft |
| 1 yd | 36 in |
| 1 Mile | 1,760 yd |
| 1 Mile | 5,280 ft |
| 1 Mile | 63359.999 in |

下表显示了欧洲的转换：

| 1 mm | 0.1 cm |
| --- | --- |
| 1 cm | 10 mm |
| 1 cm | 0.0099999 m |
| 1 m | 100 cm |
| 1 m | 1000 mm |
| 1 mm | 0.000999999 m |
| 1 km | 1000000 mm |
| 1 km | 100000 cm |
| 1 km | 1000 m |

下表显示了美国到欧洲的转换：

| 1 in | 25.4 mm |
| --- | --- |
| 1 in | 2.54 cm |
| 1 in | 0.0254 m |
| 1 in | 0.0000254 km |
| 1 ft | 304.8 mm |
| 1 ft | 30.48 cm |
| 1 ft | 0.3048 m |
| 1 ft | 0.0003048 km |
| 1 yd | 914.4 mm |
| 1 yd | 91.44 cm |
| 1 yd | 0.9144 m |
| 1 yd | 0.0009144 km |
| 1 Mile | 1609344 mm |
| 1 Mile | 160934.4 cm |
| 1 Mile | 1609.3439999999998 m |
| 1 Mile | 1.609344 km |

现在我们已经对现实世界的测量单位有了深入的理解，我们现在可以讨论如何使用虚幻引擎 4 使用这些测量单位来确定物体的距离和大小。

# 什么是虚幻单位？

在 UDK 或虚幻引擎 3 的时代，测量单位是基于所谓的**虚幻单位**（**uu**），其中 1 uu 等于 0.75 英寸，或 16 个单位等于 1 英尺。在虚幻引擎 4 中，测量单位已经改变，默认情况下 1 uu 等于 1 厘米，但引擎允许你在其**世界**设置中更改虚幻单位和米之间的转换比率，如下面的截图所示：

![什么是虚幻单位？](img/image00171.jpeg)

在此属性中`100.0`的值将虚幻单位等同于 1 厘米。例如，通过将**世界到米**属性更改为 1（如之前所示），它将 1 uu 等同于 1 m，而值为 1,000 将导致 1 uu 等于 1 mm。为了本项目的目的，我们将保留默认值 100，以便虚幻单位等于 1 厘米，但为了将来参考，这是您想要更改此转换比率的**世界**设置属性。

# 虚幻引擎 4 中的常见测量单位

当你在任何游戏引擎上工作时，了解你游戏世界中使用的常见度量是非常重要和有用的。每个游戏都是不同的，游戏世界的缩放比例将根据开发者是否追求现实缩放度量而有所不同，但为了本书的目的，以下度量将适用于追求现实的游戏世界。记住，默认情况下，1 uu 在虚幻引擎 4 中等于 1 厘米，以下是一些你可以实现在你游戏世界中的常见度量。另外，需要注意的是，以下所有尺寸都是在假设你的玩家角色大约 6 英尺高或 180 uu 的情况下设定的。

玩家角色的尺寸为 180(uu)H、60(uu)W、60(uu)D。这些是大约 6 英尺高的大角色的尺寸，因此你可能需要根据你角色的身高相应地调整这些值。

![虚幻引擎 4 中的常见度量](img/image00172.jpeg)

墙高为 300(uu)H 至 400(uu)H。400 uu 的值将产生稍高的墙，而 300 uu 的值将导致稍矮的墙，但任何介于 300 uu 和 400 uu 之间的值都可以正常工作。

![虚幻引擎 4 中的常见度量](img/image00173.jpeg)

墙的深度（厚度）为 10(uu)D 至 20(uu)D。墙厚度的值很大程度上取决于墙的材料。例如，砖墙会比抹灰墙厚。

门窗的尺寸为 210(uu)H – 230(uu)H / 110(uu)W – 140(uu)W。门和门道的深度（厚度）取决于墙厚度的值。

![虚幻引擎 4 中的常见度量](img/image00174.jpeg)

楼梯

+   步高为 15(uu)H

+   步长/深度为 30(uu)D

楼梯的宽度值将取决于楼梯放置的区域，因此宽度的尺寸测量将会有所变化。以下图像的步长为 30(uu)L，步高为 15(uu)H，步宽为 200(uu)W，总共有 20 级：

![虚幻引擎 4 中的常见度量](img/image00175.jpeg)

# 虚幻引擎 4 中的单位吸附

如果你打开虚幻引擎 4 中的空白地图或编辑器中的不同视口，你会注意到一个网格。这个网格可以根据编辑器中当前应用的单位吸附度量动态变化。每个网格方格之间的间距将决定你在编辑器中放置或变换对象时对象移动的单位数。回到虚幻引擎 3 或 UDK，网格吸附将遵循 2 的幂（2/4/8/16/32/64/128/256/512/1024/2048），但在虚幻引擎 4 中，网格吸附遵循以下值（1/5/10/50/100/500/1000/5000/10000）。这种变化的主要原因是因为虚幻引擎 4 使用的是 Unreal Unit 的值等于 1 厘米，而不是 1 uu 等于 0.75 英寸。这与它在虚幻引擎 3 或 UDK 中所做的是相似的。

默认情况下，单位捕捉网格遵循 1 uu 等于 1 cm 的概念，但如果我们遵循 2 的幂单位捕捉比例，我们就有这个选项。在**级别编辑器**部分下的**编辑器首选项**中，有一个**视口**选项。在**视口**下，有一个名为**网格捕捉**的子部分，以及一个启用/禁用**使用 2 的幂捕捉尺寸**的选项，如图下截图所示：

![虚幻引擎 4 中的单位捕捉](img/image00176.jpeg)

当谈到单位捕捉时，遵循最适合你的度量。单位捕捉在将资产放置到游戏世界中时是一个非常重要的方面。当涉及到避免两个对象之间的裁剪或 Z 冲突时，它可能是一个救星。单位捕捉在创建对象之间的适当距离时也非常关键，例如在建筑物之间创建走廊或小巷。最终，在级别开发初期和尤其是在级别设计的白箱阶段考虑单位捕捉将节省大量时间和精力。在某些情况下，放置对象在游戏世界中可能不需要单位捕捉，例如在地面上放置碎片，将纸张放在桌子上，或任何不需要与其他游戏对象保持特定距离的对象。在这些情况下，虚幻引擎 4 通过点击网格图标来给我们提供切换单位捕捉的开关能力，如图下截图所示。最后，我们也可以通过按*End*键将我们的对象捕捉到网格或环境的地板上。或者，我们可以按*Ctrl* + *End*将演员捕捉到网格。如果我们需要更改这些操作的键绑定，我们可以导航到**编辑菜单** | **编辑器首选项** | **键盘快捷键**来做出任何更改。

![虚幻引擎 4 中的单位捕捉](img/image00177.jpeg)

# 在 3ds Max 和 Maya 中更改度量单位

对于角色和环境艺术家来说，了解如何在第三方 3D 建模软件中更改度量单位非常重要，这样当资产从艺术程序导出并导入到虚幻引擎 4 中时，比例是正确的，并且符合艺术家的意图。考虑到虚幻引擎 4 默认使用 1 uu 等于 1 cm 的度量转换，我们想要确保我们的 3D 艺术程序使用相同的转换。

要在 3ds Max（2013 版本）中更改度量单位，请选择**自定义**选项，然后选择**单位设置**。在这里，点击**系统单位设置**按钮，并按照以下方式更改度量单位：

![在 3ds Max 和 Maya 中更改度量单位](img/image00178.jpeg)

在 Maya 中，我们可以通过点击工具栏中的“窗口”来更改测量单位。现在，从下拉窗口中选择**设置/首选项**，然后选择**首选项**。在**首选项**对话框中，选择**设置**。在**工作单位**下，我们可以将线性单位更改为**厘米**。

![在 3ds Max 和 Maya 中更改测量单位](img/image00179.jpeg)![在 3ds Max 和 Maya 中更改测量单位](img/image00180.jpeg)

# 测量单位 - 章节回顾

在本节中，你学习了美国和欧洲单位之间的基本单位转换，以及这些单位如何转换为虚幻引擎 4 的虚幻单位。此外，我们还简要讨论了游戏世界中玩家角色、墙壁、楼梯和门/门厅的常见测量方法。此外，我们深入探讨了虚幻引擎 4 中的单位吸附以及该工具在对象放置和创建游戏世界时的意义。最后，我们了解了如何在 3D 艺术程序（如 3ds Max 和 Maya）中转换或更改测量单位，以便艺术家可以确保他们的模型在放置到虚幻引擎 4 中时具有正确的比例。

现在我们对测量单位和它们如何转换为虚幻引擎 4 有了更好的理解，我们现在可以简要地讨论科学记数法。

# 科学记数法

这是一种我们可以轻松写出非常大或非常小的数字的方法，而无需表达整个数字的长度，也就是说，写一串零。当你在虚幻引擎 4 中作为设计师或艺术家使用时，科学记数法并不常见，但作为使用蓝图或甚至在引擎中使用 C++编码的程序员或技术设计师，科学记数法的使用可能被认为是有用的。

让我们看看一些大数和小数的例子，这些数字都表示为科学记数法。为了尽可能简单，这些例子将使用 10 作为基数，以便于理解：

+   1,000（1 千）- *1 * 10³*

+   100,000（1 十万）- *1 * 10⁵*

+   1,000,000（1 百万）- *1 * 10⁶*

+   .01（1/100）- *1 * 10^-2*

+   .001（1/1,000）- *1 * 10^-3*

+   .0001（1/10,000）- *1 * 10^-4*

# 如何使用科学记数法？

使用科学记数法的主要逻辑是将一个非常大的或非常小的数字转换成一个易于阅读/书写的表达式。例如，对于不是 10 的幂的数字，将 0.5 转换为科学记数法将读作 *5 * 10^-1*。我们通过将 0.5 中的小数点向右移动一次得到这个表达式，使得数字变成 5。使用科学记数法的目标是达到基数，即介于 1 和 9 之间的数字。由于我们必须将小数点向右移动，我们知道这个表达式将读作负指数，而如果我们把小数点向左移动，指数将是正的。数字 5 是我们的基数，我们将其乘以 10，指数等于我们将小数点移动到基数所需的次数。在我们的例子中，这个次数是 1。最后，我们知道指数将是负的，因为我们处理的是 0.5，一个小于 1 的数字，并且我们必须将小数点向右移动。因此，我们的 0.5 的科学记数法将是 *5 * 10^-1*。以下是一些用科学记数法表示的大数和小数的更多例子：

+   642,300,544,000 – *6.42300544 * 10¹¹*

+   .00002055 – *2.055 * 10^-5*

+   8,549,248.5004 – *8.549285004 * 10⁶*

+   .0125174 – *1.25174 * 10^-2*

# 科学记数法 – 章节回顾

在本节中，我们简要介绍了科学记数法及其用法，并提供了使用其科学记数法表示的大数和小数的例子。现在我们已经讨论了科学记数法，让我们继续讨论下一个主题：二维和三维坐标系。

# 二维和三维坐标系

在虚幻引擎 4 中，使用二维和三维坐标系来确定游戏世界中的演员位置。在二维坐标系中，我们可以根据**X**和**Y**轴、左右和上下来确定演员的位置。在三维坐标系中，除了**X**和**Y**维度外，我们还可以根据**Z**轴：深度来确定演员的位置。

![二维和三维坐标系](img/image00181.jpeg)

在虚幻引擎 4 中，3D 轴的标记方式与前面显示的不同。在虚幻引擎 4 中，**"向上"**轴不是**y**轴，而是标记为**z**轴。因此，**"向前"**轴是**y**轴，而不是像前面图像中那样是**z**轴。

还应该讨论的是，虚幻引擎 4 使用的是左手坐标系，这意味着*x*轴的正方向在右侧，*z*轴的正方向向上，*y*轴的正方向向前。在左手坐标系中，轴的正旋转方向始终是顺时针方向。当我们选择一个对象并且对其进行移动或旋转时，我们可以在细节面板的*transform*部分看到这一点。

![二维和三维坐标系](img/image00182.jpeg)

在虚幻引擎 4 中，*x*轴用红色箭头标记；*y*轴用绿色箭头标记，*z*轴用蓝色箭头标记。在编辑器中，您可以通过反复按空格键或通过在*w*（平移）、*e*（旋转）和*r*（缩放）键之间切换来在所选对象的平移、旋转和缩放类型之间切换。前面图像中显示的视口称为视角视口。这是虚幻引擎 4 中唯一的 3D 视口，可以通过*Alt* + *G*快捷键访问。当您在 3D 游戏中工作时，虚幻引擎 4 提供了三个 2D 视口：顶部、侧面和正面视角视口，以便在放置游戏世界中的对象时使用。

## 顶部视角

这个视角从顶部向下（使用 2D 坐标系）展示了三维世界，*x*轴和*y*轴与之前 2D 坐标系的图像相似，其中*y*轴代表上下，*x*轴代表左右。这个视角可以通过*Alt* + *J*快捷键或通过点击标记为**视角**的下拉列表并选择**顶部**选项来访问，如图所示：

![顶部视角](img/image00183.jpeg)

## 侧面视角

这个视角从侧面视角展示了三维世界，使用 2D 坐标系来表示*z*轴和*y*轴。它实际上是从左侧到右侧观察世界。在这个视角中，*z*轴代表上下，而*y*轴代表左右。这个视角可以通过*Alt* + *K*快捷键或通过访问其他三个视角的相同方法来访问。

![侧面视角](img/image00184.jpeg)

## 正面视角

这个视角从正面视角展示了三维世界，使用坐标系来表示*z*轴和*x*轴。它本质上是从前到后观察世界。在这个视角中，*z*轴代表上下，而*x*轴代表左右。这个视角可以通过*Alt* + *H*快捷键或通过访问其他三个视角的相同方法来访问。

![正面视角](img/image00185.jpeg)

最后，让我们简要讨论一下在 3D 程序（如虚幻引擎 4）中旋转的工作原理。在现实世界中，物体的三种不同类型的旋转是偏航、俯仰和翻滚。这些旋转被定义为以下内容：

+   **俯仰（Pitch）**: 在虚幻引擎 4 中，这被定义为物体绕 *Y* 轴的旋转。

+   **偏航（Yaw）**: 在虚幻引擎 4 中，这被定义为物体绕 *Z* 轴的旋转。

+   **翻滚（Roll）**: 在虚幻引擎 4 中，这被定义为物体绕 *X* 轴的旋转。

在现实世界中，物体的俯仰、偏航和翻滚旋转可以通过观察飞机如何旋转来可视化，如下面的图像所示：

![前视图](img/image00186.jpeg)

# 二维和三维坐标系——章节回顾

在本节中，我们讨论了二维和三维坐标系的目的、它们的区别以及在虚幻引擎 4 中的用途。此外，我们花了一些时间介绍了引擎提供的四种视角：透视、顶视、侧视和前视。最后，我们探讨了如何在我们的三维世界中变换演员。在掌握二维和三维坐标系的概念之后，你现在可以继续前进，学习更多关于标量和矢量的知识。

# 标量和矢量

这些是描述物体运动的定义。两者都是独特的。在数学中，标量被定义为可以用单个数值描述的量，而矢量被定义为可以用数值和方向描述的量。标量量的例子包括长度、面积、体积、速度、质量、温度和功率，而矢量量的例子包括方向、速度、力、加速度和位移。

在虚幻引擎 4 中，标量和矢量值的使用非常普遍，尤其是在蓝图和材质中。在材质编辑器的上下文中，标量值仅仅是数值，而矢量实际上是 RGBA 或红、绿、蓝和 alpha 的颜色。在 **材质** 编辑器中，我们可以使用标量和矢量参数来影响材质本身的颜色和强度。

![标量和矢量](img/image00187.jpeg)

在前面的屏幕截图中，我们正在使用材质中的矢量参数节点来指定材质本身的颜色。默认情况下，材质编辑器中的矢量参数包含红、绿、蓝和 alpha 的值；alpha 值控制颜色的不透明度。在材质示例中，标量参数控制材质发射值的强度。通过增加或减少此值，材质的亮度会变亮或变暗。要重新创建此效果，我们可以在 **内容浏览器** 上右键单击，选择 **材质** 并将其命名为 `MAT_Example`，然后双击材质以打开 **材质** 编辑器。执行以下步骤：

1.  在**材质**编辑器中的空白区域右键单击，并搜索**向量**参数。将其 RGBA 值分别设置为`1.0`、`0.5`、`2.0`和`1.0`。我们可以将此参数命名为`材质颜色`。

1.  接下来，让我们右键单击并搜索**标量**参数。然后，将其数值设置为`5`，并将此参数命名为`材质颜色强度`。

1.  要创建乘法节点，我们可以右键单击并搜索此节点，或者只需按住*M*键并在**材质**编辑器中的空白区域左键单击以创建乘法节点。

1.  现在，我们可以将颜色输出**材质颜色**向量与**材质颜色强度**标量的数值输出相乘，并将结果插入材质本身的**发射颜色**输入中，以创建一个明亮且强烈的紫色材质。

1.  为了增加额外的颜色，我们还可以将**材质颜色**向量参数的颜色输出插入到材质的**基础颜色**输入中。

在虚幻引擎 4 的蓝图编辑器中，标量和向量参数具有类似的作用（如材质编辑器中所示）。蓝图脚本中的向量变量包含**X**、**Y**和**Z**的值，用于指定位置和方向，而旋转器变量包含**翻滚**、**俯仰**和**偏航**旋转值。当涉及到蓝图中的标量变量时，有许多选项可以使用（例如整数或浮点数），因为标量值只是没有方向的数值。

![标量和向量](img/image00188.jpeg)

如前图所示，我们可以通过右键单击向量值并选择**拆分结构引脚**来拆分旋转器和向量变量的结构引脚。因此，我们可以使用浮点标量单独编辑每个方向，以影响每个方向。同时，我们也可以通过右键单击拆分的浮点值之一并选择**重新组合结构引脚**选项，而不是使用单个标量值，来重新组合这些变量的结构引脚，这样我们就可以分别使用向量或旋转器来编辑这些值。

材料和蓝图另一个有趣的应用是，您可以在事件图或蓝图构建脚本中动态更改标量和向量参数的值。

![标量和向量](img/image00189.jpeg)

如前图所示，我们可以在蓝图中使用我们之前制作的材质示例（该示例使用向量和标量参数）从静态网格创建一个动态材质实例。在这里，我们可以设置**材质颜色**向量参数，将颜色结构拆分为 RGBA（红色、绿色、蓝色和透明度）的四个独特的浮点值，然后使用范围节点中的随机浮点值来为材质创建随机颜色。

要重新创建此内容，我们首先需要通过在内容浏览器上右键单击并选择**蓝图**类别然后选择**演员**来创建一个基于演员的蓝图。接下来，双击此新蓝图以打开**蓝图**编辑器。执行以下步骤：

1.  选择编辑器顶部的**视口**选项卡，以便我们可以为这个示例蓝图添加组件。对于这个蓝图演员的基座，我们想在演员的根处添加一个场景组件，以便我们添加的其他演员可以附加到此组件。

1.  从**添加组件**选项卡，选择**场景组件**选项，并将其命名为`ROOT`。

1.  现在，我们想在蓝图上添加一个平面的形状，以便我们可以在对象上看到我们的材质。在**StarterContent**文件夹下的**形状**中，选择**Shape_Plane Static**网格，使其在内容浏览器中高亮显示。

1.  当**Shape_Plane**网格高亮显示时，让我们回到我们的蓝图。在**添加组件**选项卡下，将有一个**静态网格**（**Shape_Plane**）的选项。请随意命名此组件，并在 3D 视口中根据需要旋转/定位网格。

1.  现在，回到我们的**内容浏览器**，选择我们的材质，使其高亮显示。然后，回到蓝图，我们可以通过在**组件**选项卡中选择飞机并点击**材质**部分旁边**元素 0**选项旁边的箭头来将此材质应用到我们的飞机网格。

1.  当我们的材质应用到**静态网格**后，我们现在可以导航到我们的**构建脚本**来编写行为脚本，每次蓝图初始化时都会随机更改此材质的颜色。

1.  在**构建脚本**选项卡中，让我们按住*CTRL*键，点击并拖动我们的飞机静态网格的**Get**变量从变量部分到编辑器的左侧。从这个变量引脚，我们可以搜索**创建动态材质实例**。确保我们创建的材质已选中，用于该节点的**源材质**变量。

1.  从**创建动态材质实例**节点的返回值，我们可以将此值提升为变量，我们可以在蓝图中的任何地方引用此变量。请随意命名此变量。

1.  现在，我们可以从新提升的材质实例变量输出拖动引脚并搜索**设置向量参数**节点。在这里，我们需要为此节点提供我们想要更改的向量参数名称和我们想要输入的颜色值。如果你记得，我们命名了我们的向量参数为`Material Color`。

1.  要随机化颜色，我们需要从**设置向量参数值**节点的值输入变量拖动并搜索**制作线性颜色**。对于 RGB 值，我们可以使用范围节点中的**随机浮点数**，最小值为 0.5，最大值为 1.0，并使用常量 alpha 值 1 来随机化颜色。

1.  现在，当我们反复点击顶部的**编译**按钮时，我们可以看到材料颜色每次都会改变。

![标量与矢量](img/image00190.jpeg)

# 标量与矢量 – 章节回顾

在本节中，我们讨论了矢量值与标量值之间的重要区别，它们在现实世界数学量以及虚幻引擎 4 领域中的定义。此外，我们还探讨了如何在材料和蓝图中使用标量和矢量的一些引擎内示例。我们还研究了如何将标量和矢量结合，以便动态改变材料的颜色。在口袋里有了对标量和矢量的基本理解后，我们现在可以讨论牛顿的物理定律。

# 牛顿定律/牛顿物理概念

我们所知道的所有关于现实世界物理学的知识都源于由*爵士艾萨克·牛顿*提出的原理，也称为牛顿三定律。当我们将在视频游戏中重新创建现实世界物理学时，了解这些定律以及它们如何影响我们游戏世界中的物体非常重要。请记住，并非所有游戏都使用真实物理，但在开发任何游戏世界时，掌握这些运动定律仍然很重要。

## 牛顿第一运动定律

艾萨克·牛顿的第一运动定律，也称为**惯性定律**，表明*每个处于匀速运动状态的物体倾向于保持该运动状态，除非有外力作用于它*。换句话说，运动的物体倾向于保持运动状态，除非受到其他力的作用。

在现实世界中，存在作用于运动物体的外力（如地面和空气摩擦），最终导致该物体完全停止，或者像人推或拉物体这样的力可以导致加速，或者使移动随时间增加速度。在真空中，没有摩擦。因此，在无限真空空间中运动的物体将继续以相同的速率移动，除非受到外部力的作用。

![牛顿第一定律](img/image00191.jpeg)

在虚幻引擎 4 中，使用投射组件的蓝图资产，如子弹、火箭或游戏中使用的任何其他类型的投射物，可以编辑摩擦系数和其他基于物理的性质。从本章早期创建的第一人称项目，我们可以导航到**内容浏览器**中的`Content`文件夹，然后到`FirstPersonBP`文件夹，并选择`Blueprints`文件夹。在这个文件夹中，我们可以选择**FirstPersonProjectile**蓝图。然后，在**视口**中，我们可以选择**投射物**组件来查看一些物理属性，如下面的截图所示：

![牛顿第一定律](img/image00192.jpeg)

通过增加 **Friction** 属性，我们可以使这个投射物更快地停下来，而减少这个属性将导致投射物在更长的时间内停下来。我们可以调整这个属性，直到我们得到想要的行为。有关虚幻引擎 4 蓝图中的基于物理的属性示例，请随时调查 **FirstPersonCharacter** 蓝图并选择 **CharacterMovement** 组件。

## 牛顿第二运动定律

这表明，*物体的质量（m）、加速度（a）和施加的力（F）之间的关系是 F = ma，或者施加的力等于物体的质量和其施加的加速度*。加速度和力是矢量（记住，矢量既有数值也有方向）。在这个定律中，方向力矢量与加速度矢量方向相同。

更简单地说，这个定律关注的是这样一个原理：只有当物体在特定方向上加速时，物体的速度才会发生变化，并且只有当有外力作用于它时，正加速度或负加速度才能发生。

![牛顿第二运动定律](img/image00193.jpeg)

在虚幻引擎 4 中，我们可以使用蓝图将力应用于物理对象，并通过不同的可用组件覆盖属性（如加速度和质量）。例如，**CharacterMovement** 组件在 **FirstPersonCharacter** 蓝图中有一个标记为 **Max Acceleration** 的属性，如果我们增加或减少这个属性，我们可以看到玩家从静止状态加速到最大行走速度的速度有多快。

![牛顿第二运动定律](img/image00194.jpeg)

## 牛顿第三运动定律

牛顿第三运动定律以及更为人所熟知的定律之一指出，*每一个作用力都有一个大小相等、方向相反的反作用力*。换句话说，当一个物体对另一个物体施加力时，也会有一个大小相等、方向相反的力同时作用。

![牛顿第三运动定律](img/image00195.jpeg)

在虚幻引擎 4 中，我们可以在编辑器中播放并点击左鼠标按钮，同时瞄准地面，以看到球体以与发射方向相反的方向弹跳，并以与发射时相同的速度移动，只是我们在这个投射物上应用了摩擦，因此由于摩擦，它失去了一些初始速度。

![牛顿第三运动定律](img/image00196.jpeg)

要将这些运动定律综合起来，我们可以做的是将一个盒子碰撞组件添加到 **FirstPersonCharacter** 蓝图中，将其 **Collision Presets** 设置为 **BlockAll**，并通过将组件拖放到 **Components** 选项卡中的 **FirstPersonCamera** 组件上来将其附加到 **FirstPersonCamera** 组件。

![牛顿第三运动定律](img/image00197.jpeg)

现在如果我们开始在编辑器中玩耍，我们就可以开始遇到**FirstPersonExampleMap**（默认为**第一人称**项目模板）中的物理立方体，并看到施加在它们上的力，这个力等于玩家的质量乘以玩家当前的加速度值。

# 牛顿运动定律——章节回顾

在本节中，我们讨论了由**艾萨克·牛顿爵士**提出的三个运动定律及其在现实世界和虚幻引擎 4 中的应用。对于这三个定律中的每一个，我们都通过提供虚幻引擎 4 中的工作示例来逐一检验，使用蓝图来实现。现在我们已经对这些原则有了深刻的理解，我们可以着手处理本章的最后一个主题：力和能量。

# 力和能量

关于能量的最重要的概念之一是，它是一种可以从一个物体转移到另一个物体的属性，但不能被创造或摧毁。所有形式的能量都遵循能量守恒定律，并且可以转换为不同类型的能量。在现实世界中存在许多种类的能量。以下是一些例子：

+   **动能**：这指定了运动物体的运动

+   **势能**：这表示物体由于其 3D 空间中的位置而具有的能量

+   **机械能**：这指定了动能和势能的总和

+   **热能**：这表示在温度降低的方向上转移的热能的量

这些只是现实世界中存在的能量的一些例子，所以请随时对能量的概念进行进一步的研究，因为本节只会涉及这个主题的表面。当涉及到能量和能量守恒的概念时，虚幻引擎 4 通过其内置的物理引擎遵循这些属性。

如本章前节所述，关于牛顿原理的讨论，力是任何倾向于改变物体运动的相互作用。这也可以被称为概念（如推拉）并且具有大小和方向，使其成为一个矢量量。力可以由重力、磁力、风力或甚至由人或机器对物体的推拉引起。

![力和能量](img/image00198.jpeg)

在虚幻引擎 4 中，我们可以通过蓝图脚本添加力，并且我们可以以几种方式执行此操作。第一种方法是名为**Add Force**的函数。这很像一个推进器，在指定的方向上添加一个线性能量爆发。

![力和能量](img/image00199.jpeg)

您可以将此类力添加到与我们的蓝图相关联的任何组件中，或者将此力应用于被我们的蓝图组件击中的任何组件。我们还可以看到在这个函数中有一个名为骨骼名称的属性。这意味着如果我们的蓝图中存在骨骼，我们可以将力应用于骨骼。

将力应用到我们的蓝图组件或游戏世界中的组件的第二种方法是使用**添加径向力**功能：

![力和能量](img/image00200.jpeg)

此功能允许你指定 3D 空间中的一个位置。在这里，径向力的来源开始，然后使用浮点值指定半径和强度。最后，我们可以应用两种半径**衰减**方法中的一种，这可以是恒定衰减或线性衰减。所有在这个半径内的物体都将受到这种力的作用，所以在应用半径和强度值时，请确保考虑这一点。

# 力和能量 - 部分回顾

在本节中，我们探讨了力和能量以及它们在现实世界和虚幻引擎 4 中的应用。此外，我们还研究了现实世界中存在的不同类型的能量。此外，我们查看了一些如何使用**添加力**和**添加径向力**函数在蓝图上应用力的例子。最后，我们讨论了这两个函数的性质以及它们如何改变施加的力。

# 概述

在本章中，我们讨论了一些数学和基于物理的概念，这些概念对于理解虚幻引擎 4 中的物理工作原理是必要的。我们查看了一些美国和欧洲长度标准中存在的不同测量单位以及它们如何相互转换。我们还探讨了**虚幻单位**（**uu**）。然后，我们讨论了墙壁、门、角色和楼梯的常见测量方法。

接下来，你了解了一些关于科学记数法的基本知识，它的工作原理以及它的应用。我们查看了一些从数值到科学记数法的转换的基本和高级示例。

此外，你还学习了二维和三维坐标系以及它们在现实世界和虚幻引擎 4 中的应用。我们还探讨了虚幻引擎 4 中存在的不同二维和三维视口以及它们在创建游戏世界时提供的重要功能。

此外，你还学习了标量和矢量属性以及它们在现实世界和虚幻引擎 4 中的应用。我们还探讨了标量和矢量值在**材质**编辑器和蓝图中的应用示例。

我们还研究了牛顿运动定律的三个定律，并为每个定律提供了现实世界和虚幻引擎 4 的例子。

最后，你学习了现实世界中存在的不同力和能量，并提供了如何在蓝图上应用力的例子。

现在我们对现实世界的数学和物理概念以及它们在虚幻引擎 4 中的应用有了基本的了解，我们可以继续学习虚幻引擎 4 中的**物理资产工具**（**PhAT**）。
