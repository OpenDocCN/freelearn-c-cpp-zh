<html><head></head><body>
<div id="_idContainer004">
<h1 id="_idParaDest-5"><a id="_idTextAnchor004"/><span class="koboSpan" id="kobo.1.1">Preface</span></h1>
<p><span class="koboSpan" id="kobo.2.1">When considering this book, some of you will ask: </span><em class="italic"><span class="koboSpan" id="kobo.3.1">Another book on design patterns in C++? </span><span class="koboSpan" id="kobo.3.2">Why that, and why now? </span><span class="koboSpan" id="kobo.3.3">Hasn’t everything there is to know about design patterns been </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.4.1">written already?</span></em></span></p>
<p><span class="koboSpan" id="kobo.5.1">There are several reasons why yet another book on </span><em class="italic"><span class="koboSpan" id="kobo.6.1">design</span></em> <em class="italic"><span class="koboSpan" id="kobo.7.1">patterns</span></em><span class="koboSpan" id="kobo.8.1"> has been written, but first of all, this is very much a C++ book—this is not a book on </span><em class="italic"><span class="koboSpan" id="kobo.9.1">design patterns </span></em><span class="koboSpan" id="kobo.10.1">in C++ but a book on design patterns </span><em class="italic"><span class="koboSpan" id="kobo.11.1">in C++</span></em><span class="koboSpan" id="kobo.12.1">, and the emphasis sets it apart. </span><span class="koboSpan" id="kobo.12.2">C++ has all the capabilities of a traditional object-oriented language, so all the classic object-oriented design patterns, such as Factory and Strategy, can be implemented in C++. </span><span class="koboSpan" id="kobo.12.3">A few of those are covered in this book. </span><span class="koboSpan" id="kobo.12.4">But the full power of C++ is realized when you utilize its generic programming capabilities. </span><span class="koboSpan" id="kobo.12.5">Remember that design patterns are frequently occurring design challenges and the commonly accepted solution—both sides are equally important in a pattern. </span><span class="koboSpan" id="kobo.12.6">It stands to reason that when new tools become available, new solutions become possible. </span><span class="koboSpan" id="kobo.12.7">Over time, the community settles on some of these solutions as the most advantageous overall, and a new variation of an old design pattern is born—the same challenge but a different preferred solution. </span><span class="koboSpan" id="kobo.12.8">But expanding capabilities also opens up new frontiers—with new tools at our disposal, new design </span><span class="No-Break"><span class="koboSpan" id="kobo.13.1">challenges arise.</span></span></p>
<p><span class="koboSpan" id="kobo.14.1">Others may expect to find a new coming of the classic book “</span><em class="italic"><span class="koboSpan" id="kobo.15.1">Design Patterns: Elements of Reusable Object-Oriented Software</span></em><span class="koboSpan" id="kobo.16.1">”. </span><span class="koboSpan" id="kobo.16.2">This ‘isn’t that book, and I do not believe that the time is right for such a book. </span><span class="koboSpan" id="kobo.16.3">The “</span><em class="italic"><span class="koboSpan" id="kobo.17.1">Gang of Four</span></em><span class="koboSpan" id="kobo.18.1">” book was novel, even revolutionary, and it introduced the language of design patterns into the broad programming community. </span><span class="koboSpan" id="kobo.18.2">This has been done once and for all. </span><span class="koboSpan" id="kobo.18.3">It also established the neat taxonomy of design patterns, and that part has not aged nearly as well: as our pattern vocabulary expanded, we found patterns that do not fit easily into a particular category. </span><span class="koboSpan" id="kobo.18.4">We also extended the notion of design patterns beyond object-oriented programming and found that some of these patterns strongly resemble their object-oriented cousins while others are entirely new and different. </span><span class="koboSpan" id="kobo.18.5">Furthermore, in C++ and other languages with significantly different capabilities, a pattern that addresses the same need may look totally different. </span><span class="koboSpan" id="kobo.18.6">The bottom line is the original classification of patterns, while still useful, by now has more exceptions than typical examples, and the pattern landscape became too divergent for a new taxonomy that would not seem far too artificial. </span><span class="koboSpan" id="kobo.18.7">Maybe in time, as we develop the art further, new trends will emerge from the bird’s eye view of the expanded pattern landscape, but it has not </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">happened yet.</span></span></p>
<p><span class="koboSpan" id="kobo.20.1">This book has less ambitious but very practical goals. </span><span class="koboSpan" id="kobo.20.2">In this book, we focus on design patterns where C++ has something essential to add to at least one of the two sides of the pattern. </span><span class="koboSpan" id="kobo.20.3">On the one hand, we have patterns such as Visitor, where the generic programming capabilities of C++ allow for a better solution. </span><span class="koboSpan" id="kobo.20.4">That better solution was made possible by new features that were added with the evolution of the language from C++11 to C++17. </span><span class="koboSpan" id="kobo.20.5">On the other hand, generic programming is still programming (only the execution of the program happens at compile time); programming requires design, and design has common challenges that are not all that dissimilar to the challenges of traditional programming. </span><span class="koboSpan" id="kobo.20.6">Thus, many of the traditional patterns have their twins, or at least close siblings, in generic programming, and we largely focus on those patterns in this book. </span><span class="koboSpan" id="kobo.20.7">A prime example is the Strategy pattern, better known in the generic programming community by its alternative name, the Policy pattern. </span><span class="koboSpan" id="kobo.20.8">Also, as new features are added to the language, it can offer solutions to new problems or new solutions to old problems, and both of these eventually develop into design patterns. </span><span class="koboSpan" id="kobo.20.9">This is the case with the C++ coroutines, which make an appearance in the </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">last chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.22.1">Finally, a language as complex as C++ is bound to have a few idiosyncrasies of its own that often lead to C++-specific challenges that have common, or </span><em class="italic"><span class="koboSpan" id="kobo.23.1">standard</span></em><span class="koboSpan" id="kobo.24.1">, solutions. </span><span class="koboSpan" id="kobo.24.2">While not quite deserving of being called </span><em class="italic"><span class="koboSpan" id="kobo.25.1">patterns</span></em><span class="koboSpan" id="kobo.26.1">, these C++-specific idioms are also covered in </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">this book.</span></span></p>
<p><span class="koboSpan" id="kobo.28.1">A few words about the changes for the second edition: first of all, there is a new chapter on patterns for concurrency. </span><span class="koboSpan" id="kobo.28.2">All examples are updated to use C++17 or C++20 wherever it makes sense, but never gratuitously. </span><span class="koboSpan" id="kobo.28.3">Many patterns, idioms, and examples demonstrating their use were updated with recent developments and advances – the result of the work of the C++ programming community in the last </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">few years.</span></span></p>
<p><span class="koboSpan" id="kobo.30.1">All that said, there are three main reasons why this book has </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">been written:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.32.1">To cover C++-specific solutions for otherwise general, </span><em class="italic"><span class="koboSpan" id="kobo.33.1">classic </span></em><span class="koboSpan" id="kobo.34.1">design patterns</span></li>
<li><span class="koboSpan" id="kobo.35.1">To show C++-specific pattern variants that occur when old design challenges arise in the new domain of generic programming</span></li>
<li><span class="koboSpan" id="kobo.36.1">To keep our patterns up to date with the language’s evolution</span></li>
</ul>
<h1 id="_idParaDest-6"><a id="_idTextAnchor005"/><span class="koboSpan" id="kobo.37.1">Who this book is for</span></h1>
<p><span class="koboSpan" id="kobo.38.1">This book is intended for C++ programmers who want to learn from </span><em class="italic"><span class="koboSpan" id="kobo.39.1">the wisdom of the community</span></em><span class="koboSpan" id="kobo.40.1">—from commonly-recognized good solutions to frequently occurring design problems. </span><span class="koboSpan" id="kobo.40.2">Another way to put it is that this book is a way for a programmer to learn from someone </span><span class="No-Break"><span class="koboSpan" id="kobo.41.1">else’s mistakes.</span></span></p>
<p><span class="koboSpan" id="kobo.42.1">This is not a </span><em class="italic"><span class="koboSpan" id="kobo.43.1">learn</span></em> <em class="italic"><span class="koboSpan" id="kobo.44.1">C++</span></em><span class="koboSpan" id="kobo.45.1"> book; the target audience is mostly programmers who are reasonably familiar with the tools and the syntax of the language, and who are more interested in learning how and why these tools should be used. </span><span class="koboSpan" id="kobo.45.2">However, this book will also be useful for programmers wanting to learn more about C++, but wishing that their study could be guided by concrete and practical examples (for such programmers, we recommend having a C++ reference book close to hand as well). </span><span class="koboSpan" id="kobo.45.3">Finally, programmers who want to learn not just what’s new in C++17 or C++20, but what all these new features can be used for, will hopefully find this book illuminating </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">as well.</span></span></p>
<h1 id="_idParaDest-7"><a id="_idTextAnchor006"/><span class="koboSpan" id="kobo.47.1">What this book covers</span></h1>
<p><a href="B19262_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.48.1">Chapter 1</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.49.1">, An Introduction to Inheritance and Polymorphism</span></em><span class="koboSpan" id="kobo.50.1">, provides a brief overview of the object-oriented features of C++. </span><span class="koboSpan" id="kobo.50.2">This chapter is not intended as a reference for object-oriented programming in C++, but, rather, highlights the aspects of it that are important for the </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">subsequent chapters.</span></span></p>
<p><a href="B19262_02.xhtml#_idTextAnchor043"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.52.1">Chapter 2</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.53.1">, Class and Function Templates</span></em><span class="koboSpan" id="kobo.54.1">, provides an overview of the generic programming facilities of C++—class templates, function templates, and lambda expressions. </span><span class="koboSpan" id="kobo.54.2">This chapter covers template instantiations and specializations, along with template function argument deduction and overload resolution, and prepares you for more complex uses of templates in </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">later chapters.</span></span></p>
<p><a href="B19262_03.xhtml#_idTextAnchor110"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.56.1">Chapter 3</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.57.1">, Memory and Ownership</span></em><span class="koboSpan" id="kobo.58.1">, describes modern idiomatic ways of expressing different kinds of memory ownership in C++. </span><span class="koboSpan" id="kobo.58.2">This is a collection of conventions or idioms—the compiler does not enforce these rules, but programmers will find it easier to understand each other if they use the shared </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">idiomatic vocabulary.</span></span></p>
<p><a href="B19262_04.xhtml#_idTextAnchor152"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.60.1">Chapter 4</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.61.1">, Swap - From Simple to Subtle</span></em><span class="koboSpan" id="kobo.62.1">, explores one of the most basic C++ operations, the swap, or exchange, of two values. </span><span class="koboSpan" id="kobo.62.2">This operation has surprisingly complex interactions with other C++ features that are discussed in </span><span class="No-Break"><span class="koboSpan" id="kobo.63.1">the chapter.</span></span></p>
<p><a href="B19262_05.xhtml#_idTextAnchor199"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.64.1">Chapter 5</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.65.1">, A Comprehensive Look at RAII</span></em><span class="koboSpan" id="kobo.66.1">, explores in detail one of the fundamental concepts of C++, that of resource management, and introduces what may be the most popular C++ idiom, RAII, which is the standard C++ approach to </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">managing resources.</span></span></p>
<p><a href="B19262_06.xhtml#_idTextAnchor266"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.68.1">Chapter 6</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.69.1">, Understanding Type Erasure</span></em><span class="koboSpan" id="kobo.70.1">, provides insight into a C++ technique that has been available in C++ for a long time but has grown in popularity and importance since the introduction of C++11. </span><span class="koboSpan" id="kobo.70.2">Type erasure allows the programmer to write abstract programs that do not explicitly mention </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">certain types.</span></span></p>
<p><a href="B19262_07.xhtml#_idTextAnchor314"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.72.1">Chapter 7</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.73.1">, SFINAE, Concepts, and Overload Resolution Management</span></em><span class="koboSpan" id="kobo.74.1">, discusses SFINAE—a C++ idiom that is, on the one hand, essential to the use of templates in C++ and </span><em class="italic"><span class="koboSpan" id="kobo.75.1">just happens</span></em><span class="koboSpan" id="kobo.76.1"> transparently, while on the other hand, requires a very thorough and subtle understanding of C++ templates when </span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">used purposefully.</span></span></p>
<p><a href="B19262_08.xhtml#_idTextAnchor360"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.78.1">Chapter 8</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.79.1">, The Curiously Recurring Template Pattern</span></em><span class="koboSpan" id="kobo.80.1">, describes a </span><em class="italic"><span class="koboSpan" id="kobo.81.1">mind-wrapping </span></em><span class="koboSpan" id="kobo.82.1">template-based pattern that combines the benefits of object-oriented programming with the flexibility of templates. </span><span class="koboSpan" id="kobo.82.2">The chapter explains the pattern and teaches you how to use it properly to solve practical problems. </span><span class="koboSpan" id="kobo.82.3">Lastly, this chapter prepares you for recognizing this pattern in </span><span class="No-Break"><span class="koboSpan" id="kobo.83.1">later chapters.</span></span></p>
<p><a href="B19262_09.xhtml#_idTextAnchor406"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.84.1">Chapter 9</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.85.1">, Named Arguments, Method Chaining, and the Builder Pattern</span></em><span class="koboSpan" id="kobo.86.1">, covers an unusual technique for calling functions in C++, using named arguments instead of positional ones. </span><span class="koboSpan" id="kobo.86.2">This is another one of those idioms we use implicitly in every C++ program, but its explicit purposeful use takes </span><span class="No-Break"><span class="koboSpan" id="kobo.87.1">some thought.</span></span></p>
<p><a href="B19262_10.xhtml#_idTextAnchor453"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.88.1">Chapter 10</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.89.1">, Local Buffer Optimization</span></em><span class="koboSpan" id="kobo.90.1">, is the only purely performance-oriented chapter in this book. </span><span class="koboSpan" id="kobo.90.2">Performance and efficiency are critical considerations that influence every design decision that affects the language itself—there is not a feature in the language that was not reviewed from the point of view of efficiency before being accepted into the standard. </span><span class="koboSpan" id="kobo.90.3">It is only fair that a chapter is dedicated to a common idiom used to improve the performance of </span><span class="No-Break"><span class="koboSpan" id="kobo.91.1">C++ programs.</span></span></p>
<p><a href="B19262_11.xhtml#_idTextAnchor509"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.92.1">Chapter 11</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.93.1">, ScopeGuard</span></em><span class="koboSpan" id="kobo.94.1">, introduces an old C++ pattern that has changed almost beyond recognition with the recent versions of C++. </span><span class="koboSpan" id="kobo.94.2">The chapter teaches you about a pattern for easily writing exception-safe, or, more generally, error-safe code </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">in C++.</span></span></p>
<p><a href="B19262_12.xhtml#_idTextAnchor562"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.96.1">Chapter 12</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.97.1">, Friend Factory</span></em><span class="koboSpan" id="kobo.98.1">, describes another old pattern that finds new uses in modern C++. </span><span class="koboSpan" id="kobo.98.2">This pattern is used to generate functions </span><em class="italic"><span class="koboSpan" id="kobo.99.1">associated</span></em><span class="koboSpan" id="kobo.100.1"> with templates, such as arithmetic operators for every type generated by </span><span class="No-Break"><span class="koboSpan" id="kobo.101.1">a template.</span></span></p>
<p><a href="B19262_13.xhtml#_idTextAnchor596"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.102.1">Chapter 13</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.103.1">, Virtual Constructors and Factories</span></em><span class="koboSpan" id="kobo.104.1">, covers another classic object-oriented programming pattern as applied to C++, the Factory pattern. </span><span class="koboSpan" id="kobo.104.2">In the process, the chapter also shows you how to get the appearance of polymorphic behavior from C++ constructors, even though constructors cannot </span><span class="No-Break"><span class="koboSpan" id="kobo.105.1">be virtual.</span></span></p>
<p><a href="B19262_14.xhtml#_idTextAnchor640"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.106.1">Chapter 14</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.107.1">, The Template Method Pattern and the Non-Virtual Idiom</span></em><span class="koboSpan" id="kobo.108.1">, describes an interesting crossover between a classic object-oriented pattern, the template, and a very C++-centric idiom. </span><span class="koboSpan" id="kobo.108.2">Together, they form a pattern that describes the optimal use of virtual functions </span><span class="No-Break"><span class="koboSpan" id="kobo.109.1">in C++.</span></span></p>
<p><a href="B19262_15.xhtml#_idTextAnchor689"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.110.1">Chapter 15</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.111.1">, Policy-Based Design</span></em><span class="koboSpan" id="kobo.112.1">, covers one of the jewels of C++ design patterns, the Policy pattern (more commonly known as the Strategy pattern), applied at compile time, that is, as a generic programming pattern instead of an </span><span class="No-Break"><span class="koboSpan" id="kobo.113.1">object-oriented pattern.</span></span></p>
<p><a href="B19262_16.xhtml#_idTextAnchor739"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.114.1">Chapter 16</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.115.1">, Adapters and Decorators</span></em><span class="koboSpan" id="kobo.116.1">, discusses the two very broad and closely related patterns as they apply to C++. </span><span class="koboSpan" id="kobo.116.2">The chapter considers the use of these patterns in object-oriented designs, as well as in </span><span class="No-Break"><span class="koboSpan" id="kobo.117.1">generic programs.</span></span></p>
<p><a href="B19262_17.xhtml#_idTextAnchor783"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.118.1">Chapter 17</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.119.1">, The Visitor Pattern and Multiple Dispatch</span></em><span class="koboSpan" id="kobo.120.1">, rounds off our gallery of classic object-oriented programming patterns with the perennially popular Visitor pattern. </span><span class="koboSpan" id="kobo.120.2">The chapter explains the pattern itself, then focuses on the ways that modern C++ makes the implementation of Visitor simpler, more robust, and </span><span class="No-Break"><span class="koboSpan" id="kobo.121.1">less error-prone.</span></span></p>
<p><a href="B19262_18.xhtml#_idTextAnchor832"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.122.1">Chapter 18</span></em></span></a><em class="italic"><span class="koboSpan" id="kobo.123.1">, Patterns for Concurrency</span></em><span class="koboSpan" id="kobo.124.1">, is a new addition to the book. </span><span class="koboSpan" id="kobo.124.2">While C++ has been used to write concurrent programs long before C++11 gave us the “official” tools for it, the wide range of problem-specific solutions makes identifying common patterns difficult. </span><span class="koboSpan" id="kobo.124.3">This chapter introduces the patterns that became the basic building blocks for designing concurrent software </span><span class="No-Break"><span class="koboSpan" id="kobo.125.1">in C++.</span></span></p>
<h1 id="_idParaDest-8"><a id="_idTextAnchor007"/><span class="koboSpan" id="kobo.126.1">To get the most out of this book</span></h1>
<p><span class="koboSpan" id="kobo.127.1">To run examples from this book, you will need a computer running Windows, Linux, or macOS (C++ programs can be built on something as small as a Raspberry Pi). </span><span class="koboSpan" id="kobo.127.2">You will also need a modern C++ compiler, such as GCC, Clang, Visual Studio, or another compiler that supports the C++ language up to C++20 (most examples need only C++14, some rely on C++17 features, and a few require up-to-date C++20 support). </span><span class="koboSpan" id="kobo.127.3">You will need a basic knowledge of GitHub and Git in order to clone a project </span><span class="No-Break"><span class="koboSpan" id="kobo.128.1">with examples.</span></span></p>
<h1 id="_idParaDest-9"><a id="_idTextAnchor008"/><span class="koboSpan" id="kobo.129.1">Download the example code files</span></h1>
<p><span class="koboSpan" id="kobo.130.1">You can download the example code files for this book from GitHub at </span><a href="https://github.com/PacktPublishing/Hands-On-Design-Patterns-with-CPP-Second-Edition/"><span class="koboSpan" id="kobo.131.1">https://github.com/PacktPublishing/Hands-On-Design-Patterns-with-CPP-Second-Edition/</span></a><span class="koboSpan" id="kobo.132.1">. </span><span class="koboSpan" id="kobo.132.2">If there’s an update to the code, it will be updated in the </span><span class="No-Break"><span class="koboSpan" id="kobo.133.1">GitHub repository.</span></span></p>
<p><span class="koboSpan" id="kobo.134.1">We also have other code bundles from our rich catalog of books and videos available at </span><a href="https://github.com/PacktPublishing/"><span class="koboSpan" id="kobo.135.1">https://github.com/PacktPublishing/</span></a><span class="koboSpan" id="kobo.136.1">. </span><span class="koboSpan" id="kobo.136.2">Check </span><span class="No-Break"><span class="koboSpan" id="kobo.137.1">them out!</span></span></p>
<h1 id="_idParaDest-10"><a id="_idTextAnchor009"/><span class="koboSpan" id="kobo.138.1">Conventions used</span></h1>
<p><span class="koboSpan" id="kobo.139.1">There are a number of text conventions used throughout </span><span class="No-Break"><span class="koboSpan" id="kobo.140.1">this book.</span></span></p>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.141.1">Code in text</span></strong><span class="koboSpan" id="kobo.142.1">: Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. </span><span class="koboSpan" id="kobo.142.2">Here is an example: “The implementation of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.143.1">insert()</span></strong><span class="koboSpan" id="kobo.144.1"> function must insert the record into both the storage and the index, there is no way </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">around it.”</span></span></p>
<p><span class="koboSpan" id="kobo.146.1">A block of code is set </span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.148.1">
class Database {
  class Storage { ... </span><span class="koboSpan" id="kobo.148.2">};    // Disk storage Storage S;
  class Index { ... </span><span class="koboSpan" id="kobo.148.3">};    // Memory index Index I;
  public:
  void insert(const Record&amp; r);
  ...
</span><span class="koboSpan" id="kobo.148.4">};</span></pre>
<p><span class="koboSpan" id="kobo.149.1">Any command-line input or output is written </span><span class="No-Break"><span class="koboSpan" id="kobo.150.1">as follows:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.151.1">
Benchmark                              Time
-------------------------------------------
BM_delete_explicit                  4.54 ns
BM_delete_type_erased               13.4 ns
BM_delete_type_erased_fast          12.7 ns
BM_delete_template                  4.56 ns</span></pre>
<p class="callout-heading"><span class="koboSpan" id="kobo.152.1">Tips or important notes</span></p>
<p class="callout"><span class="koboSpan" id="kobo.153.1">Appear like this.</span></p>
<h1 id="_idParaDest-11"><a id="_idTextAnchor010"/><span class="koboSpan" id="kobo.154.1">Get in touch</span></h1>
<p><span class="koboSpan" id="kobo.155.1">Feedback from our readers is </span><span class="No-Break"><span class="koboSpan" id="kobo.156.1">always welcome.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.157.1">General feedback</span></strong><span class="koboSpan" id="kobo.158.1">: If you have questions about any aspect of this book, email us at </span><a href="mailto:customercare@packtpub.com"><span class="koboSpan" id="kobo.159.1">customercare@packtpub.com</span></a><span class="koboSpan" id="kobo.160.1"> and mention the book title in the subject of </span><span class="No-Break"><span class="koboSpan" id="kobo.161.1">your message.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.162.1">Errata</span></strong><span class="koboSpan" id="kobo.163.1">: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. </span><span class="koboSpan" id="kobo.163.2">If you have found a mistake in this book, we would be grateful if you would report this to us. </span><span class="koboSpan" id="kobo.163.3">Please visit </span><a href="http://www.packtpub.com/support/errata"><span class="koboSpan" id="kobo.164.1">www.packtpub.com/support/errata</span></a><span class="koboSpan" id="kobo.165.1"> and fill in </span><span class="No-Break"><span class="koboSpan" id="kobo.166.1">the form.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.167.1">Piracy</span></strong><span class="koboSpan" id="kobo.168.1">: If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name. </span><span class="koboSpan" id="kobo.168.2">Please contact us at </span><a href="mailto:copyright@packt.com"><span class="koboSpan" id="kobo.169.1">copyright@packt.com</span></a><span class="koboSpan" id="kobo.170.1"> with a link to </span><span class="No-Break"><span class="koboSpan" id="kobo.171.1">the material.</span></span></p>
<p><strong class="bold"><span class="koboSpan" id="kobo.172.1">If you are interested in becoming an author</span></strong><span class="koboSpan" id="kobo.173.1">: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please </span><span class="No-Break"><span class="koboSpan" id="kobo.174.1">visit </span></span><a href="http://authors.packtpub.com"><span class="No-Break"><span class="koboSpan" id="kobo.175.1">authors.packtpub.com</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.176.1">.</span></span></p>
<h1 id="_idParaDest-12"><a id="_idTextAnchor011"/><span class="koboSpan" id="kobo.177.1">Share Your Thoughts</span></h1>
<p><span class="koboSpan" id="kobo.178.1">Once you’ve read </span><em class="italic"><span class="koboSpan" id="kobo.179.1">Hands-On Design Patterns with C++ (Second Edition)</span></em><span class="koboSpan" id="kobo.180.1">, we’d love to hear your thoughts! </span><span class="koboSpan" id="kobo.180.2">Please </span><a href="https://packt.link/r/1-804-61155-7"><span class="koboSpan" id="kobo.181.1">click here to go straight to the Amazon review page</span></a><span class="koboSpan" id="kobo.182.1"> for this book and share </span><span class="No-Break"><span class="koboSpan" id="kobo.183.1">your feedback.</span></span></p>
<p><span class="koboSpan" id="kobo.184.1">Your review is important to us and the tech community and will help us make sure we’re delivering excellent </span><span class="No-Break"><span class="koboSpan" id="kobo.185.1">quality content.</span></span></p>
<h1 id="_idParaDest-13"><a id="_idTextAnchor012"/><span class="koboSpan" id="kobo.186.1">Download a free PDF copy of this book</span></h1>
<p><span class="koboSpan" id="kobo.187.1">Thanks for purchasing </span><span class="No-Break"><span class="koboSpan" id="kobo.188.1">this book!</span></span></p>
<p><span class="koboSpan" id="kobo.189.1">Do you like to read on the go but are unable to carry your print </span><span class="No-Break"><span class="koboSpan" id="kobo.190.1">books everywhere?</span></span></p>
<p><span class="koboSpan" id="kobo.191.1">Is your eBook purchase not compatible with the device of </span><span class="No-Break"><span class="koboSpan" id="kobo.192.1">your choice?</span></span></p>
<p><span class="koboSpan" id="kobo.193.1">Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at </span><span class="No-Break"><span class="koboSpan" id="kobo.194.1">no cost.</span></span></p>
<p><span class="koboSpan" id="kobo.195.1">Read anywhere, any place, on any device. </span><span class="koboSpan" id="kobo.195.2">Search, copy, and paste code from your favorite technical books directly into </span><span class="No-Break"><span class="koboSpan" id="kobo.196.1">your application.</span></span></p>
<p><span class="koboSpan" id="kobo.197.1">The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your </span><span class="No-Break"><span class="koboSpan" id="kobo.198.1">inbox daily</span></span></p>
<p><span class="koboSpan" id="kobo.199.1">Follow these simple steps to get </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">the benefits:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.201.1">Scan the QR code or visit the link below</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer003">
<span class="koboSpan" id="kobo.202.1"><img alt="" src="image/B19262_QR_Free_PDF.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><a href=""><span class="koboSpan" id="kobo.203.1">https://packt.link/free-ebook/9781804611555</span></a></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.204.1">Submit your proof of purchase</span></li>
<li><span class="koboSpan" id="kobo.205.1">That’s it! </span><span class="koboSpan" id="kobo.205.2">We’ll send your free PDF and other benefits to your email directly</span></li>
</ol>
</div>


<div class="Content" id="_idContainer005">
<h1 id="_idParaDest-14"><a id="_idTextAnchor013"/><span class="koboSpan" id="kobo.1.1">Part 1: Getting Started with C++ Features and Concepts</span></h1>
<p><span class="koboSpan" id="kobo.2.1">This part introduces and explains the features of C++ object-oriented programming, generic programming, and some of the other advanced language tools that are necessary for you to understand the rest of the book. </span><span class="koboSpan" id="kobo.2.2">We also discuss some of the more annoying limitations imposed by the language: many of the patterns we show in the later chapters are nothing but universally recognized solutions to these limitations. </span><span class="koboSpan" id="kobo.2.3">This is not meant as a complete guide for any of the features, but helps make the book more self-contained as a hands-on guide for programmers. </span><span class="koboSpan" id="kobo.2.4">This part has the </span><span class="No-Break"><span class="koboSpan" id="kobo.3.1">following chapters:</span></span></p>
<ul>
<li><a href="B19262_01.xhtml#_idTextAnchor014"><em class="italic"><span class="koboSpan" id="kobo.4.1">Chapter 1</span></em></a><span class="koboSpan" id="kobo.5.1">, </span><em class="italic"><span class="koboSpan" id="kobo.6.1">An Introduction to Inheritance and Polymorphism</span></em></li>
<li><a href="B19262_02.xhtml#_idTextAnchor043"><em class="italic"><span class="koboSpan" id="kobo.7.1">Chapter 2</span></em></a><span class="koboSpan" id="kobo.8.1">, </span><em class="italic"><span class="koboSpan" id="kobo.9.1">Class and Function Templates</span></em></li>
<li><a href="B19262_03.xhtml#_idTextAnchor110"><em class="italic"><span class="koboSpan" id="kobo.10.1">Chapter 3</span></em></a><span class="koboSpan" id="kobo.11.1">, </span><em class="italic"><span class="koboSpan" id="kobo.12.1">Memory and Ownership</span></em></li>
</ul>
</div>
<div>
<div class="Basic-Graphics-Frame" id="_idContainer006">
</div>
</div>
<div>
<div id="_idContainer007">
</div>
</div>
</body></html>