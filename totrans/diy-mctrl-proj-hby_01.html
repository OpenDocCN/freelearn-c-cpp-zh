<html><head></head><body>
		<div id="_idContainer020">
			<h1 id="_idParaDest-15"><em class="italic"><a id="_idTextAnchor014"/>Chapter 1</em>: Introduction to Microcontrollers and Microcontroller Boards</h1>
			<p>In this chapter, you will learn how to set up fundamental software tools for programming microcontrollers, as well as how to use basic electronic components as a starting point for programming examples for beginners. We will begin with a general introduction to <strong class="bold">microcontrollers</strong> and their definitions, as well as their importance and applications in our everyday lives. We will then go on to give a simplified explanation of the digital and analog electronics necessary for the microcontroller projects carried out in the rest of the chapters. Here, we will also explain the basic equipment that may be used in this book's projects. Finally, we will look at a concise description of the <strong class="bold">Blue Pill</strong><span lang="en-US" xml:lang="en-US"> </span>and<span lang="en-US" xml:lang="en-US"> </span><strong class="bold">Curiosity Nano</strong> microcontroller boards to be used throughout this book. </p>
			<p>Specifically, we will cover the following main topics:</p>
			<ul>
				<li>Introduction to microcontrollers</li>
				<li>An overview of analog and digital electronics necessary for carrying out the book's projects</li>
				<li>Description of the Blue Pill and Curiosity Nano microcontroller boards</li>
			</ul>
			<p>We will also cover how to install the necessary software drivers and the <strong class="bold">integrated development environments </strong>(<strong class="bold">IDEs</strong>) for programming the Blue Pill and Curiosity Nano. After completing this introductory chapter, you will be able to apply what you have learned regarding the installation of integrated development environments (a type of software tool) to programming the obligatory <em class="italic">Hello World</em> programs used to make an LED blink. This will run on the Blue Pill and Curiosity Nano using C. Don't worry if you don't know a lot about C programming yet; we have you covered; <a href="B16413_02_Final_NM_ePub.xhtml#_idTextAnchor029"><em class="italic">Chapter 2</em></a>, <em class="italic">Software Setup and C Programming for Microcontroller Boards</em>, includes a gentle but concise C programming tutorial.</p>
			<h1 id="_idParaDest-16"><a id="_idTextAnchor015"/>Technical requirements</h1>
			<p>The two microcontroller boards described in this book (Blue Pill and Curiosity Nano) can be programmed using different IDEs. An IDE is a programming and debugging software tool that includes a code editor, a compiling environment, debugging options, and so on. Many of the IDEs are also used to upload your compiled program to a microcontroller board via a USB port connection.</p>
			<p>These are the IDEs that you will need to install on your computer:</p>
			<ul>
				<li><strong class="bold">Arduino IDE</strong>: This<a id="_idIndexMarker000"/> free IDE was originally created for programming Arduino microcontroller boards, but you can also use it for programming the Blue Pill microcontroller board if you install a library for it.</li>
				<li><strong class="bold">MPLAB ® X IDE</strong>: Made by <a id="_idIndexMarker001"/>Microchip, the Curiosity Nano manufacturer. This is a free IDE necessary for programming the Curiosity Nano.</li>
			</ul>
			<p>We will explain how to install and use those IDEs in this chapter.</p>
			<p>The code used in this chapter can be found at the book's GitHub repository here:</p>
			<p><a href="https://github.com/PacktPublishing/DIY-Microcontroller-Projects-for-Hobbyists/tree/master/Chapter01">https://github.com/PacktPublishing/DIY-Microcontroller-Projects-for-Hobbyists/tree/master/Chapter01</a></p>
			<p>The Code in Action video for this chapter can be found here: <a href="https://bit.ly/3zSOg8O">https://bit.ly/3zSOg8O</a></p>
			<p>For hardware, you will need the following materials:</p>
			<ul>
				<li>A regular LED light – any color will do.</li>
				<li>A 220-ohm resistor; 0.25 watts.</li>
				<li>A solderless breadboard for connecting an LED and a resistor and some male-to-male jumper wires to make the electrical connections between the components and the microcontroller boards.</li>
				<li>A micro USB cable for connecting your microcontroller boards to a computer.</li>
				<li>The Blue Pill and Curiosity Nano boards, of course! There are several vendors and manufacturers of the Blue Pill board, which uses the STM32F103C8T6 microcontroller. In the case of the Curiosity Nano, we use a version called the <em class="italic">PIC16F15376 Curiosity Nano PIC® MCU 8-Bit Embedded Evaluation Board</em>, part number DM164148, manufactured by Microchip. </li>
				<li>A programming adapter <a id="_idIndexMarker002"/>such as the <strong class="bold">ST-Link/V2</strong> is also needed. This electronic interface will allow you to upload the compiled code to the Blue Pill, establishing communication from your computer to the Blue Pill microcontroller board. The ST-Link/V2 needs four female-to-female DuPont wires.</li>
			</ul>
			<p>Some of the sensors used in this book can be found in a sensor kit in the form of practical modules, such as the Kumantech 37-in-1 sensor kit:</p>
			<p><a href="http://www.kumantech.com/kuman-new-version-37-sensor-module-robot-project-starter-kit-for-arduino-r3-mega2560-mega328-nano-uno-raspberry-pi-rpi-3-2-model-b-b-k5_p0017.html">http://www.kumantech.com/kuman-new-version-37-sensor-module-robot-project-starter-kit-for-arduino-r3-mega2560-mega328-nano-uno-raspberry-pi-rpi-3-2-model-b-b-k5_p0017.html</a>.</p>
			<p>This kit can be used with many types of microcontroller boards, including the Blue Pill and the Curiosity Nano. Sometimes, it is convenient to buy a sensor kit like this one for experimenting with its sensor modules. Some other kits include components such as resistors and code examples.</p>
			<h1 id="_idParaDest-17"><a id="_idTextAnchor016"/>Introduction to microcontrollers</h1>
			<p>In this section, we will focus on what a microcontroller is and what its main parts are. It is important to understand what the microcontrollers are capable of and how they are used as a fundamental part of many <strong class="bold">embedded systems</strong>, so they can be used in real-world projects. An embedded system<a id="_idIndexMarker003"/> is a computer subsystem that usually works as part of a larger computer system, for example, a wireless router containing a microcontroller. Let's start with a definition of microcontrollers.</p>
			<p>A <a id="_idIndexMarker004"/>microcontroller (also known as a microcontroller unit, or MCU) is a very small computer system self-contained in <a id="_idIndexMarker005"/>an <strong class="bold">integrated circuit</strong> (<strong class="bold">IC</strong>). It encases all the necessary computing components to execute tasks, computes numeric calculations, reads data from sensors, keeps data and a program in memory, and send data to actuators, among other actions. Most of the microcontrollers perform<strong class="bold"> analog-to-digital</strong> <strong class="bold">conversion (ADC)</strong>, obtaining analog data from sensors and converting it to digital values. More on ADC is explained in <a href="B16413_04_Final_NM_ePub.xhtml#_idTextAnchor053"><em class="italic">Chapter 4</em></a>, <em class="italic">Measuring the Amount of Light with a Photoresistor</em>. Digital values are defined by binary values (1 or 0). The next section explains more about those values.</p>
			<p>Microcontrollers <a id="_idIndexMarker006"/>have an internal clock signal that is like a <em class="italic">heartbeat</em> that coordinates how tasks and other actions are performed in the microcontroller. This clock signal is not as fast as microprocessors (used by desktop computers and laptops), but it is enough for doing basic operations such as reading a sensor or controlling a motor. Their internal memory is limited, but enough for storing a program capable of running a particular task. In general, microcontrollers do not use an external data storage device such as a hard drive. Everything they need to run is encased in their IC. </p>
			<p>An IC is an <a id="_idIndexMarker007"/>electronic circuit densely packaged in a small and flat piece of plastic. It contains many microscopic electronic components and electrically connected pins. ICs are manufactured in different packaging. <strong class="bold">Dual in-line packaging</strong> (<strong class="bold">DIL</strong>) houses<a id="_idIndexMarker008"/> two rows of electrically connecting pins. <strong class="bold">Quad flat packaging</strong> (<strong class="bold">QFP</strong>) includes 8–70 pins per side, useful for <a id="_idIndexMarker009"/>surface mounting soldering. Microcontrollers are encased in ICs, as well as other electronic parts. </p>
			<p>The pins of some microcontrollers are organized into two rows using DIL packaging. Other ICs, such as the STM32 microcontroller, have four rows of pins, which is known as QFP.</p>
			<p>Microcontrollers<a id="_idIndexMarker010"/> are also called <em class="italic">a computer in a chip</em>. They generally have low-power consumption, and, of course, are reduced in size. Some of them are smaller than a fingernail! Microcontrollers are generally used to perform a specific task and execute one particular application, such as controlling the internal functions of a coffee maker, one at a time. Microcontrollers are applied in situations where dedicated and limited computer functions are needed. </p>
			<h2 id="_idParaDest-18"><a id="_idTextAnchor017"/>Microcontroller boards</h2>
			<p>A <strong class="bold">microcontroller board</strong> is <a id="_idIndexMarker011"/>an electronic circuit containing a microcontroller and other supporting components such as voltage dividers/shifters, a USB interface, connection pins, resistors, capacitors, and an external clock. </p>
			<p>The purpose of microcontroller boards is to facilitate the connection of external devices, sensors, and actuators to microcontrollers, accelerating project prototyping. For example, the Blue Pill microcontroller board contains its microcontroller at its center, and it has some other components supporting its functions.</p>
			<p>Microcontroller boards <a id="_idIndexMarker012"/>such as the<a id="_idIndexMarker013"/> Blue Pill have <strong class="bold">input/output (I/O) ports</strong>, or pins, where sensors, motors, and other electronic<a id="_idIndexMarker014"/> components and devices are connected to them. The boards will either read or send data to them through the ports. The boards also have useful pins such as the ground and voltage pins, so sensors and other components can be connected to them to work. Some I/O pins read analog voltages coming from sensors or send analog voltages to actuators (for example, motors), and others are digital pins used for reading and sending digital voltages, typically 0 and 5 volts, or 0 and 3.3 volts. All computers (including microcontrollers) work internally with digital binary numbers containing 0s and 1s. The binary value 0 is represented by 0 volts, and the binary value 1 is represented by either 3.3 or 5 volts. For example, a digital value (1) sent to a digital port could turn on an LED connected to it.</p>
			<p>The next section defines what electronics is, and what are analog and digital electronics. These definitions are important in understanding how some electronic components and electronic circuits work, which will be used in this book's chapters.</p>
			<h1 id="_idParaDest-19"><a id="_idTextAnchor018"/>An overview of analog and digital electronics necessary for carrying out the book's projects</h1>
			<p><strong class="bold">Electronics</strong> is the <a id="_idIndexMarker015"/>branch of technology and physics concerning the emission and behavior of electrons moving in a conductor, semiconductor, gas, or vacuum. Electronics also deals with the design of electronic circuits and devices. <em class="italic">Figure 1.1</em> shows a diagram of a basic electronic circuit consisting of a power source (the batteries), a resistor, and a light source (a light-emitting diode, or LED):</p>
			<div>
				<div id="_idContainer004" class="IMG---Figure">
					<img src="image/Figure_1.1_B16413.jpg" alt="Figure 1.1 – An example of an electronic circuit"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.1 – An example of an electronic circuit</p>
			<p>The electrons flow from the battery's negative (black) terminal through the circuit passing through the LED illuminating it. Don't worry if you don't understand this circuit and its components yet. We will review these in the next paragraphs, and we will use them in other chapters. Analog electronics<a id="_idIndexMarker016"/> are electronic circuits that provide and process continuous variable voltage signals, for example, analog voltages that change from 0 to 3.3 volts. Conversely, digital electronics<a id="_idIndexMarker017"/> provide and process discrete voltage signals that represent binary values. For example, 0 volts represents a <strong class="source-inline">0</strong> in binary, and 3.3 volts represents a <strong class="source-inline">1</strong> in binary, and no other voltages are used in between. This is how computers and microcontrollers work internally at the lowest level. Microcontrollers convert analog values to digital values internally in order to process incoming signals and then process them digitally. This<a id="_idIndexMarker018"/> is called <strong class="bold">analog-to-digital conversion</strong> (<strong class="bold">ADC</strong>). We will need to understand four key electronics terms that will be covered in other chapters, which are standard units used to measure the flow of electrons:</p>
			<ul>
				<li><strong class="bold">Current</strong>: Current<a id="_idIndexMarker019"/> is the rate of flow of electrons in a circuit. Electrons flow through a conductive material from the negative pole of a power source (such as a battery) to its positive pole. This is known as <strong class="bold">direct current</strong> (<strong class="bold">DC</strong>). The <a id="_idIndexMarker020"/>negative side is called ground (GND, or G), sometimes also called earth. Current is measured in amperes or <em class="italic">amps</em>, denoted by the letter <em class="italic">I</em> or <em class="italic">i</em>.</li>
				<li><strong class="bold">Voltage</strong>: This is <a id="_idIndexMarker021"/>an electrical measurement of the difference in potential energy between the positive and negative poles of a power source in an electronic circuit. It is measured in volts (V). It is considered as the <em class="italic">pressure</em> from an electrical circuit's power source <em class="italic">pushing</em> charged electrons (current) through an electric/electronic circuit.</li>
				<li><strong class="bold">Power</strong>: Power is <a id="_idIndexMarker022"/>a rate measurement of how an electric or electronic circuit or device converts energy from one form to another. Power is measured in watts (W). For example, a 60 W lightbulb is brighter than a 40 W lightbulb because the 60 W lightbulb converts electrical energy into light at a higher rate.</li>
				<li><strong class="bold">Resistance</strong>: The electrical resistance<a id="_idIndexMarker023"/> of an electrical conductor is the measurement of the difficulty of the electrons in passing an electric current through the conductor. It is measured in ohms, denoted by the Greek letter Omega (Ω). Ohm's law describes the conductivity of many electrically conductive materials. It establishes that the current between two points in a conductor is directly proportional to the voltage across the two points, where its resistance is constant. This law can be mathematically described as I=V/R, and it is very useful for calculating either current, voltage, or resistance in an electronic circuit.</li>
			</ul>
			<p>In this section, we have covered fundamental standard measurement units used in electronic circuits that you will apply in all the chapters of this book. The next section deals with important electronic components that you will also need to know before starting experimenting with electronic circuits and microcontroller boards.</p>
			<h2 id="_idParaDest-20"><a id="_idTextAnchor019"/>Basic electronic components</h2>
			<p>The following are electronic components<a id="_idIndexMarker024"/> commonly used in many microcontroller board projects and in most of the projects described in this book. They allow us to control the current in electronic circuits. We will review four main electronic components: the <strong class="bold">resistor</strong>, the <strong class="bold">diode</strong>, the <strong class="bold">capacitor</strong>, and the <strong class="bold">transistor</strong>.</p>
			<h3>The resistor</h3>
			<p><strong class="bold">Resistors</strong> are generally<a id="_idIndexMarker025"/> used to reduce the flow of electrons in an electronic circuit. Resistance <a id="_idIndexMarker026"/>is useful for allowing<a id="_idIndexMarker027"/> some components such as LEDs to work properly in a circuit without burning them. The level of resistance in a resistor can be either <em class="italic">fixed</em> or <em class="italic">variable</em>. Some resistors can range from one to thousands of ohms (kilo-ohms or kΩ) to millions of ohms (mega-ohms or MΩ). Resistors are also measured by their power rating measured in watts. This refers to how much current they tolerate without overheating and then failing. </p>
			<p><em class="italic">Figure 1.2</em> shows how to read the values of a resistor:</p>
			<div>
				<div id="_idContainer005" class="IMG---Figure">
					<img src="image/Figure_1.2_B16413.jpg" alt="Figure 1.2 – A chart showing how to calculate a resistor value. Image source: &quot;Resistor Color Code&quot;, by Adim Kassn, licensed under CC-BY-SA-3.0"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.2 – A chart showing how to calculate a resistor value. Image source: "Resistor Color Code", by Adim Kassn, licensed under CC-BY-SA-3.0 </p>
			<p class="callout-heading">Important note</p>
			<p class="callout">As <a id="_idIndexMarker028"/>shown in <em class="italic">Figure 1.2</em>, the band<a id="_idIndexMarker029"/> colors are:</p>
			<p class="callout">0: Black</p>
			<p class="callout">1: Brown</p>
			<p class="callout">2: Red</p>
			<p class="callout">3: Orange</p>
			<p class="callout">4: Yellow</p>
			<p class="callout">5: Green</p>
			<p class="callout">6: Blue</p>
			<p class="callout">7: Violet</p>
			<p class="callout">8: Silver</p>
			<p class="callout">9: White</p>
			<p class="callout">The 1% tolerance band is colored brown, the 2% is colored red, the 5% is colored gold, and the 10% is colored silver. You can access the chart in color via this link: <a href="https://commons.wikimedia.org/wiki/File:Resistor_color_code.png">https://commons.wikimedia.org/wiki/File:Resistor_color_code.png</a>.</p>
			<p>Common <a id="_idIndexMarker030"/>resistors have four color bands (some have five color bands, but this is rarely used in general electronic circuits) determining their ohm values:</p>
			<ol>
				<li>The first band indicates the<a id="_idIndexMarker031"/> first digit in its ohm value.</li>
				<li>The second band shows the second digit.</li>
				<li>The third band indicates the third digit (which is typically the number of zeros).</li>
				<li>The fourth band determines the resistor tolerance, which is a degree of resistance precision. For example, if the band is colored silver, this means that the resistor will have a 10% tolerance change according to its marked value. </li>
			</ol>
			<p>Many resistors used in microcontroller board projects use ¼ watt resistors, which are enough for simple applications. </p>
			<h2 id="_idParaDest-21"><a id="_idTextAnchor020"/>The diode</h2>
			<p>The <strong class="bold">diode</strong> is an<a id="_idIndexMarker032"/> electronic<a id="_idIndexMarker033"/> component that allows the flow of current in one direction only. Current in a circuit flows into a diode via its <strong class="bold">anode (+)</strong> and<a id="_idIndexMarker034"/> flows out <a id="_idIndexMarker035"/>through its <strong class="bold">cathode (-)</strong>. Diodes are generally used to protect parts of an electronic circuit against reverse current flow. They also help to<a id="_idIndexMarker036"/> convert <strong class="bold">alternate current</strong> (<strong class="bold">AC</strong>) to DC, among other applications. Diodes are also used to protect microcontroller boards when we connect motors to them to avoid voltage <em class="italic">flyback</em>. This happens when a sudden voltage spike happens across a motor when its supply current is suddenly interrupted or reduced. However, diodes cause a drop in the voltage of around 0.7 V. Diodes are manufactured to handle a certain amount of amperes (current) and voltage. For example, the 1N4004 diode is rated to handle 1 ampere (A) and 400 volts (V), much higher than we will be using in our book's projects. The band around the diode indicates the cathode, generally connected to the ground terminal of a power source. The other pin is the anode, generally connected to the positive (+) terminal of the power source. A common type of diode is the <strong class="bold">light-emitting diode (LED)</strong>, which glows when there is a flow of electrons passing through it. They come in different sizes, colors, and shapes. As with regular diodes, LEDs are polarized, so the current enters and leaves the LED in one direction. If too much current passes through the LED, this will damage it. You will need to connect a resistor in series to reduce its current and thus protect it. A resistor with a value of at least 220 ohms should be enough for many microcontroller board applications.</p>
			<h3>The capacitor</h3>
			<p>This is an electronic <a id="_idIndexMarker037"/>component that temporarily holds (stores) an electric charge. Once the <a id="_idIndexMarker038"/>current stops flowing through the capacitor, the charge remains in it and it can be discharged as soon as the capacitor is connected to a circuit. The amount of charge that a capacitor can store is measured in farads (f). Since a farad is a very large amount, many capacitors are made with less than one farad. Capacitors accept certain voltage maximums. 10, 16, 25, and 50 V capacitors are common in <a id="_idIndexMarker039"/>microcontroller applications. There are two<a id="_idIndexMarker040"/> types: <strong class="bold">monolithic</strong> (they don't have polarity) and <strong class="bold">electrolytic</strong> (they have polarity). </p>
			<p>Electrolytic capacitors are bigger than monolithic capacitors, and their polarity is shown as a band on one side marking the cathode pin and another band marking the anode pin. Remember that the cathode pin is connected to the ground terminal of the power source and the anode is connected to the positive voltage terminal of the power source. Typical values of electrolytic capacitors range from 1 microfarad up to 47,000 microfarads. Capacitors can be used in microcontroller board projects for filtering out (cleaning up) digital or analog signals (removing electrical noise), they can convert alternate voltage to direct voltage, and so on. Be very careful when you're using polarized (electrolytic) capacitors! They can hold lots of energy. You should never touch its legs (pins), short circuit, or <a id="_idIndexMarker041"/>connect them in reverse. Make sure you connect an electrolytic capacitor in a project <a id="_idIndexMarker042"/>by connecting its positive (+) pin to the positive pole of the circuit's <strong class="bold">power supply</strong> (an electronic/electric component that supplies steady power to an electronic circuit or electrical device) and by connecting the capacitor's negative pin to the negative pole of the circuit's power supply. Respect its polarity. If you connect them in reverse (wrong polarity), they will be damaged and can explode. Monolithic (ceramic) capacitors do not have polarity. It doesn't matter how their legs (pins) are connected in the circuit. The typical capacity range of capacitors is from 0.5 picofarads up to 1 microfarad.</p>
			<h3>The transistor</h3>
			<p>A transistor can <a id="_idIndexMarker043"/>act as a very fast digital switch. Transistors are useful for switching on or off other circuits or devices that <a id="_idIndexMarker044"/>require a high current, such as motors and fans. It can also be used as a current amplifier and to form logic gates (<strong class="bold">AND</strong>, <strong class="bold">OR</strong>, <strong class="bold">NOT</strong>, and so on); this current is also called a load. Popular and <a id="_idIndexMarker045"/>inexpensive examples are the <strong class="bold">BC548</strong> and <strong class="bold">2N2222</strong> transistors. Transistors<a id="_idIndexMarker046"/> are made to hold a certain amount of current and voltage (for example, the BC548 transistor holds a maximum current of 100 mA and 30 V).</p>
			<p><em class="italic">Figure 1.3</em> shows the basic electronic components explained in this section:</p>
			<div>
				<div id="_idContainer006" class="IMG---Figure">
					<img src="image/Figure_1.3_B16413.jpg" alt="Figure 1.3 – Electronic components (shown from left to right): a resistor, a diode, an LED, a monolithic capacitor, and a transistor"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.3 – Electronic components (shown from left to right): a resistor, a diode, an LED, a monolithic capacitor, and a transistor</p>
			<p>The next section describes a tool called the solderless breadboard, which is very useful for interconnecting electronic components and microcontroller boards. </p>
			<h2 id="_idParaDest-22"><a id="_idTextAnchor021"/>The solderless breadboard</h2>
			<p>Another very useful <a id="_idIndexMarker047"/>piece that you can use in microcontroller board projects is the solderless breadboard, shown in <em class="italic">Figure 1.4</em>. It is used for the rapid prototyping of electronic circuits. Its plastic base has rows of electrically connected sockets, coming in many sizes, shapes, and colors:</p>
			<div>
				<div id="_idContainer007" class="IMG---Figure">
					<img src="image/Figure_1.4_B16413.jpg" alt="Figure 1.4 – The breadboard's interconnection of columns and rows"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.4 – The breadboard's interconnection of columns and rows</p>
			<p>Bear in mind that if you insert two wires in one vertical row, then they will be electrically connected. The horizontal<a id="_idIndexMarker048"/> rows marked with <strong class="bold">–</strong> and <strong class="bold">+</strong> signs are electrically connected horizontally, as shown in <em class="italic">Figure 1.4</em>. </p>
			<p>This section described important and useful electronic components such as resistors and LEDs, which are commonly used in electronic projects involving microcontroller boards. The next section describes the Blue Pill and Curiosity Nano microcontroller boards used in this book.</p>
			<h1 id="_idParaDest-23"><a id="_idTextAnchor022"/>Description of the Blue Pill and Curiosity Nano microcontroller boards</h1>
			<p>This section explains the <a id="_idIndexMarker049"/>Blue Pill and Curiosity Nano microcontroller boards, shown in the following photos. The holes from their upper and lower rows will be connected to the header pin, and most of them are the ports. <em class="italic">Figure 1.5</em> shows the Blue Pill microcontroller board showing the STM32 microcontroller chip at the center:</p>
			<div>
				<div id="_idContainer008" class="IMG---Figure">
					<img src="image/Figure_1.5_B16413.jpg" alt="Figure 1.5 – The Blue Pill microcontroller board"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.5 – The Blue Pill microcontroller board</p>
			<p><em class="italic">Figure 1.6</em> is a closeup of the <a id="_idIndexMarker050"/>Curiosity Nano microcontroller board. Notice its PIC16F15376 microcontroller chip shown at the center:</p>
			<div>
				<div id="_idContainer009" class="IMG---Figure">
					<img src="image/Figure_1.6_B16413.jpg" alt="Figure 1.6 – The Curiosity Nano microcontroller board"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.6 – The Curiosity Nano microcontroller board</p>
			<p>The black <em class="italic">rhombus</em> components<a id="_idIndexMarker051"/> at the center of the boards are the microcontrollers. Both boards from the previous photos do not yet have header pins. The reason is that in some projects, it is necessary to solder wires and electronic components directly to a headless board, although in this book you won't need to do that. However, some Curiosity Nano boards allow the pins to be inserted and stay firmly in place without soldering them. In addition, you can buy the Blue Pill with the header pins already soldered. Alternatively, you can solder the header pins to both the <a id="_idIndexMarker052"/>Blue Pill and Curiosity Nano boards. Here is a tutorial on how to solder electronics components:<a href=" https://www.makerspaces.com/how-to-solder/"> https://www.makerspaces.com/how-to-solder/</a>.</p>
			<p><em class="italic">Figure 1.7</em> shows the Blue Pill microcontroller board upside down with the header pins already soldered to it and a separate row of pins:</p>
			<div>
				<div id="_idContainer010" class="IMG---Figure">
					<img src="image/Figure_1.7_B16413.jpg" alt="Figure 1.7 – A Blue Pill showing its pins already soldered to it"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.7 – A Blue Pill showing its pins already soldered to it</p>
			<p>Once the boards have the header pins in place, you can insert them in solderless breadboards and start prototyping with them without the need for soldering wires or components directly to the boards, which is how we will use them in the projects of this book.</p>
			<p>We have selected these microcontroller boards for this book because they are inexpensive, versatile (you can connect different types of sensors, LED lights, motors, and so on, to them), and are reasonably easy to program and use. Microcontroller boards greatly facilitate building prototypes in a short time. You can also apply them in COVID-19- related projects, as we will review this at various points through the book.</p>
			<p>In addition, it is always good to learn about boards that use microcontrollers from different families and manufacturers because each one has different capabilities and strengths. The Blue Pill has a microcontroller from the STM32 microcontroller family, and the<a id="_idIndexMarker053"/> Curiosity Nano works with a microcontroller from the PIC family. </p>
			<p>The<a id="_idIndexMarker054"/> Blue Pill has 37 general-purpose I/O pins, including ports PA0 – PA15, PB0 – PB15, and PC13 – PC15. For example, the I/O port PC13 is labeled as <em class="italic">C13</em> on the Blue Pill.</p>
			<p>The Curiosity Nano has 35 GPIO ports, including RA0, R1, RA2, RA3, RA4, RA5, RB0, RB3, RB4, RC7, RD0, RD1, RD2, RD3, RC2, RC3, RB2, RB1, RC4, RC5, RC6, and RD4, among others. We will review the programming of those ports in <a href="B16413_02_Final_NM_ePub.xhtml#_idTextAnchor029"><em class="italic">Chapter 2</em></a>, <em class="italic">Software Setup and C Programming for Microcontroller Boards</em>. <em class="italic">Table 1.1</em> shows technical specifications of the two microcontroller boards used in this book:</p>
			<div>
				<div id="_idContainer011" class="IMG---Figure">
					<img src="image/Table_1.1_B16413.jpg" alt="Table 1.1 – Blue Pill and the Curiosity Nano's technical specifications"/>
				</div>
			</div>
			<p class="figure-caption">Table 1.1 – Blue Pill and the Curiosity Nano's technical specifications</p>
			<p>Both the Blue Pill and the curiosity Nano run at a much higher speed than most of the Arduino microcontrollers. For example, the Arduino Uno microcontroller board runs at 16 MHz. </p>
			<h2 id="_idParaDest-24"><a id="_idTextAnchor023"/>Installing the IDEs</h2>
			<p>Next, we will explain the <a id="_idIndexMarker055"/>necessary steps to install and use the IDEs for programming the Curiosity Nano and the Blue Pill microcontroller boards.</p>
			<h3>Installing the MPLAB X IDE for the Curiosity Nano board</h3>
			<p>The next steps<a id="_idIndexMarker056"/> show how to download and install the<a id="_idIndexMarker057"/> MPLAB X tool, which is used for programming the Curiosity Nano. This section also explains the main parts of the MPLAB X IDE:</p>
			<ol>
				<li value="1">You should sign in first to the free myMicrochip service (Microchip is the manufacturer of the Curiosity Nano). Fill out the registration form on this web page: <a href="https://www.microchip.com/wwwregister/RegisterStep1.aspx">https://www.microchip.com/wwwregister/RegisterStep1.aspx</a>.</li>
				<li>Once you're registered, download the MPLAB X IDE from this link: <a href="https://www.microchip.com/mplab/mplab-x-ide">https://www.microchip.com/mplab/mplab-x-ide</a>.</li>
				<li>Go to the <strong class="bold">Downloads</strong> tab and download the IDE according to the operating system that you are using.</li>
				<li>Once you have downloaded the installer, follow these instructions for installing the MPLAB X IDE: <a href="https://microchipdeveloper.com/mplabx:installation">https://microchipdeveloper.com/mplabx:installation</a>.</li>
				<li>You will also need to download and install the free XC8 C compiler for programming the Curiosity Nano. Open this link: <a href="https://www.microchip.com/mplab/compilers">https://www.microchip.com/mplab/compilers</a>.</li>
				<li>Then, go to the <strong class="bold">Compiler Downloads</strong> tab and download an installer file according to your operating system.</li>
				<li>Download the latest version of the XC8 compiler from there. This version is suitable for programming the PIC16F15376 microcontroller that comes with the Curiosity Nano used in this book. Follow the instructions for installing the XC8 compiler here: <a href="https://microchipdeveloper.com/xc8:installation">https://microchipdeveloper.com/xc8:installation</a>.</li>
			</ol>
			<p>It may take <a id="_idIndexMarker058"/>some time to download the XC8 compiler, so<a id="_idIndexMarker059"/> be patient. The next section describes commonly used components from the MPLAB X IDE.</p>
			<h4>Understanding the main components of the MPLAB X IDE</h4>
			<p>This section describes the main <a id="_idIndexMarker060"/>parts of the IDE that you will use to edit your program, compile it, and so on. </p>
			<p><em class="italic">Figure 1.8</em> is a screenshot of the MPLAB X IDE:</p>
			<div>
				<div id="_idContainer012" class="IMG---Figure">
					<img src="image/Figure_1.8_B16413.jpg" alt="Figure 1.8 – MPLAB X IDE's main parts"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.8 – MPLAB X IDE's main parts</p>
			<p>The main parts described in <em class="italic">Figure 1.8</em> include the text editor (code area), which will be used in other chapters of this book. One of the most important buttons in the IDE is the <strong class="bold">Run</strong> button, which compiles, runs, and uploads the binary (compiled) file to the Curiosity Nano board. </p>
			<p>Here are the steps for starting a new coding project:</p>
			<ol>
				<li value="1">Click on <strong class="bold">File/New Project</strong> to create a new project. </li>
				<li>Click on the <strong class="bold">Code</strong> tab and start writing your code in the code area. </li>
				<li>Click on the <strong class="bold">Run</strong> icon to compile and upload your code to the microcontroller board. The console will show messages on the process and establish whether everything went to plan.</li>
			</ol>
			<p>Unlike other <a id="_idIndexMarker061"/>microcontroller boards such as the Blue Pill, you need to configure input and output ports in the Curiosity Nano microcontroller board previous to its use. You do this using a special plugin called the <strong class="bold">MPLAB X Code Configurator</strong> (<strong class="bold">MCC</strong>). You should install the MCC plugin for the MPLAB X IDE. The MCC is a free graphical programming environment that facilitates the configuration of the microcontroller ports, among other applications. It will generate C programming header libraries necessary for reading data from, and writing data to, the microcontroller ports. </p>
			<p>This web page explains how to install the<a id="_idIndexMarker062"/> MCC in the MPLAB X IDE: <a href="https://www.microchip.com/mplab/mplab-code-configurator">https://www.microchip.com/mplab/mplab-code-configurator</a>.</p>
			<p>The easiest way to install it is by clicking on <strong class="bold">Tools/Plugins</strong> on the MPLAB X IDE's main menu, and then downloading and installing it from there.</p>
			<p>We have now created an MPLAB X project template where we have configured input and output ports for the Curiosity Nano, as well as handling digital and analog data on them. We already used the MCC plugin to set up the I/O ports so you may no longer need to use the MCC plugin for the projects explained in this book and for other projects. It is a convenient template since it has all the necessary libraries for handling the input and output C-programming functions for some of the Curiosity Nano ports. We will review these libraries and the C-programming functions in <a href="B16413_02_Final_NM_ePub.xhtml#_idTextAnchor029"><em class="italic">Chapter 2</em></a>, <em class="italic">Software Setup and C Programming for Microcontroller Boards</em>. The template project is called <strong class="source-inline">16F15376_Curiosity_Nano_IOPorts.zip</strong> and is stored on our GitHub's main page.</p>
			<p>Just download the zip file, unzip it, and open the project in MPLAB X.</p>
			<h3>Installing the Arduino IDE and the Blue Pill library</h3>
			<p>You can use the <a id="_idIndexMarker063"/>Arduino IDE for programming the Blue Pill microcontroller board. Perform the following steps to install the Arduino IDE:</p>
			<ol>
				<li value="1">Download the Arduino IDE from its official website for Windows, macOS, or Linux from this site: <a href="https://www.arduino.cc/en/main/software">https://www.arduino.cc/en/main/software</a>. Don't forget to download the correct IDE installer for your operating system.</li>
				<li>Run the installer that you just downloaded and follow the onscreen instructions.</li>
				<li>Identify the<a id="_idIndexMarker064"/> Arduino IDE's main options. </li>
			</ol>
			<p><em class="italic">Figure 1.9</em> shows the Arduino IDE and its main parts and areas. The console is a useful component where the IDE shows error or warning messages. The status bar shows the program compilation and uploading status:</p>
			<div>
				<div id="_idContainer013" class="IMG---Figure">
					<img src="image/Figure_1.9_B16413.jpg" alt="Figure 1.9 – Arduino IDE's main parts"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.9 – Arduino IDE's main parts</p>
			<p><em class="italic">Figure 1.9</em> shows the main parts of the Arduino IDE, including its code editor, status bar, menu bar, and console. One of the most commonly used features is the <strong class="bold">Upload</strong> button, which compiles your program and uploads its compiled code to the Blue Pill. The following steps show how to upload a program to the Blue Pill and how to install a necessary library in the<a id="_idIndexMarker065"/> IDE:</p>
			<ol>
				<li value="1">Open an example program by clicking on <strong class="bold">File/Examples/01.Basics/Blink</strong> from the Arduino's menu bar. This will help you to get familiar with the Arduino IDE. A program called <em class="italic">Blink</em> will open. Click on the <strong class="bold">Verify</strong> button to compile it and generate the binary file for the microcontroller board. The <strong class="bold">Upload</strong> button will verify, compile, generate the binary file, and then upload the file to the microcontroller board. </li>
				<li>Before uploading a program to the Blue Pill, you will need to install a library on the Arduino IDE for programming the Blue Pill. To install the Blue Pill library, click on <strong class="bold">File/Preferences</strong> from the IDE's <strong class="bold">Menu</strong> bar. Then, a new window will appear. Click on the small window icon to the right of the <strong class="bold">Additional Boards Manager URLs</strong> and add this link for installing the library: <a href="http://dan.drown.org/stm32duino/package_STM32duino_index.json">http://dan.drown.org/stm32duino/package_STM32duino_index.json</a>, as shown in <em class="italic">Figure 1.10</em>:<div id="_idContainer014" class="IMG---Figure"><img src="image/Figure_1.10_B16413.jpg" alt="Figure 1.10 – The IDE's preferences option for writing the link's library"/></div><p class="figure-caption">`</p><p class="figure-caption">Figure 1.10 – The IDE's preferences option for writing the link's library</p></li>
				<li>Click <strong class="bold">OK</strong> in the <a id="_idIndexMarker066"/>top window shown in <em class="italic">Figure 1.10</em> (<strong class="bold">Additional Boards Manager URLs</strong>), and then click on the <strong class="bold">OK</strong> button in the <strong class="bold">Preferences</strong> window.</li>
				<li>Now, on the <strong class="bold">Menu</strong> bar, go to <strong class="bold">Tools/Board/Boards Manager</strong>. This will open the <strong class="bold">Boards Manager</strong> dialog box. </li>
				<li>Make sure that you select <strong class="bold">All</strong> in the <strong class="bold">Type</strong> field. In the <strong class="bold">Boards Manager</strong>, search for <strong class="source-inline">STM32F1xx</strong>, and just install the package that appears on the box. </li>
				<li>Close that box and click on <strong class="bold">Tools/Board/STM32F1 Boards</strong> and then select the <strong class="bold">Generic STM32F103C series</strong> option, as shown in the following screenshot. Make sure its variant is <strong class="bold">64k Flash</strong>, the upload method is <strong class="bold">STLINK</strong>, and its CPU speed is <strong class="bold">72MHz, Optimize: Smallest</strong>. <em class="italic">Figure 1.11</em> shows the Blue Pill configuration in the IDE:</li>
			</ol>
			<div>
				<div id="_idContainer015" class="IMG---Figure">
					<img src="image/Figure_1.11_B16413.jpg" alt="Figure 1.11 – The Tools menu with the necessary options for the Blue Pill"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.11 – The Tools menu with the necessary options for the Blue Pill</p>
			<p>The IDE<a id="_idIndexMarker067"/> should be ready to start coding for the Blue Pill. Before that, we need to install an interface<a id="_idIndexMarker068"/> called <strong class="bold">ST-Link/V2</strong> to flash (upload) our code to the Blue Pill. We cannot upload our compiled program directly to the Blue Pill, as with other microcontroller boards, through the micro-USB cable. One easy way to do this is to use the ST-Link/V2 interface, which is a <strong class="bold">Single Wire Interface Module</strong> (<strong class="bold">SWIM</strong>) using <a id="_idIndexMarker069"/>only four wires.</p>
			<p>The ST-Link/V2 is a USB interface that is used for programming and debugging STM32 microcontroller applications and is mainly used for uploading a program to the Blue Pill microcontroller board. </p>
			<p>Before connecting the ST-Link/V2, you will need to install its driver on your computer. The following explains how to install the ST-Link/V2 driver for Windows. Download the driver from here: <a href="https://www.st.com/en/development-tools/stsw-link009.html">https://www.st.com/en/development-tools/stsw-link009.html</a>.</p>
			<p>Download and uncompress the zip file and run either <strong class="source-inline">dpinst_amd64.exe</strong> or <strong class="source-inline">dpinst_x86.exe</strong>, depending on whether you are using a 32-bit or 64-bit computer. Most of the recent ones are 64 bits. Follow the displayed instructions on how to install its driver.</p>
			<p>Here are the instructions for installing the ST-Link/V2<a id="_idIndexMarker070"/> on macOS: <a href="https://www.st.com/en/development-tools/stsw-link007.html#overview">https://www.st.com/en/development-tools/stsw-link007.html#overview</a>.</p>
			<p>Here are the instructions for installing the ST-Link/V2 <a id="_idIndexMarker071"/>on Linux: <a href="https://freeelectron.ro/installing-st-link-v2-to-flash-stm32-targets-on-linux/">https://freeelectron.ro/installing-st-link-v2-to-flash-stm32-targets-on-linux/</a>.</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">If you run the Arduino IDE on Linux, run the IDE as root to get USB access privileges.</p>
			<p class="callout">Alternatively, you can try this open source toolset for installing the ST-Link/V2 on Windows, macOS, or Linux: <a href="https://github.com/stlink-org/stlink">https://github.com/stlink-org/stlink</a>.</p>
			<p>The <a id="_idIndexMarker072"/>Arduino IDE provides a serial monitor, accessed by clicking on <strong class="bold">Tools/Serial Monitor</strong> from the IDE's main menu. It will show data sent from the Blue Pill to the USB serial port by using special coding functions. <a href="B16413_05_Final_NM_ePub.xhtml#_idTextAnchor069"><em class="italic">Chapter 5</em></a>, <em class="italic">Humidity and Temperature Measurement</em>, explains how to use the serial monitor. It can be used to show on the computer screen data obtained from sensors, values of variables, and other similar operations. </p>
			<p>The next section describes how to run a simple program that will make an LED blink once a second using both the MPLAB and the Arduino IDEs. This will be a practical example to get you familiar with programming the Blue Pill and the Curiosity Nano boards. </p>
			<h1 id="_idParaDest-25"><a id="_idTextAnchor024"/>Your first project – a blinking LED</h1>
			<p>This small project <a id="_idIndexMarker073"/>demonstrates how to connect an LED to a microcontroller board and how to program one of their I/O ports so that you can turn the LED on, wait for 1 second (1,000 milliseconds), turn the LED off, wait another second, and turn the LED on, in an endless loop. </p>
			<p>The project also demonstrates how to upload a compiled program to a microcontroller board. This is an important starter project, since you can later reuse this code for sending a signal to a port and controlling a more complex application, such as a fan. This is like a <em class="italic">Hello World</em> project for microcontroller boards! We will run this project for both the Blue Pill and the Curiosity Nano microcontroller boards using their respective IDEs. </p>
			<h2 id="_idParaDest-26"><a id="_idTextAnchor025"/>Running the blinking LED example with the Blue Pill board</h2>
			<p>This small <a id="_idIndexMarker074"/>project demonstrates how to<a id="_idIndexMarker075"/> turn an LED on for 1 second, and then off for 1 second, repeatedly. Of course, it also demonstrates how to declare and use an I/O port from the Blue Pill as an output.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Before you start, be careful when you manipulate the Blue Pill and Curiosity Nano boards. They can be damaged by your body's static electricity, so you should touch a big metallic area such as a desk frame before manipulating them. You can also wear an anti-static wrist strap. By doing that you are discharging your static electricity. As a general rule, avoid touching the header pins with your bare hands.</p>
			<p>We will now look at how to connect the electronic components to the solderless breadboard and the Blue Pill:</p>
			<ol>
				<li value="1">You will need to insert the Blue Pill board into the breadboard. Do it carefully, since the header pins may bend.</li>
				<li>Connect the LED to the breadboard. Now, connect one pin of the 220-ohm resistor to the longest pin (leg) of the LED, as shown in the following diagram. Connect the other pin of the resistor to the pin labeled <em class="italic">C13</em> of the Blue Pill.</li>
				<li>Connect the shortest pin of the LED to the ground pin labeled <em class="italic">G</em> or <em class="italic">GND</em> of the Blue Pill using a wire. Remember that the holes of each column of the breadboard are internally connected. </li>
				<li>Now, connect the ST-Link/V2 module pins to the Blue Pill pins as follows. The ST-Link/V2 pins are labeled on one of its sides. The Blue Pill's pins are labeled on its bottom side.</li>
				<li>Connect the <a id="_idIndexMarker076"/>Blue Pill's CLK pin to the ST-Link/V2's SWCLK pin.</li>
				<li>Connect the<a id="_idIndexMarker077"/> Blue Pill's DIO pin to the ST-Link/V2's SWDIO pin.</li>
				<li>Connect the Blue Pill's GND pin to the ST-Lin/V2's GND pin</li>
				<li>Connect the Blue Pill's 3V3 pin to the ST-Link/V2's 3.3 V pin.</li>
			</ol>
			<p>The connections between the ST-Link/V2 and the Blue Pill are shown in <em class="italic">Figure 1.12</em>:</p>
			<div>
				<div id="_idContainer016" class="IMG---Figure">
					<img src="image/Figure_1.12_B16413.jpg" alt="Figure 1.12 – The Blue Pill, LED, and ST-Link/V2 connections"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.12 – The Blue Pill, LED, and ST-Link/V2 connections</p>
			<p><em class="italic">Figure 1.12</em> shows the connections we have made. Please note that here there are four DuPont wires connected between the Blue Pill and the ST-Link/V2. <em class="italic">Figure 1.13</em> shows a photo of the connections between the Blue Pill and the ST-Link/V2:</p>
			<div>
				<div id="_idContainer017" class="IMG---Figure">
					<img src="image/Figure_1.13_B16413.jpg" alt="Figure 1.13 – The Blue Pill connections, including the ST-Link/V2"/>
				</div>
			</div>
			<p class="figure-caption">Figure 1.13 – The Blue Pill connections, including the ST-Link/V2</p>
			<p>Once you have<a id="_idIndexMarker078"/> connected the Blue Pill to the <a id="_idIndexMarker079"/>ST-Link/V2, we will continue as follows:</p>
			<ol>
				<li value="1">Plug in the ST-Link/V2 to your computer. Also, disconnect the micro-USB cable from the Blue Pill (the white cable from the picture). You don't need this for uploading the program to the Blue Pill.</li>
				<li>Download the program called <strong class="source-inline">Blink_Blue_Pill.ino</strong> from the <strong class="source-inline">Chapter 1</strong> folder located in the book's GitHub repository.</li>
				<li>Download the <strong class="source-inline">.ino</strong> file from GitHub and open it with the Arduino IDE, which will make a new folder to store the program in. This is a normal practice of the Arduino IDE. Don't worry if you don't understand the code yet. We will explain its C code programming in the next chapter. </li>
				<li>Click on the upload icon on the IDE to compile and upload the program to the Blue Pill. You will see the Blue Pill's onboard LED and the LED that you connected, blinking once per second if everything went well. The onboard LED is internally connected to the PC13 pin. Try to change the blinking rate by changing the 1,000 millisecond value from the <strong class="source-inline">delay(1000)</strong> function.</li>
				<li>Once you have uploaded the program to the Blue Pill, it is no longer necessary to keep the ST-Link/V2 connected to it, so you can disconnect it if you want. Now you can connect the Blue Pill's micro USB cable to your computer or a USB power bank. Your compiled program will be kept in Blue Pill's memory and will run every time you power it.</li>
			</ol>
			<p>And there you have it! You have completed your first electronic circuit with the Blue Pill. If your LED is blinking, well done!</p>
			<p>This project can <a id="_idIndexMarker080"/>also be done with Arduino <a id="_idIndexMarker081"/>microcontroller boards, such as the Arduino Uno. Just change the port number in the Arduino code and use the Arduino IDE to compile and upload the program. Write <strong class="source-inline">13</strong> Instead of <strong class="source-inline">PC13</strong> in the code for the port number and connect the resistor to digital port number 13 of the Arduino Uno board. </p>
			<h2 id="_idParaDest-27"><a id="_idTextAnchor026"/>Running the blinking LED example on the Curiosity Nano board</h2>
			<p>Now let's try the <a id="_idIndexMarker082"/>LED blinking example on the <a id="_idIndexMarker083"/>Curiosity Nano board. We don't need to connect an interface programmer (such as the ST-Link/V2) to upload your program to the Curiosity Nano, because this board already has the necessary hardware and software components to do so. These are the steps for connecting the Curiosity Nano and the LED:</p>
			<ol>
				<li value="1">Insert the Curiosity Nano board into the solderless breadboard. Do this carefully because its legs may bend. Also, don't forget to touch a big metallic object before handling the Curiosity Nano to discharge the static electricity from your body.<p>Connect the LED to the breadboard. Now, connect one pin of the 220-ohm resistors to the longest pin of the LED, as shown in <em class="italic">Figure 1.14</em>. Connect the other pin of the resistor to the pin labeled <em class="italic">RE0</em> <em class="italic">pin</em> on the Curiosity Nano. The RE0 pin is internally connected to the onboard yellow LED from the Curiosity Nano:</p><div id="_idContainer018" class="IMG---Figure"><img src="image/Figure_1.14_B16413.jpg" alt="Figure 1.14 – Diagram showing the Curiosity Nano and the LED connection"/></div><p class="figure-caption">Figure 1.14 – Diagram showing the Curiosity Nano and the LED connection</p></li>
				<li>Connect the <a id="_idIndexMarker084"/>shortest leg of the LED to the ground pin labeled <em class="italic">GND</em> of the Curiosity Nano using a wire, as shown in <em class="italic">Figure 1.14</em>. Any GND pin from the Curiosity Nano will do. Remember that<a id="_idIndexMarker085"/> the holes of each breadboard column are internally connected.<p>The electronic circuit with the Curiosity Nano is shown in <em class="italic">Figure 1.15</em>. In this diagram, you can visualize with more detail how the LED and the resistor are connected to the board:</p><div id="_idContainer019" class="IMG---Figure"><img src="image/Figure_1.15_B16413.jpg" alt="Figure 1.15 – The Curiosity Nano and its LED connection"/></div><p class="figure-caption">Figure 1.15 – The Curiosity Nano and its LED connection</p></li>
				<li>Connect the Curiosity Nano to your computer using a micro-USB cable.</li>
				<li>Now, let's download and run the demo project that contains the C program that makes the LED blink on the Curiosity Nano.</li>
				<li>Download the file called <strong class="source-inline">16F15376_Curiosity_Nano_LED_Blink_Delay.zip</strong> from the <strong class="source-inline">Chapter 1</strong> folder located in the book's GitHub repository.</li>
				<li>Unzip the file and open the project from the MPLAB X IDE. Select the tab with the <strong class="source-inline">main.c</strong> label. That is the C program that you need to run. Now, click on the run icon (the green triangle) on the MPLAB X. </li>
			</ol>
			<p>At this point, the<a id="_idIndexMarker086"/> IDE will compile and upload the<a id="_idIndexMarker087"/> program to the board. After a few seconds, the onboard yellow LED and the breadboard's LED should be blinking once per second. If this is happening, well done! </p>
			<p>Once you connect the LED to the Curiosity Nano and see that the LED is blinking once a second, try to change the code in the IDE a little bit by blinking the LED faster or slower. You can do this by changing the value of the milliseconds from the <strong class="source-inline">__delay_ms(1000);</strong> function and don't forget that the value from that function is stated in milliseconds (there are 1,000 milliseconds in a second).</p>
			<h1 id="_idParaDest-28"><a id="_idTextAnchor027"/>Summary</h1>
			<p>In this chapter, we have defined what a microcontroller is, as well as its capabilities and limitations. We have also looked at what integrated circuits are (keeping in mind that microcontrollers are a type of integrated circuit) and how their pins are arranged in packages. In addition to this, we analyzed what ports are in microcontroller boards. This is important to know because at some point in future projects, you will need to identify the order of those pins in order to connect sensors or other devices to them. <em class="italic">Table 1.1</em> showed the hardware description and operating voltage for both the Curiosity Nano and the Blue pill, which is 5 volts.</p>
			<p>We then looked at a brief introduction to electronics and the main electronic components used in this and other chapters. We explored how to install two integrated development environment tools for programming the two microcontroller boards used in this book. The two boards have two different ways of uploading a compiled program to them. It is important to compare how two different microcontroller boards work to analyze their capabilities and decide which one you can use in future projects.</p>
			<p>Finally, we showcased an initial program on both microcontroller boards that demonstrates how to turn an LED on and off, which can work as a baseline for more complex and detailed projects.</p>
			<p>The next chapter contains a concise C programming tutorial, which will be very useful for programming the exercises of the remaining chapters.</p>
			<h1 id="_idParaDest-29"><a id="_idTextAnchor028"/>Further reading</h1>
			<ul>
				<li>Ball, S. (2002). <em class="italic">Embedded Microprocessor Systems: Real-World Design.</em> Burlington, MA: Newnes/Elsevier Science.</li>
				<li>Gay, W. (2018). <em class="italic">Beginning STM32: Developing with FreeRTOS, libopencm3, and GCC</em>. St. Catharines: Apress.</li>
				<li>Horowitz, P., Hill, W. (2015). <em class="italic">The Art of Electronics.</em> [3rd ed.] Cambridge University Press: New York, NY.</li>
				<li>Microchip (2019). <em class="italic">PIC16F15376 Curiosity Nano Hardware User Guide</em>. Microchip Technology, Inc. Available from: <a href="http://ww1.microchip.com/downloads/en/DeviceDoc/50002900B.pdf">http://ww1.microchip.com/downloads/en/DeviceDoc/50002900B.pdf</a>.</li>
				<li>Mims, F.M. (2000). <em class="italic">Getting Started in Electronics</em>. Lincolnwood, IL: Master Publishing, Inc.</li>
			</ul>
		</div>
	</body></html>