<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Setting Up Your C Compiler on macOS</h1>
                </header>
            
            <article>
                
<p>macOS can be a good development environment for a C programmer. Let's get started.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing Homebrew and the C compiler</h1>
                </header>
            
            <article>
                
<p>Setup on macOS will be simplified <span>greatly </span>if we use the <strong>Homebrew</strong> package manager.</p>
<p>The Homebrew package manager makes installing a C compiler and development libraries much easier than it would otherwise be.</p>
<p>To install Homebrew, navigate your web browser to <a href="https://brew.sh/">https://brew.sh/</a>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/ee98dd6a-a7b3-4e28-b94a-b31d1d180cfe.png" style="width:59.17em;height:37.75em;"/></p>
<p>The website gives the command to install Homebrew. You will need to open a new Terminal window and paste in the command:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/fcf3e010-1457-41ac-b5f3-fcbeb5688d53.png" style="width:38.25em;height:28.50em;"/></p>
<p>Just follow the instructions until Homebrew has finished installing.</p>
<p>Installing Homebrew will also cause the Xcode command-line tools to install. This means you'll have a C compiler ready to go. Test that you have a working C compiler with the <kbd>gcc --version</kbd> command:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/cb581ac8-03d7-49a4-88f9-1f5403400f48.png" style="width:38.58em;height:10.25em;"/></p>
<p>Note that macOS installs the Clang compiler, but aliases it as GCC. In any case, it will work fine for our purposes.</p>
<p>Git should also have been installed. You can verify this with <kbd>git --version</kbd>:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/856a7eb6-4fbe-4b3a-ac86-f719ba7df035.png" style="width:38.42em;height:10.17em;"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing OpenSSL</h1>
                </header>
            
            <article>
                
<p>Assuming you already have Homebrew installed, installing OpenSSL is easy.</p>
<p>Open a new Terminal window and use the following command to install the OpenSSL library:</p>
<pre><strong>brew install openssl@1.1</strong></pre>
<p>At the time of writing, the default Homebrew <kbd>openssl</kbd> package is outdated, therefore we'll use the <kbd>openssl@1.1</kbd> package instead.</p>
<p>The following screenshot shows Homebrew installing the <kbd>openssl@1.1</kbd> package:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/ba72cedc-00c3-40d9-b130-77ce2d2ebb7b.png" style="width:45.00em;height:35.08em;"/></p>
<p>Be sure to read any output from <kbd>brew</kbd>.</p>
<p>The method suggested by the <kbd>brew</kbd> command has you pass <kbd>-L</kbd> and <kbd>-I</kbd> to the compiler to tell it where to locate the OpenSSL libraries. This is tedious.</p>
<p>You may prefer to symlink the installed library files to the <kbd>/usr/local</kbd> path so that your compiler can find them automatically. Whether you want to do this or not is up to you.</p>
<p>If you want to create symlinks so the compiler can find OpenSSL, try the following commands:</p>
<pre><strong>cd /usr/local/include</strong><br/><strong>ln -s ../opt/openssl@1.1/include/openssl .</strong><br/><strong>cd /usr/local/lib</strong><br/><strong>for i in ../opt/openssl@1.1/lib/lib*; do ln -vs $i .; done</strong></pre>
<p>This is shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/2dff0ded-8a6c-4717-b6cd-13b81dbecfe8.png" style="width:43.33em;height:13.17em;"/></p>
<p><span>You can try building </span><kbd>openssl_version.c</kbd><span> from <a href="47ba170d-42d9-4e38-b5d8-89503e005708.xhtml">Chapter 9</a>, </span><em>Loading Secure Web Pages with HTTPS and OpenSSL</em><span>, to test that everything is installed correctly. It should look like the following:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/36b04ada-7deb-45ef-a5ba-7f0a762a6846.png" style="width:39.83em;height:6.75em;"/></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing libssh</h1>
                </header>
            
            <article>
                
<p>With Homebrew installed, installing <kbd>libssh</kbd> is also very easy.</p>
<p>Open a new Terminal window and use the following command to install the OpenSSL library:</p>
<pre><strong>brew install libssh</strong></pre>
<p>This is shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/a67db30a-9ecf-4983-961a-c23b34fb46a5.png" style="width:42.83em;height:10.25em;"/></p>
<p>This time, we don't need to mess with any other options. You can start using <kbd>libssh</kbd> right away.</p>
<p><span>You can try building </span><kbd>ssh_version.c</kbd><span> from <a href="c9d0a1dc-878b-4961-825e-65688fac08ae.xhtml"/><a href="c9d0a1dc-878b-4961-825e-65688fac08ae.xhtml">Chapter 11</a>, <em>Establishing SSH Connections with libssh</em></span><span>, to test that everything is installed correctly. It should look like the following:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="assets/1462abd5-9dd0-4bde-9247-ced8bf5d3b16.png" style="width:40.33em;height:6.83em;"/></p>
<p>That concludes the setup for macOS.</p>


            </article>

            
        </section>
    </body></html>