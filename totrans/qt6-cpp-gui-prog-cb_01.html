<html><head></head><body>
<div id="_idContainer036">
<h1 class="chapter-number" id="_idParaDest-14"><a id="_idTextAnchor013"/><span class="koboSpan" id="kobo.1.1">1</span></h1>
<h1 id="_idParaDest-15"><a id="_idTextAnchor014"/><span class="koboSpan" id="kobo.2.1">Look-and-Feel Customization with Qt Designer</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Qt 6 allows us to easily design our program’s user interface through a method most people are familiar with. </span><span class="koboSpan" id="kobo.3.2">Qt not only provides us with a powerful user interface toolkit, called </span><strong class="bold"><span class="koboSpan" id="kobo.4.1">Qt Designer</span></strong><span class="koboSpan" id="kobo.5.1">, which enables us to design our user interface without writing a single line of code, but it also allows advanced users to customize their user interface components through a simple scripting language called </span><strong class="bold"><span class="koboSpan" id="kobo.6.1">Qt </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.7.1">Style Sheet</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.9.1">In this chapter, we’re going to cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">following recipes:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.11.1">Using style sheets with </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">Qt Designer</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Customizing basic </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">style sheets</span></span></li>
<li><span class="koboSpan" id="kobo.15.1">Creating a login screen using </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">style sheets</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">Using resources in </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">style sheets</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">Customizing properties </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">and sub-controls</span></span></li>
<li><span class="koboSpan" id="kobo.21.1">Styling in </span><strong class="bold"><span class="koboSpan" id="kobo.22.1">Qt Modeling </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.23.1">Language</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.24.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.25.1">QML</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">)</span></span></li>
<li><span class="koboSpan" id="kobo.27.1">Exposing the QML object pointer </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">to C++</span></span></li>
</ul>
<h1 id="_idParaDest-16"><a id="_idTextAnchor015"/><span class="koboSpan" id="kobo.29.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.30.1">The technical requirements for this chapter include having </span><strong class="bold"><span class="koboSpan" id="kobo.31.1">Qt 6.1.1 MinGW 64-bit</span></strong><span class="koboSpan" id="kobo.32.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.33.1">Qt Creator 12.0.2</span></strong><span class="koboSpan" id="kobo.34.1">. </span><span class="koboSpan" id="kobo.34.2">The code that’s used in this chapter can be downloaded from this book’s GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.35.1">repository: </span></span><a href="https://github.com/PacktPublishing/QT6-C-GUI-Programming-Cookbook---Third-Edition-/tree/main/Chapter01"><span class="No-Break"><span class="koboSpan" id="kobo.36.1">https://github.com/PacktPublishing/QT6-C-GUI-Programming-Cookbook---Third-Edition-/tree/main/Chapter01</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.37.1">.</span></span></p>
<h1 id="_idParaDest-17"><a id="_idTextAnchor016"/><span class="koboSpan" id="kobo.38.1">Using style sheets with Qt Designer</span></h1>
<p><span class="koboSpan" id="kobo.39.1">In this example, we will learn how</span><a id="_idIndexMarker000"/><span class="koboSpan" id="kobo.40.1"> to change the look and feel of our program and make it look more professional by using style sheets and resources. </span><span class="koboSpan" id="kobo.40.2">Qt allows you to </span><a id="_idIndexMarker001"/><span class="koboSpan" id="kobo.41.1">decorate your </span><strong class="bold"><span class="koboSpan" id="kobo.42.1">graphical user interfaces</span></strong><span class="koboSpan" id="kobo.43.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.44.1">GUIs</span></strong><span class="koboSpan" id="kobo.45.1">) using a style sheet language called </span><strong class="bold"><span class="koboSpan" id="kobo.46.1">Qt Style Sheets</span></strong><span class="koboSpan" id="kobo.47.1">, which is</span><a id="_idIndexMarker002"/><span class="koboSpan" id="kobo.48.1"> very similar to </span><strong class="bold"><span class="koboSpan" id="kobo.49.1">Cascading Style Sheets</span></strong><span class="koboSpan" id="kobo.50.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.51.1">CSS</span></strong><span class="koboSpan" id="kobo.52.1">), something that’s used by </span><a id="_idIndexMarker003"/><span class="koboSpan" id="kobo.53.1">web designers </span><a id="_idIndexMarker004"/><span class="koboSpan" id="kobo.54.1">to decorate </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">their websites.</span></span></p>
<h2 id="_idParaDest-18"><a id="_idTextAnchor017"/><span class="koboSpan" id="kobo.56.1">How to do it...</span></h2>
<p><span class="koboSpan" id="kobo.57.1">Let’s get started by learning how to create a new project and get ourselves familiar with </span><span class="No-Break"><span class="koboSpan" id="kobo.58.1">Qt Designer:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.59.1">Open up </span><strong class="bold"><span class="koboSpan" id="kobo.60.1">Qt Creator</span></strong><span class="koboSpan" id="kobo.61.1"> and create a new project. </span><span class="koboSpan" id="kobo.61.2">If this is the first time you have used Qt Creator, you can either click the big button, which reads </span><strong class="bold"><span class="koboSpan" id="kobo.62.1">Create Project…</span></strong><span class="koboSpan" id="kobo.63.1">, or simply go to </span><strong class="bold"><span class="koboSpan" id="kobo.64.1">File</span></strong><span class="koboSpan" id="kobo.65.1"> | </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.66.1">New Project…</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.68.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.69.1">Application (Qt)</span></strong><span class="koboSpan" id="kobo.70.1"> from the </span><strong class="bold"><span class="koboSpan" id="kobo.71.1">Projects</span></strong><span class="koboSpan" id="kobo.72.1"> window and select </span><strong class="bold"><span class="koboSpan" id="kobo.73.1">Qt </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.74.1">Widgets Application</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.75.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.76.1">Click the </span><strong class="bold"><span class="koboSpan" id="kobo.77.1">Choose...</span></strong><span class="koboSpan" id="kobo.78.1"> button at the bottom. </span><span class="koboSpan" id="kobo.78.2">A window will pop out and ask you to insert the project’s name and </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">its location.</span></span></li>
<li><span class="koboSpan" id="kobo.80.1">Click </span><strong class="bold"><span class="koboSpan" id="kobo.81.1">Next</span></strong><span class="koboSpan" id="kobo.82.1"> several times, then click the </span><strong class="bold"><span class="koboSpan" id="kobo.83.1">Finish</span></strong><span class="koboSpan" id="kobo.84.1"> button to create the project. </span><span class="koboSpan" id="kobo.84.2">We will stick with the default settings for now. </span><span class="koboSpan" id="kobo.84.3">Once the project has been created, the first thing you will see is a panel with tons of big icons on the left-hand side of the window, which is called the mode selector panel; we will discuss this in more detail in the </span><em class="italic"><span class="koboSpan" id="kobo.85.1">Dissecting Qt </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.86.1">Designer</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.87.1"> recipe.</span></span></li>
<li><span class="koboSpan" id="kobo.88.1">You will see all your source files listed on the sidebar panel, which is located next to the mode selector panel. </span><span class="koboSpan" id="kobo.88.2">This is where you can select which file you want to edit. </span><span class="koboSpan" id="kobo.88.3">In this case, this is </span><strong class="source-inline"><span class="koboSpan" id="kobo.89.1">mainwindow.ui</span></strong><span class="koboSpan" id="kobo.90.1">, because we are about to start designing the </span><span class="No-Break"><span class="koboSpan" id="kobo.91.1">program’s UI.</span></span></li>
<li><span class="koboSpan" id="kobo.92.1">Double-click the </span><strong class="source-inline"><span class="koboSpan" id="kobo.93.1">mainwindow.ui</span></strong><span class="koboSpan" id="kobo.94.1"> file; you will see an entirely different interface appear out of nowhere. </span><span class="koboSpan" id="kobo.94.2">Qt Creator helped you switch from the script editor to the UI editor (Qt Designer) because it detected the </span><strong class="source-inline"><span class="koboSpan" id="kobo.95.1">.ui</span></strong><span class="koboSpan" id="kobo.96.1"> extension on the file you’re trying </span><span class="No-Break"><span class="koboSpan" id="kobo.97.1">to open.</span></span></li>
<li><span class="koboSpan" id="kobo.98.1">You will also notice that the highlighted button on the mode selector panel has changed from </span><strong class="bold"><span class="koboSpan" id="kobo.99.1">Edit</span></strong><span class="koboSpan" id="kobo.100.1"> to </span><strong class="bold"><span class="koboSpan" id="kobo.101.1">Design</span></strong><span class="koboSpan" id="kobo.102.1">. </span><span class="koboSpan" id="kobo.102.2">You can switch back to the script editor or change to any other tools by clicking one of the buttons located in the upper half of the mode </span><span class="No-Break"><span class="koboSpan" id="kobo.103.1">selector panel.</span></span></li>
<li><span class="koboSpan" id="kobo.104.1">Let’s go back to Qt Designer and look at the </span><strong class="source-inline"><span class="koboSpan" id="kobo.105.1">mainwindow.ui</span></strong><span class="koboSpan" id="kobo.106.1"> file. </span><span class="koboSpan" id="kobo.106.2">This is the main window of our program (as </span><a id="_idIndexMarker005"/><span class="koboSpan" id="kobo.107.1">the filename implies) and it’s empty by default, without any widget on it. </span><span class="koboSpan" id="kobo.107.2">You </span><a id="_idIndexMarker006"/><span class="koboSpan" id="kobo.108.1">can try to compile and run the program by pressing the </span><strong class="bold"><span class="koboSpan" id="kobo.109.1">Run</span></strong><span class="koboSpan" id="kobo.110.1"> button (the green arrow button) at the bottom of the mode selector panel; you will see an empty window pop up once the compilation </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">is complete.</span></span></li>
<li><span class="koboSpan" id="kobo.112.1">Let’s add a push button to our program’s UI by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.113.1">Push Button</span></strong><span class="koboSpan" id="kobo.114.1"> item in the </span><strong class="bold"><span class="koboSpan" id="kobo.115.1">Widget Box</span></strong><span class="koboSpan" id="kobo.116.1"> area (under the </span><strong class="bold"><span class="koboSpan" id="kobo.117.1">Buttons</span></strong><span class="koboSpan" id="kobo.118.1"> category) and dragging it to our main window in the form editor. </span><span class="koboSpan" id="kobo.118.2">Keep the push button selected; you will see all the properties of this button inside the </span><strong class="bold"><span class="koboSpan" id="kobo.119.1">Property Editor</span></strong><span class="koboSpan" id="kobo.120.1"> area on the right-hand side of your window. </span><span class="koboSpan" id="kobo.120.2">Scroll down to the middle and look for a property called </span><strong class="bold"><span class="koboSpan" id="kobo.121.1">styleSheet</span></strong><span class="koboSpan" id="kobo.122.1">. </span><span class="koboSpan" id="kobo.122.2">This is where you will apply styles to your widget, which may or may not be inherited from its children or grandchildren recursively, depending on how you set your style sheet. </span><span class="koboSpan" id="kobo.122.3">Alternatively, you can right-click on any widget in your UI at the form editor and select </span><strong class="bold"><span class="koboSpan" id="kobo.123.1">Change styleSheet...</span></strong><span class="koboSpan" id="kobo.124.1"> from the </span><span class="No-Break"><span class="koboSpan" id="kobo.125.1">pop-up menu.</span></span></li>
<li><span class="koboSpan" id="kobo.126.1">You can click on the input field of the </span><strong class="bold"><span class="koboSpan" id="kobo.127.1">styleSheet</span></strong><span class="koboSpan" id="kobo.128.1"> property to directly write the style sheet code, or click on the </span><strong class="bold"><span class="koboSpan" id="kobo.129.1">…</span></strong><span class="koboSpan" id="kobo.130.1"> button beside the input field to open up the </span><strong class="bold"><span class="koboSpan" id="kobo.131.1">Edit Style Sheet</span></strong><span class="koboSpan" id="kobo.132.1"> window, which has a bigger space for writing longer code for style sheets. </span><span class="koboSpan" id="kobo.132.2">At the top of the window, you can find several buttons, such as </span><strong class="bold"><span class="koboSpan" id="kobo.133.1">Add Resource</span></strong><span class="koboSpan" id="kobo.134.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.135.1">Add Gradient</span></strong><span class="koboSpan" id="kobo.136.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.137.1">Add Color</span></strong><span class="koboSpan" id="kobo.138.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.139.1">Add Font</span></strong><span class="koboSpan" id="kobo.140.1">, that can help you kickstart your coding if you can’t remember the properties’ names. </span><span class="koboSpan" id="kobo.140.2">Let’s try to do some simple styling with the </span><strong class="bold"><span class="koboSpan" id="kobo.141.1">Edit Style </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.142.1">Sheet</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.143.1"> window.</span></span></li>
<li><span class="koboSpan" id="kobo.144.1">Click </span><strong class="bold"><span class="koboSpan" id="kobo.145.1">Add Color</span></strong><span class="koboSpan" id="kobo.146.1"> and choose </span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">a color.</span></span></li>
<li><span class="koboSpan" id="kobo.148.1">Pick a random color from the color picker window – let’s say, a pure red color. </span><span class="koboSpan" id="kobo.148.2">Then, </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.150.1">OK</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.151.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.152.1">A line of code has been added</span><a id="_idIndexMarker007"/><span class="koboSpan" id="kobo.153.1"> to the text field in the </span><strong class="bold"><span class="koboSpan" id="kobo.154.1">Edit Style Sheet</span></strong><span class="koboSpan" id="kobo.155.1"> window, which in my</span><a id="_idIndexMarker008"/><span class="koboSpan" id="kobo.156.1"> case is </span><span class="No-Break"><span class="koboSpan" id="kobo.157.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.158.1">
color: rgb(255, 0, 0);</span></pre></li> <li><span class="koboSpan" id="kobo.159.1">Click the </span><strong class="bold"><span class="koboSpan" id="kobo.160.1">OK</span></strong><span class="koboSpan" id="kobo.161.1"> button; the text on your push button should change </span><span class="No-Break"><span class="koboSpan" id="kobo.162.1">to red.</span></span></li>
</ol>
<h2 id="_idParaDest-19"><a id="_idTextAnchor018"/><span class="koboSpan" id="kobo.163.1">How it works...</span></h2>
<p><span class="koboSpan" id="kobo.164.1">Let’s take a bit of time to get familiar with Qt Designer’s interface before we start learning how to design our </span><span class="No-Break"><span class="koboSpan" id="kobo.165.1">own UI:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer005">
<span class="koboSpan" id="kobo.166.1"><img alt="Figure 1.1 – Overview of Qt Designer’s interface" src="image/B20976_01_001.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.167.1">Figure 1.1 – Overview of Qt Designer’s interface</span></p>
<p><span class="koboSpan" id="kobo.168.1">The explanation for the preceding screenshot is </span><span class="No-Break"><span class="koboSpan" id="kobo.169.1">as follows:</span></span></p>
<ol>
<li><strong class="bold"><span class="koboSpan" id="kobo.170.1">Menu bar</span></strong><span class="koboSpan" id="kobo.171.1">: The menu bar houses application-specific menus that provide easy access to essential functions, such as creating new projects, saving files, undoing, redoing, copying, and pasting. </span><span class="koboSpan" id="kobo.171.2">It also allows you to access development tools that come</span><a id="_idIndexMarker009"/><span class="koboSpan" id="kobo.172.1"> with Qt Creator, such as the compiler, debugger, </span><span class="No-Break"><span class="koboSpan" id="kobo.173.1">and profiler.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.174.1">Widget Box</span></strong><span class="koboSpan" id="kobo.175.1">: This is </span><a id="_idIndexMarker010"/><span class="koboSpan" id="kobo.176.1">where you can find all the different types of widgets provided by Qt Designer. </span><span class="koboSpan" id="kobo.176.2">You can add a widget to your program’s UI by clicking one of the widgets from the </span><strong class="bold"><span class="koboSpan" id="kobo.177.1">Widget Box</span></strong><span class="koboSpan" id="kobo.178.1"> area and dragging it to the </span><span class="No-Break"><span class="koboSpan" id="kobo.179.1">form editor.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.180.1">Mode selector</span></strong><span class="koboSpan" id="kobo.181.1">: The mode selector is a side panel that places shortcut buttons for easy access to different tools. </span><span class="koboSpan" id="kobo.181.2">You can quickly switch between the script editor and form editor by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.182.1">Edit</span></strong><span class="koboSpan" id="kobo.183.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.184.1">Design</span></strong><span class="koboSpan" id="kobo.185.1"> button on the mode selector panel, which is very useful for multitasking. </span><span class="koboSpan" id="kobo.185.2">You can also easily navigate to the debugger and profiler tools at the same speed </span><span class="No-Break"><span class="koboSpan" id="kobo.186.1">and manner.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.187.1">Build shortcuts</span></strong><span class="koboSpan" id="kobo.188.1">: The build shortcuts are located at the bottom of the mode selector panel. </span><span class="koboSpan" id="kobo.188.2">You can build, run, and debug your project easily by pressing the shortcut </span><span class="No-Break"><span class="koboSpan" id="kobo.189.1">buttons here.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.190.1">Form editor</span></strong><span class="koboSpan" id="kobo.191.1">: The form editor is where you edit your program’s UI. </span><span class="koboSpan" id="kobo.191.2">You can add different widgets to your program by selecting a widget from the </span><strong class="bold"><span class="koboSpan" id="kobo.192.1">Widget Box</span></strong><span class="koboSpan" id="kobo.193.1"> area and dragging it to the </span><span class="No-Break"><span class="koboSpan" id="kobo.194.1">form editor.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.195.1">Form toolbar</span></strong><span class="koboSpan" id="kobo.196.1">: From here, you can quickly select a different form to edit. </span><span class="koboSpan" id="kobo.196.2">Click the drop-down box located at the top of the </span><strong class="bold"><span class="koboSpan" id="kobo.197.1">Widget Box</span></strong><span class="koboSpan" id="kobo.198.1"> area and select the file you want to open with Qt Designer. </span><span class="koboSpan" id="kobo.198.2">Beside the drop-down box are buttons to switch between the different modes of the form editor, and also buttons to change the layout of </span><span class="No-Break"><span class="koboSpan" id="kobo.199.1">your UI.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.200.1">Object Inspector</span></strong><span class="koboSpan" id="kobo.201.1">: The </span><strong class="bold"><span class="koboSpan" id="kobo.202.1">Object Inspector</span></strong><span class="koboSpan" id="kobo.203.1"> area lists all the widgets within your current </span><strong class="source-inline"><span class="koboSpan" id="kobo.204.1">.ui</span></strong><span class="koboSpan" id="kobo.205.1"> file. </span><span class="koboSpan" id="kobo.205.2">All the widgets are arranged according to their parent-child relationship in the hierarchy. </span><span class="koboSpan" id="kobo.205.3">You can select a widget from the </span><strong class="bold"><span class="koboSpan" id="kobo.206.1">Object Inspector</span></strong><span class="koboSpan" id="kobo.207.1"> area to display its properties in the </span><strong class="bold"><span class="koboSpan" id="kobo.208.1">Property </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.209.1">Editor</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.210.1"> area.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.211.1">Property Editor</span></strong><span class="koboSpan" id="kobo.212.1">: The </span><strong class="bold"><span class="koboSpan" id="kobo.213.1">Property Editor</span></strong><span class="koboSpan" id="kobo.214.1"> area will display all the properties of the widget you selected from either the </span><strong class="bold"><span class="koboSpan" id="kobo.215.1">Object Inspector</span></strong><span class="koboSpan" id="kobo.216.1"> area or the form </span><span class="No-Break"><span class="koboSpan" id="kobo.217.1">editor window.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.218.1">Action Editor</span></strong><span class="koboSpan" id="kobo.219.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.220.1">Signals &amp; Slots Editor</span></strong><span class="koboSpan" id="kobo.221.1">: This window contains two editors: </span><strong class="bold"><span class="koboSpan" id="kobo.222.1">Action Editor</span></strong><span class="koboSpan" id="kobo.223.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.224.1">Signals &amp; Slots Editor</span></strong><span class="koboSpan" id="kobo.225.1">. </span><span class="koboSpan" id="kobo.225.2">Both can be accessed from the tabs beneath the </span><a id="_idIndexMarker011"/><span class="koboSpan" id="kobo.226.1">window. </span><strong class="bold"><span class="koboSpan" id="kobo.227.1">Action Editor</span></strong><span class="koboSpan" id="kobo.228.1"> is where you create actions that can be added to a </span><a id="_idIndexMarker012"/><span class="koboSpan" id="kobo.229.1">menu bar or toolbar in your </span><span class="No-Break"><span class="koboSpan" id="kobo.230.1">program’s UI.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.231.1">Output panes</span></strong><span class="koboSpan" id="kobo.232.1">: Output panes consist of several different windows that display information and output messages related to script compilation and debugging. </span><span class="koboSpan" id="kobo.232.2">You can switch between different output panes by pressing the buttons that carry a number before them, such as </span><strong class="bold"><span class="koboSpan" id="kobo.233.1">1 Issues</span></strong><span class="koboSpan" id="kobo.234.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.235.1">2 Search Results</span></strong><span class="koboSpan" id="kobo.236.1">, or </span><strong class="bold"><span class="koboSpan" id="kobo.237.1">3 </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.238.1">Application Output</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.239.1">.</span></span></li>
</ol>
<h2 id="_idParaDest-20"><a id="_idTextAnchor019"/><span class="koboSpan" id="kobo.240.1">There’s more...</span></h2>
<p><span class="koboSpan" id="kobo.241.1">In this recipe, we discussed how to apply style sheets to Qt widgets through C++ coding. </span><span class="koboSpan" id="kobo.241.2">Although that method works well, most of the time, the person who is in charge of designing the program’s UI is not the programmer, but rather a UI designer who specializes in designing user-friendly UI. </span><span class="koboSpan" id="kobo.241.3">In this case, it’s better to let the UI designer design the program’s layout and style sheet with a different tool and not mess around with the code. </span><span class="koboSpan" id="kobo.241.4">Qt provides an all-in-one editor </span><a id="_idIndexMarker013"/><span class="koboSpan" id="kobo.242.1">called </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.243.1">Qt Creator</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.244.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.245.1">Qt Creator consists of several different tools, such as a script editor, compiler, debugger, profiler, and UI editor. </span><span class="koboSpan" id="kobo.245.2">The UI editor, which</span><a id="_idIndexMarker014"/><span class="koboSpan" id="kobo.246.1"> is also called </span><strong class="bold"><span class="koboSpan" id="kobo.247.1">Qt Designer</span></strong><span class="koboSpan" id="kobo.248.1">, is the perfect tool for designers to design their program’s UI without writing any code. </span><span class="koboSpan" id="kobo.248.2">This is because Qt Designer adopted the </span><em class="italic"><span class="koboSpan" id="kobo.249.1">what you see is what you get</span></em><span class="koboSpan" id="kobo.250.1"> approach by providing an accurate visual representation of the final result, which means whatever you design with Qt Designer will turn out the same visually when the program is compiled </span><span class="No-Break"><span class="koboSpan" id="kobo.251.1">and run.</span></span></p>
<p><span class="koboSpan" id="kobo.252.1">The similarities between </span><a id="_idIndexMarker015"/><span class="koboSpan" id="kobo.253.1">Qt Style Sheets and CSS are </span><span class="No-Break"><span class="koboSpan" id="kobo.254.1">as follows:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.255.1">This is how a typical piece of CSS </span><span class="No-Break"><span class="koboSpan" id="kobo.256.1">code looks:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.257.1">
h1 { color: red; background-color: white;}</span></pre></li> <li><span class="koboSpan" id="kobo.258.1">This is how Qt Style Sheets look, which is almost the same as the </span><span class="No-Break"><span class="koboSpan" id="kobo.259.1">preceding CSS:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.260.1">
QLineEdit { color: red; background-color: white;}</span></pre></li> </ul>
<p><span class="koboSpan" id="kobo.261.1">As you can see, both of them contain a selector and a declaration block. </span><span class="koboSpan" id="kobo.261.2">Each declaration contains a property and a value, separated by a colon. </span><span class="koboSpan" id="kobo.261.3">In Qt, a style sheet can be applied to a single widget by calling the </span><strong class="source-inline"><span class="koboSpan" id="kobo.262.1">QObject::setStyleSheet()</span></strong><span class="koboSpan" id="kobo.263.1"> function in </span><span class="No-Break"><span class="koboSpan" id="kobo.264.1">C++ code.</span></span></p>
<p><span class="koboSpan" id="kobo.265.1">Consider the following, </span><span class="No-Break"><span class="koboSpan" id="kobo.266.1">for example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.267.1">
myPushButton-&gt;setStyleSheet("color : blue");</span></pre> <p><span class="koboSpan" id="kobo.268.1">The preceding code will turn the text of a button with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.269.1">myPushButton</span></strong><span class="koboSpan" id="kobo.270.1"> variable name to blue. </span><span class="koboSpan" id="kobo.270.2">You can achieve the same result by writing the declaration in the style sheet property field in Qt Designer. </span><span class="koboSpan" id="kobo.270.3">We will discuss Qt Designer more in the </span><em class="italic"><span class="koboSpan" id="kobo.271.1">Customizing basic style </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.272.1">sheets</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.273.1"> recipe.</span></span></p>
<p><span class="koboSpan" id="kobo.274.1">Qt Style Sheets also supports all the different types of selectors defined in the CSS2 standard, including the </span><strong class="bold"><span class="koboSpan" id="kobo.275.1">universal selector</span></strong><span class="koboSpan" id="kobo.276.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.277.1">type selector</span></strong><span class="koboSpan" id="kobo.278.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.279.1">class selector</span></strong><span class="koboSpan" id="kobo.280.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.281.1">ID selector</span></strong><span class="koboSpan" id="kobo.282.1">, which allows us to apply styling</span><a id="_idIndexMarker016"/><span class="koboSpan" id="kobo.283.1"> to a very specific individual widget or </span><a id="_idIndexMarker017"/><span class="koboSpan" id="kobo.284.1">group of widgets. </span><span class="koboSpan" id="kobo.284.2">For </span><a id="_idIndexMarker018"/><span class="koboSpan" id="kobo.285.1">instance, if we want to change the background color of a </span><a id="_idIndexMarker019"/><span class="koboSpan" id="kobo.286.1">specific line-edit widget with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.287.1">usernameEdit</span></strong><span class="koboSpan" id="kobo.288.1"> object name, we can do this by using an ID selector to refer </span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">to it:</span></span></p>
<p><span class="koboSpan" id="kobo.290.1">QLineEdit#usernameEdit { background-color: </span><span class="No-Break"><span class="koboSpan" id="kobo.291.1">blue }</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.292.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.293.1">To learn about all the selectors available in CSS2 (which are also supported by Qt Style Sheets), please refer to this </span><span class="No-Break"><span class="koboSpan" id="kobo.294.1">document: </span></span><a href="http://www.w3.org/TR/REC-CSS2/selector.html"><span class="No-Break"><span class="koboSpan" id="kobo.295.1">http://www.w3.org/TR/REC-CSS2/selector.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.296.1">.</span></span></p>
<h1 id="_idParaDest-21"><a id="_idTextAnchor020"/><span class="koboSpan" id="kobo.297.1">Customizing basic style sheets</span></h1>
<p><span class="koboSpan" id="kobo.298.1">In the previous recipe, you</span><a id="_idIndexMarker020"/><span class="koboSpan" id="kobo.299.1"> learned how to apply a style sheet to a widget with Qt Designer. </span><span class="koboSpan" id="kobo.299.2">Let’s go crazy and push things further by creating a few other types of widgets and changing their style properties to something bizarre for the sake </span><span class="No-Break"><span class="koboSpan" id="kobo.300.1">of learning.</span></span></p>
<p><span class="koboSpan" id="kobo.301.1">This time, however, we will not apply the style to every single widget one by one; instead, we will learn to apply the style sheet to the main window and let it inherit down the hierarchy to all the other widgets so that the style sheet is easier to manage and maintain in the </span><span class="No-Break"><span class="koboSpan" id="kobo.302.1">long run.</span></span></p>
<h2 id="_idParaDest-22"><a id="_idTextAnchor021"/><span class="koboSpan" id="kobo.303.1">How to do it...</span></h2>
<p><span class="koboSpan" id="kobo.304.1">In the following example, we will format different types of widgets on the canvas and add some code to the style sheet to change </span><span class="No-Break"><span class="koboSpan" id="kobo.305.1">its appearance:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.306.1">Remove the style sheet from </span><strong class="source-inline"><span class="koboSpan" id="kobo.307.1">PushButton</span></strong><span class="koboSpan" id="kobo.308.1"> by selecting it and clicking the small arrow button beside the </span><strong class="bold"><span class="koboSpan" id="kobo.309.1">styleSheet</span></strong><span class="koboSpan" id="kobo.310.1"> property. </span><span class="koboSpan" id="kobo.310.2">This button will revert the property to its default value, which in this case is the empty </span><span class="No-Break"><span class="koboSpan" id="kobo.311.1">style sheet.</span></span></li>
<li><span class="koboSpan" id="kobo.312.1">Add a few more widgets to the UI by dragging them one by one from the </span><strong class="bold"><span class="koboSpan" id="kobo.313.1">Widget Box</span></strong><span class="koboSpan" id="kobo.314.1"> area to the form editor. </span><span class="koboSpan" id="kobo.314.2">I’ve added a line edit, combo box, horizontal slider, radio button, and a </span><span class="No-Break"><span class="koboSpan" id="kobo.315.1">check box.</span></span></li>
<li><span class="koboSpan" id="kobo.316.1">For the sake of simplicity, delete </span><strong class="bold"><span class="koboSpan" id="kobo.317.1">menuBar</span></strong><span class="koboSpan" id="kobo.318.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.319.1">mainToolBar</span></strong><span class="koboSpan" id="kobo.320.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.321.1">statusBar</span></strong><span class="koboSpan" id="kobo.322.1"> from your UI by selecting them in the </span><strong class="bold"><span class="koboSpan" id="kobo.323.1">Object Inspector</span></strong><span class="koboSpan" id="kobo.324.1"> area, right-clicking, and choosing </span><strong class="bold"><span class="koboSpan" id="kobo.325.1">Remove</span></strong><span class="koboSpan" id="kobo.326.1">. </span><span class="koboSpan" id="kobo.326.2">Now, your UI should look similar </span><span class="No-Break"><span class="koboSpan" id="kobo.327.1">to this:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer006">
<span class="koboSpan" id="kobo.328.1"><img alt="Figure 1.2 – Dragging and dropping some widgets onto the form editor" src="image/B20976_01_002.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.329.1">Figure 1.2 – Dragging and dropping some widgets onto the form editor</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.330.1">Select the main window from </span><a id="_idIndexMarker021"/><span class="koboSpan" id="kobo.331.1">either the form editor or the </span><strong class="bold"><span class="koboSpan" id="kobo.332.1">Object Inspector</span></strong><span class="koboSpan" id="kobo.333.1"> area, then right-click and choose </span><strong class="bold"><span class="koboSpan" id="kobo.334.1">Change styleSheet...</span></strong><span class="koboSpan" id="kobo.335.1"> to open the </span><strong class="bold"><span class="koboSpan" id="kobo.336.1">Edit Style Sheet</span></strong><span class="koboSpan" id="kobo.337.1"> window. </span><span class="koboSpan" id="kobo.337.2">Insert the following into the </span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">style sheet:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.339.1">
border: 2px solid gray;
border-radius: 10px;
padding: 0 8px;
background: yellow;</span></pre></li> <li><span class="koboSpan" id="kobo.340.1">You will see a bizarre-looking UI with everything covered in yellow with a thick border. </span><span class="koboSpan" id="kobo.340.2">This is because the preceding style sheet does not have a selector, which means the style will apply to the children widgets of the main window down the hierarchy. </span><span class="koboSpan" id="kobo.340.3">To change that, let’s try </span><span class="No-Break"><span class="koboSpan" id="kobo.341.1">something different:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.342.1">
QPushButton {
     border: 2px solid gray;
     border-radius: 10px;
     padding: 0 8px;
     background: yellow;
}</span></pre></li> <li><span class="koboSpan" id="kobo.343.1">This time, only </span><strong class="bold"><span class="koboSpan" id="kobo.344.1">PushButton</span></strong><span class="koboSpan" id="kobo.345.1"> will get the style described in the preceding code, and all the other widgets will return to the default styling. </span><span class="koboSpan" id="kobo.345.2">You can try to add a few more push buttons to your UI; they will all look </span><span class="No-Break"><span class="koboSpan" id="kobo.346.1">the same:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer007">
<span class="koboSpan" id="kobo.347.1"><img alt="Figure 1.3 – Changing the push buttons to yellow" src="image/B20976_01_003.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.348.1">Figure 1.3 – Changing the push buttons to yellow</span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.349.1">This happens because we specifically</span><a id="_idIndexMarker022"/><span class="koboSpan" id="kobo.350.1"> tell the selector to apply the style to all the widgets with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.351.1">QPushButton</span></strong><span class="koboSpan" id="kobo.352.1"> class. </span><span class="koboSpan" id="kobo.352.2">We can also apply the style to just one of the push buttons by mentioning its name in the style sheet, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.353.1">following code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.354.1">
QPushButton#pushButton_3 {
     border: 2px solid gray;
     border-radius: 10px;
     padding: 0 8px;
     background: yellow;
}</span></pre></li> <li><span class="koboSpan" id="kobo.355.1">Once you understand this method, we can add the following code </span><a id="_idTextAnchor022"/><span class="koboSpan" id="kobo.356.1">to the </span><span class="No-Break"><span class="koboSpan" id="kobo.357.1">style sheet:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.358.1">
QPushButton {
     color: red;
     border: 0px;
     padding: 0 8px;
     background: white;
}
QPushButton#pushButton_2 {
     border: 1px solid red;
     border-radius: 10px;
}</span></pre></li> <li><span class="koboSpan" id="kobo.359.1">This code changes the style of </span><a id="_idIndexMarker023"/><span class="koboSpan" id="kobo.360.1">all the push buttons, as well as some properties of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.361.1">pushButton_2</span></strong><span class="koboSpan" id="kobo.362.1"> button. </span><span class="koboSpan" id="kobo.362.2">We keep the style sheet of </span><strong class="source-inline"><span class="koboSpan" id="kobo.363.1">pushButton_3</span></strong><span class="koboSpan" id="kobo.364.1"> as-is. </span><span class="koboSpan" id="kobo.364.2">Now, the buttons will look </span><span class="No-Break"><span class="koboSpan" id="kobo.365.1">like this:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer008">
<span class="koboSpan" id="kobo.366.1"><img alt="Figure 1.4 – Applying a different style to each button" src="image/B20976_01_004.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.367.1">Figure 1.4 – Applying a different style to each button</span></p>
<ol>
<li value="10"><span class="koboSpan" id="kobo.368.1">The first set of style sheets will change all widgets of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.369.1">QPushButton</span></strong><span class="koboSpan" id="kobo.370.1"> type to a white rectangular button with no border and red text. </span><span class="koboSpan" id="kobo.370.2">The second set of style sheets only changes the border of a specific </span><strong class="source-inline"><span class="koboSpan" id="kobo.371.1">QPushButton</span></strong><span class="koboSpan" id="kobo.372.1"> widget called </span><strong class="source-inline"><span class="koboSpan" id="kobo.373.1">pushButton_2</span></strong><span class="koboSpan" id="kobo.374.1">. </span><span class="koboSpan" id="kobo.374.2">Notice that the background color and text color of </span><strong class="source-inline"><span class="koboSpan" id="kobo.375.1">pushButton_2</span></strong><span class="koboSpan" id="kobo.376.1"> remain white and red, respectively, because we didn’t override them in the second set of style sheets, hence it will return to the style described in the first set of style sheets since it applies to all the </span><strong class="source-inline"><span class="koboSpan" id="kobo.377.1">QPushButton</span></strong><span class="koboSpan" id="kobo.378.1"> widgets. </span><span class="koboSpan" id="kobo.378.2">The text of the third button has also changed to red because we didn’t describe the </span><strong class="bold"><span class="koboSpan" id="kobo.379.1">Color</span></strong><span class="koboSpan" id="kobo.380.1"> property in the third set of </span><span class="No-Break"><span class="koboSpan" id="kobo.381.1">style sheets.</span></span></li>
<li><span class="koboSpan" id="kobo.382.1">Create another set of style sheets that use the universal selector by using the </span><span class="No-Break"><span class="koboSpan" id="kobo.383.1">following code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.384.1">
* {
     background: qradialgradient(cx: 0.3, cy: -0.4, fx: 0.3, fy: -0.4, radius: 1.35, stop: 0 #fff, stop: 1 #888);
     color: rgb(255, 255, 255);
     border: 1px solid #ffffff;
}</span></pre></li> <li><span class="koboSpan" id="kobo.385.1">The universal selector will affect all the widgets, regardless of their type. </span><span class="koboSpan" id="kobo.385.2">Therefore, the preceding style sheet will apply a nice gradient color to all the widgets’ backgrounds </span><a id="_idIndexMarker024"/><span class="koboSpan" id="kobo.386.1">and set their text to white with a one-pixel solid outline that is also white. </span><span class="koboSpan" id="kobo.386.2">Instead of writing the name of the color (that is, white), we can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.387.1">rgb</span></strong><span class="koboSpan" id="kobo.388.1"> function (</span><strong class="source-inline"><span class="koboSpan" id="kobo.389.1">rgb(255, 255, 255)</span></strong><span class="koboSpan" id="kobo.390.1">) or hex code (</span><strong class="source-inline"><span class="koboSpan" id="kobo.391.1">#ffffff</span></strong><span class="koboSpan" id="kobo.392.1">) to describe the </span><span class="No-Break"><span class="koboSpan" id="kobo.393.1">color value.</span></span></li>
<li><span class="koboSpan" id="kobo.394.1">As before, the preceding style sheet will not affect the push buttons because we have already given them their own styles, which will override the general style described in the universal selector. </span><span class="koboSpan" id="kobo.394.2">Just remember that in Qt, the more specific style will ultimately be used when there is more than one style with an influence on a widget. </span><span class="koboSpan" id="kobo.394.3">This is how the UI will </span><span class="No-Break"><span class="koboSpan" id="kobo.395.1">look now:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer009">
<span class="koboSpan" id="kobo.396.1"><img alt="Figure 1.5 – Applying a gradient background to all the other widgets" src="image/B20976_01_005.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.397.1">Figure 1.5 – Applying a gradient background to all the other widgets</span></p>
<h2 id="_idParaDest-23"><a id="_idTextAnchor023"/><span class="koboSpan" id="kobo.398.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.399.1">If you are ever involved in web development using HTML and CSS, Qt’s style sheets work the same way as CSS. </span><span class="koboSpan" id="kobo.399.2">Style sheets provide the definitions to describe the presentation of the widgets – what the</span><a id="_idIndexMarker025"/><span class="koboSpan" id="kobo.400.1"> colors are for each element in the widget group, how thick the border should be, and so on. </span><span class="koboSpan" id="kobo.400.2">If you specify the name of the widget to the style sheet, it will change the style of the particular </span><strong class="source-inline"><span class="koboSpan" id="kobo.401.1">PushButton</span></strong><span class="koboSpan" id="kobo.402.1"> widget with the name you provide. </span><span class="koboSpan" id="kobo.402.2">None of the other widgets will be affected and will remain as the </span><span class="No-Break"><span class="koboSpan" id="kobo.403.1">default style.</span></span></p>
<p><span class="koboSpan" id="kobo.404.1">To change the name of a widget, select the widget from either the form editor or the </span><strong class="bold"><span class="koboSpan" id="kobo.405.1">Object Inspector</span></strong><span class="koboSpan" id="kobo.406.1"> area and change the </span><strong class="bold"><span class="koboSpan" id="kobo.407.1">objectName</span></strong><span class="koboSpan" id="kobo.408.1"> property in the property window. </span><span class="koboSpan" id="kobo.408.2">If you used the ID selector previously to change the style of the widget, changing its object name will break the style sheet and lose the style. </span><span class="koboSpan" id="kobo.408.3">To fix this problem, simply change the object name in the style sheet </span><span class="No-Break"><span class="koboSpan" id="kobo.409.1">as well.</span></span></p>
<h1 id="_idParaDest-24"><a id="_idTextAnchor024"/><span class="koboSpan" id="kobo.410.1">Creating a login screen using style sheets</span></h1>
<p><span class="koboSpan" id="kobo.411.1">Next, we will learn how to put all the</span><a id="_idIndexMarker026"/><span class="koboSpan" id="kobo.412.1"> knowledge we learned in the previous</span><a id="_idIndexMarker027"/><span class="koboSpan" id="kobo.413.1"> recipe together and create a fake graphical login screen for an imaginary operating system. </span><span class="koboSpan" id="kobo.413.2">Style sheets are not the only thing you need to master to design a good UI. </span><span class="koboSpan" id="kobo.413.3">You will also need to learn how to arrange the widgets neatly using the layout system in </span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">Qt Designer.</span></span></p>
<h2 id="_idParaDest-25"><a id="_idTextAnchor025"/><span class="koboSpan" id="kobo.415.1">How to do it...</span></h2>
<p><span class="koboSpan" id="kobo.416.1">Let’s get started by following </span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.418.1">We need to design the layout of the graphical login screen before we start doing anything. </span><span class="koboSpan" id="kobo.418.2">Planning is very</span><a id="_idIndexMarker028"/><span class="koboSpan" id="kobo.419.1"> important to produce good software. </span><span class="koboSpan" id="kobo.419.2">The</span><a id="_idIndexMarker029"/><span class="koboSpan" id="kobo.420.1"> following is a sample layout design I made to show you how I imagine the login screen will look. </span><span class="koboSpan" id="kobo.420.2">Just a simple line drawing like this is sufficient, so long as it conveys the </span><span class="No-Break"><span class="koboSpan" id="kobo.421.1">message clearly:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer010">
<span class="koboSpan" id="kobo.422.1"><img alt="Figure 1.6 – A simple drawing depicting the login screen" src="image/B20976_01_006.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.423.1">Figure 1.6 – A simple drawing depicting the login screen</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.424.1">Go back to Qt </span><span class="No-Break"><span class="koboSpan" id="kobo.425.1">Designer again.</span></span></li>
<li><span class="koboSpan" id="kobo.426.1">We will be placing the widgets at the top panel first, then the logo and the login form </span><span class="No-Break"><span class="koboSpan" id="kobo.427.1">beneath it.</span></span></li>
<li><span class="koboSpan" id="kobo.428.1">Select the main window and change its width and height from </span><strong class="source-inline"><span class="koboSpan" id="kobo.429.1">400</span></strong><span class="koboSpan" id="kobo.430.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.431.1">300</span></strong><span class="koboSpan" id="kobo.432.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.433.1">800</span></strong><span class="koboSpan" id="kobo.434.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.435.1">600</span></strong><span class="koboSpan" id="kobo.436.1">, respectively – we’ll</span><a id="_idIndexMarker030"/><span class="koboSpan" id="kobo.437.1"> need a bigger space in which to place all </span><span class="No-Break"><span class="koboSpan" id="kobo.438.1">the widgets.</span></span></li>
<li><span class="koboSpan" id="kobo.439.1">Click and drag a label </span><a id="_idIndexMarker031"/><span class="koboSpan" id="kobo.440.1">under the </span><strong class="bold"><span class="koboSpan" id="kobo.441.1">Display Widgets</span></strong><span class="koboSpan" id="kobo.442.1"> category from the </span><strong class="bold"><span class="koboSpan" id="kobo.443.1">Widget Box</span></strong><span class="koboSpan" id="kobo.444.1"> area to the </span><span class="No-Break"><span class="koboSpan" id="kobo.445.1">form editor.</span></span></li>
<li><span class="koboSpan" id="kobo.446.1">Change the </span><strong class="bold"><span class="koboSpan" id="kobo.447.1">objectName</span></strong><span class="koboSpan" id="kobo.448.1"> property of the label to </span><strong class="source-inline"><span class="koboSpan" id="kobo.449.1">currentDateTime</span></strong><span class="koboSpan" id="kobo.450.1"> and change its text property to the current date and time for display purposes – for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.451.1">Wednesday, 25-10-2023 </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.452.1">3:14 PM</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.454.1">Click and drag </span><strong class="source-inline"><span class="koboSpan" id="kobo.455.1">PushButton</span></strong><span class="koboSpan" id="kobo.456.1"> under the </span><strong class="bold"><span class="koboSpan" id="kobo.457.1">Buttons</span></strong><span class="koboSpan" id="kobo.458.1"> category to the form editor. </span><span class="koboSpan" id="kobo.458.2">Repeat this process once more because we have two buttons on the top panel. </span><span class="koboSpan" id="kobo.458.3">Rename the two buttons </span><strong class="source-inline"><span class="koboSpan" id="kobo.459.1">restartButton</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.460.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.461.1">shutdownButton</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.462.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.463.1">Select the main window and click the small icon button on the form toolbar that says </span><strong class="bold"><span class="koboSpan" id="kobo.464.1">Lay Out Vertically</span></strong><span class="koboSpan" id="kobo.465.1"> when you mouse over it. </span><span class="koboSpan" id="kobo.465.2">You will see that the widgets are automatically arranged on the main window, but that’s not exactly what we </span><span class="No-Break"><span class="koboSpan" id="kobo.466.1">want yet.</span></span></li>
<li><span class="koboSpan" id="kobo.467.1">Click and drag a </span><strong class="bold"><span class="koboSpan" id="kobo.468.1">Horizontal Layout</span></strong><span class="koboSpan" id="kobo.469.1"> widget under the </span><strong class="bold"><span class="koboSpan" id="kobo.470.1">Layouts</span></strong><span class="koboSpan" id="kobo.471.1"> category to the </span><span class="No-Break"><span class="koboSpan" id="kobo.472.1">main window.</span></span></li>
<li><span class="koboSpan" id="kobo.473.1">Click and drag the two push buttons and the text label into the horizontal layout. </span><span class="koboSpan" id="kobo.473.2">You will see the three widgets being arranged in a horizontal row, but vertically, they are located in the middle of the screen. </span><span class="koboSpan" id="kobo.473.3">The horizontal arrangement is almost correct, but the vertical position </span><span class="No-Break"><span class="koboSpan" id="kobo.474.1">is off.</span></span></li>
<li><span class="koboSpan" id="kobo.475.1">Click and drag a </span><strong class="bold"><span class="koboSpan" id="kobo.476.1">Vertical Spacer</span></strong><span class="koboSpan" id="kobo.477.1"> widget from the </span><strong class="bold"><span class="koboSpan" id="kobo.478.1">Spacers</span></strong><span class="koboSpan" id="kobo.479.1"> category and place it beneath the </span><strong class="bold"><span class="koboSpan" id="kobo.480.1">Horizontal Layout</span></strong><span class="koboSpan" id="kobo.481.1"> widget we created in </span><em class="italic"><span class="koboSpan" id="kobo.482.1">Step 9</span></em><span class="koboSpan" id="kobo.483.1"> (under the red rectangular outline). </span><span class="koboSpan" id="kobo.483.2">All the widgets will be pushed to the top by </span><span class="No-Break"><span class="koboSpan" id="kobo.484.1">the spacer.</span></span></li>
<li><span class="koboSpan" id="kobo.485.1">Place a </span><strong class="bold"><span class="koboSpan" id="kobo.486.1">Horizontal Spacer</span></strong><span class="koboSpan" id="kobo.487.1"> widget between the text label and the two buttons to keep them apart. </span><span class="koboSpan" id="kobo.487.2">This will ensure the text label always sticks to the left and the buttons align to </span><span class="No-Break"><span class="koboSpan" id="kobo.488.1">the right.</span></span></li>
<li><span class="koboSpan" id="kobo.489.1">Set both the </span><strong class="bold"><span class="koboSpan" id="kobo.490.1">Horizontal Policy</span></strong><span class="koboSpan" id="kobo.491.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.492.1">Vertical Policy</span></strong><span class="koboSpan" id="kobo.493.1"> properties of the two buttons to </span><strong class="bold"><span class="koboSpan" id="kobo.494.1">Fixed</span></strong><span class="koboSpan" id="kobo.495.1"> and set the </span><strong class="bold"><span class="koboSpan" id="kobo.496.1">minimumSize</span></strong><span class="koboSpan" id="kobo.497.1"> property to </span><strong class="source-inline"><span class="koboSpan" id="kobo.498.1">55 x 55</span></strong><span class="koboSpan" id="kobo.499.1">. </span><span class="koboSpan" id="kobo.499.2">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.500.1">text</span></strong><span class="koboSpan" id="kobo.501.1"> property of the buttons to</span><a id="_idIndexMarker032"/><span class="koboSpan" id="kobo.502.1"> empty, as we will be using icons instead of text. </span><span class="koboSpan" id="kobo.502.2">We will learn how to</span><a id="_idIndexMarker033"/><span class="koboSpan" id="kobo.503.1"> place an icon in the button widgets in the </span><em class="italic"><span class="koboSpan" id="kobo.504.1">Using resources in style </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.505.1">sheets</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.506.1"> recipe.</span></span></li>
<li><span class="koboSpan" id="kobo.507.1">Your UI should look similar </span><span class="No-Break"><span class="koboSpan" id="kobo.508.1">to this:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer011">
<span class="koboSpan" id="kobo.509.1"><img alt="Figure 1.7 – Pushing apart the text and buttons using a horizontal spacer" src="image/B20976_01_007.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.510.1">Figure 1.7 – Pushing apart the text and buttons using a horizontal spacer</span></p>
<p><span class="koboSpan" id="kobo.511.1">Next, we will be adding the logo. </span><span class="koboSpan" id="kobo.511.2">Follow </span><span class="No-Break"><span class="koboSpan" id="kobo.512.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.513.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.514.1">Horizontal Layout</span></strong><span class="koboSpan" id="kobo.515.1"> widget between the top panel and a </span><strong class="bold"><span class="koboSpan" id="kobo.516.1">Vertical Spacer</span></strong><span class="koboSpan" id="kobo.517.1"> widget to serve as a container for </span><span class="No-Break"><span class="koboSpan" id="kobo.518.1">the logo.</span></span></li>
<li><span class="koboSpan" id="kobo.519.1">After adding the </span><strong class="bold"><span class="koboSpan" id="kobo.520.1">Horizontal Layout</span></strong><span class="koboSpan" id="kobo.521.1"> widget, you will find that the layout is way too thin in height (almost zero height) for you to add any widgets to it. </span><span class="koboSpan" id="kobo.521.2">This is because the layout is empty and it’s being pushed by the vertical spacer under it into zero height. </span><span class="koboSpan" id="kobo.521.3">To solve this problem, we </span><a id="_idIndexMarker034"/><span class="koboSpan" id="kobo.522.1">can set its </span><strong class="bold"><span class="koboSpan" id="kobo.523.1">vertical margin</span></strong><span class="koboSpan" id="kobo.524.1"> (either </span><strong class="bold"><span class="koboSpan" id="kobo.525.1">layoutTopMargin</span></strong><span class="koboSpan" id="kobo.526.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.527.1">layoutBottomMargin</span></strong><span class="koboSpan" id="kobo.528.1">) to be temporarily bigger until a widget is added to </span><span class="No-Break"><span class="koboSpan" id="kobo.529.1">the layout.</span></span></li>
<li><span class="koboSpan" id="kobo.530.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.531.1">Label</span></strong><span class="koboSpan" id="kobo.532.1"> value to the </span><strong class="bold"><span class="koboSpan" id="kobo.533.1">Horizontal Layout</span></strong><span class="koboSpan" id="kobo.534.1"> widget that you just created and rename it </span><strong class="source-inline"><span class="koboSpan" id="kobo.535.1">logo</span></strong><span class="koboSpan" id="kobo.536.1">. </span><span class="koboSpan" id="kobo.536.2">We will learn more about how to insert an image into the label to use it as a logo in the </span><em class="italic"><span class="koboSpan" id="kobo.537.1">Using resources in style sheets</span></em><span class="koboSpan" id="kobo.538.1"> recipe. </span><span class="koboSpan" id="kobo.538.2">For now, just empty out the </span><strong class="bold"><span class="koboSpan" id="kobo.539.1">text</span></strong><span class="koboSpan" id="kobo.540.1"> property and set both its </span><strong class="bold"><span class="koboSpan" id="kobo.541.1">Horizontal Policy</span></strong><span class="koboSpan" id="kobo.542.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.543.1">Vertical Policy</span></strong><span class="koboSpan" id="kobo.544.1"> properties to </span><strong class="bold"><span class="koboSpan" id="kobo.545.1">Fixed</span></strong><span class="koboSpan" id="kobo.546.1">. </span><span class="koboSpan" id="kobo.546.2">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.547.1">minimumSize</span></strong><span class="koboSpan" id="kobo.548.1"> property to </span><strong class="source-inline"><span class="koboSpan" id="kobo.549.1">150 </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.550.1">x 150</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.551.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.552.1">Set the vertical margin </span><a id="_idIndexMarker035"/><span class="koboSpan" id="kobo.553.1">of the layout back to zero if you haven’t already </span><span class="No-Break"><span class="koboSpan" id="kobo.554.1">done so.</span></span></li>
<li><span class="koboSpan" id="kobo.555.1">The logo will now appear to </span><a id="_idIndexMarker036"/><span class="koboSpan" id="kobo.556.1">be invisible, so we will just place a temporary style sheet to make it visible until we add an image to it in the </span><em class="italic"><span class="koboSpan" id="kobo.557.1">Using resources in style sheets</span></em><span class="koboSpan" id="kobo.558.1"> recipe. </span><span class="koboSpan" id="kobo.558.2">The style sheet is </span><span class="No-Break"><span class="koboSpan" id="kobo.559.1">really simple:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.560.1">
border: 1px solid;</span></pre><p class="list-inset"><span class="koboSpan" id="kobo.561.1">Your UI should look similar </span><span class="No-Break"><span class="koboSpan" id="kobo.562.1">to this:</span></span></p></li> </ol>
<div>
<div class="IMG---Figure" id="_idContainer012">
<span class="koboSpan" id="kobo.563.1"><img alt="Figure 1.8 – Putting the placeholder logo in the middle" src="image/B20976_01_008.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.564.1">Figure 1.8 – Putting the placeholder logo in the middle</span></p>
<p><span class="koboSpan" id="kobo.565.1">Now, let’s create the </span><span class="No-Break"><span class="koboSpan" id="kobo.566.1">login form:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.567.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.568.1">Horizontal Layout</span></strong><span class="koboSpan" id="kobo.569.1"> widget between the logo’s layout and the </span><strong class="bold"><span class="koboSpan" id="kobo.570.1">Vertical Spacer</span></strong><span class="koboSpan" id="kobo.571.1"> widget. </span><span class="koboSpan" id="kobo.571.2">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.572.1">layoutTopMargin</span></strong><span class="koboSpan" id="kobo.573.1"> property to a large number (that is, </span><strong class="source-inline"><span class="koboSpan" id="kobo.574.1">100</span></strong><span class="koboSpan" id="kobo.575.1">) so that you can add a widget to it </span><span class="No-Break"><span class="koboSpan" id="kobo.576.1">more easily.</span></span></li>
<li><span class="koboSpan" id="kobo.577.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.578.1">Vertical Layout</span></strong><span class="koboSpan" id="kobo.579.1"> widget inside the </span><strong class="bold"><span class="koboSpan" id="kobo.580.1">Horizontal Layout</span></strong><span class="koboSpan" id="kobo.581.1"> widget you just created. </span><span class="koboSpan" id="kobo.581.2">This layout will be used as a container for the login form. </span><span class="koboSpan" id="kobo.581.3">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.582.1">layoutTopMargin</span></strong><span class="koboSpan" id="kobo.583.1"> property to a number lower than that of the horizontal layout (that is, </span><strong class="source-inline"><span class="koboSpan" id="kobo.584.1">20</span></strong><span class="koboSpan" id="kobo.585.1">) so that we can place widgets </span><span class="No-Break"><span class="koboSpan" id="kobo.586.1">in it.</span></span></li>
<li><span class="koboSpan" id="kobo.587.1">Right-click the </span><strong class="bold"><span class="koboSpan" id="kobo.588.1">Vertical Layout</span></strong><span class="koboSpan" id="kobo.589.1"> widget you just created and choose </span><strong class="bold"><span class="koboSpan" id="kobo.590.1">Morph into</span></strong><span class="koboSpan" id="kobo.591.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.592.1">QWidget</span></strong><span class="koboSpan" id="kobo.593.1">. </span><span class="koboSpan" id="kobo.593.2">Here, </span><strong class="bold"><span class="koboSpan" id="kobo.594.1">Vertical Layout</span></strong><span class="koboSpan" id="kobo.595.1"> is converted into an empty widget. </span><span class="koboSpan" id="kobo.595.2">This step is essential because we will be adjusting the width and height of the container for the login form. </span><span class="koboSpan" id="kobo.595.3">A layout widget does not contain any properties for width and height, only margins, since a layout will expand toward the space surrounding it. </span><span class="koboSpan" id="kobo.595.4">This makes </span><a id="_idIndexMarker037"/><span class="koboSpan" id="kobo.596.1">sense considering that it does not have any size properties. </span><span class="koboSpan" id="kobo.596.2">Once you have converted the layout into a </span><strong class="source-inline"><span class="koboSpan" id="kobo.597.1">QWidget</span></strong><span class="koboSpan" id="kobo.598.1"> object, it will automatically inherit all the</span><a id="_idIndexMarker038"/><span class="koboSpan" id="kobo.599.1"> properties from the widget class, which means we can now adjust its size to suit </span><span class="No-Break"><span class="koboSpan" id="kobo.600.1">our needs.</span></span></li>
<li><span class="koboSpan" id="kobo.601.1">Rename the </span><strong class="source-inline"><span class="koboSpan" id="kobo.602.1">QWidget</span></strong><span class="koboSpan" id="kobo.603.1"> object, which we just converted from the layout, </span><strong class="source-inline"><span class="koboSpan" id="kobo.604.1">loginForm</span></strong><span class="koboSpan" id="kobo.605.1"> and change both its </span><strong class="bold"><span class="koboSpan" id="kobo.606.1">Horizontal Policy</span></strong><span class="koboSpan" id="kobo.607.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.608.1">Vertical Policy</span></strong><span class="koboSpan" id="kobo.609.1"> properties to </span><strong class="bold"><span class="koboSpan" id="kobo.610.1">Fixed</span></strong><span class="koboSpan" id="kobo.611.1">. </span><span class="koboSpan" id="kobo.611.2">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.612.1">minimumSize</span></strong><span class="koboSpan" id="kobo.613.1"> parameter to </span><strong class="source-inline"><span class="koboSpan" id="kobo.614.1">350 </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.615.1">x 200</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.616.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.617.1">Since we already placed the </span><strong class="source-inline"><span class="koboSpan" id="kobo.618.1">loginForm</span></strong><span class="koboSpan" id="kobo.619.1"> widget inside </span><strong class="bold"><span class="koboSpan" id="kobo.620.1">Horizontal Layout</span></strong><span class="koboSpan" id="kobo.621.1">, we can set its </span><strong class="bold"><span class="koboSpan" id="kobo.622.1">layoutTopMargin</span></strong><span class="koboSpan" id="kobo.623.1"> property back </span><span class="No-Break"><span class="koboSpan" id="kobo.624.1">to zero.</span></span></li>
<li><span class="koboSpan" id="kobo.625.1">Add the same style sheet that you did for the logo to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.626.1">loginForm</span></strong><span class="koboSpan" id="kobo.627.1"> widget to make it visible temporarily. </span><span class="koboSpan" id="kobo.627.2">However, this time, we need to add an ID selector in front so that it will only apply the style to </span><strong class="source-inline"><span class="koboSpan" id="kobo.628.1">loginForm</span></strong><span class="koboSpan" id="kobo.629.1"> and not its </span><span class="No-Break"><span class="koboSpan" id="kobo.630.1">children widgets:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.631.1">
#loginForm { border: 1px solid; }</span></pre><p class="list-inset"><span class="koboSpan" id="kobo.632.1">Your UI should look something </span><span class="No-Break"><span class="koboSpan" id="kobo.633.1">like this:</span></span></p></li> </ol>
<div>
<div class="IMG---Figure" id="_idContainer013">
<span class="koboSpan" id="kobo.634.1"><img alt="Figure 1.9 – Constructing the frame for the login form" src="image/B20976_01_009.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.635.1">Figure 1.9 – Constructing the frame for the login form</span></p>
<p><span class="koboSpan" id="kobo.636.1">We are not done with the login form yet. </span><span class="koboSpan" id="kobo.636.2">Now that we have created the container for the login form, it’s time to put more widgets into </span><span class="No-Break"><span class="koboSpan" id="kobo.637.1">the form:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.638.1">Place two horizontal layouts</span><a id="_idIndexMarker039"/><span class="koboSpan" id="kobo.639.1"> in the login form container. </span><span class="koboSpan" id="kobo.639.2">We need two layouts: one for the username field</span><a id="_idIndexMarker040"/><span class="koboSpan" id="kobo.640.1"> and another for the </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">password field.</span></span></li>
<li><span class="koboSpan" id="kobo.642.1">Add </span><strong class="bold"><span class="koboSpan" id="kobo.643.1">Label</span></strong><span class="koboSpan" id="kobo.644.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.645.1">Line Edit</span></strong><span class="koboSpan" id="kobo.646.1"> properties to each of the layouts you just added. </span><span class="koboSpan" id="kobo.646.2">Change the </span><strong class="bold"><span class="koboSpan" id="kobo.647.1">text</span></strong><span class="koboSpan" id="kobo.648.1"> property of the upper label to </span><strong class="source-inline"><span class="koboSpan" id="kobo.649.1">Username:</span></strong><span class="koboSpan" id="kobo.650.1"> and the one beneath to </span><strong class="source-inline"><span class="koboSpan" id="kobo.651.1">Password:</span></strong><span class="koboSpan" id="kobo.652.1">. </span><span class="koboSpan" id="kobo.652.2">Rename the two line edits to </span><strong class="source-inline"><span class="koboSpan" id="kobo.653.1">username</span></strong><span class="koboSpan" id="kobo.654.1"> and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.655.1">password</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.656.1">, respectively.</span></span></li>
<li><span class="koboSpan" id="kobo.657.1">Add a push button beneath the password layout and change its </span><strong class="bold"><span class="koboSpan" id="kobo.658.1">text</span></strong><span class="koboSpan" id="kobo.659.1"> property to </span><strong class="source-inline"><span class="koboSpan" id="kobo.660.1">Login</span></strong><span class="koboSpan" id="kobo.661.1">. </span><span class="koboSpan" id="kobo.661.2">Rename </span><span class="No-Break"><span class="koboSpan" id="kobo.662.1">it </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.663.1">loginButton</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.664.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.665.1">You can add a </span><strong class="bold"><span class="koboSpan" id="kobo.666.1">Vertical Spacer</span></strong><span class="koboSpan" id="kobo.667.1"> widget between the password layout and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.668.1">Login</span></strong><span class="koboSpan" id="kobo.669.1"> button to distance them slightly. </span><span class="koboSpan" id="kobo.669.2">After the </span><strong class="bold"><span class="koboSpan" id="kobo.670.1">Vertical Spacer</span></strong><span class="koboSpan" id="kobo.671.1"> widget has been placed, change its </span><strong class="bold"><span class="koboSpan" id="kobo.672.1">sizeType</span></strong><span class="koboSpan" id="kobo.673.1"> property to </span><strong class="bold"><span class="koboSpan" id="kobo.674.1">Fixed</span></strong><span class="koboSpan" id="kobo.675.1"> and change its </span><strong class="bold"><span class="koboSpan" id="kobo.676.1">Height</span></strong><span class="koboSpan" id="kobo.677.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.678.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.679.1">5</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.680.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.681.1">Select the </span><strong class="source-inline"><span class="koboSpan" id="kobo.682.1">loginForm</span></strong><span class="koboSpan" id="kobo.683.1"> container and set all its margins to </span><strong class="source-inline"><span class="koboSpan" id="kobo.684.1">35</span></strong><span class="koboSpan" id="kobo.685.1">. </span><span class="koboSpan" id="kobo.685.2">This is to make the login form look better</span><a id="_idIndexMarker041"/><span class="koboSpan" id="kobo.686.1"> by adding some space to all </span><span class="No-Break"><span class="koboSpan" id="kobo.687.1">its sides.</span></span></li>
<li><span class="koboSpan" id="kobo.688.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.689.1">Height</span></strong><span class="koboSpan" id="kobo.690.1"> property of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.691.1">Username</span></strong><span class="koboSpan" id="kobo.692.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.693.1">Password</span></strong><span class="koboSpan" id="kobo.694.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.695.1">loginButton</span></strong><span class="koboSpan" id="kobo.696.1"> widgets to </span><strong class="source-inline"><span class="koboSpan" id="kobo.697.1">25</span></strong><span class="koboSpan" id="kobo.698.1"> so that they</span><a id="_idIndexMarker042"/><span class="koboSpan" id="kobo.699.1"> don’t look </span><span class="No-Break"><span class="koboSpan" id="kobo.700.1">so cramped.</span></span><p class="list-inset"><span class="koboSpan" id="kobo.701.1">Your UI should look something </span><span class="No-Break"><span class="koboSpan" id="kobo.702.1">like this:</span></span></p></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer014">
<span class="koboSpan" id="kobo.703.1"><img alt="Figure 1.10 – Adding widgets to the login form" src="image/B20976_01_010.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.704.1">Figure 1.10 – Adding widgets to the login form</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.705.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.706.1">Alternatively, you can use a grid layout for the </span><strong class="bold"><span class="koboSpan" id="kobo.707.1">Username</span></strong><span class="koboSpan" id="kobo.708.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.709.1">Password</span></strong><span class="koboSpan" id="kobo.710.1"> fields to keep their </span><span class="No-Break"><span class="koboSpan" id="kobo.711.1">sizes uniform.</span></span></p>
<p><span class="koboSpan" id="kobo.712.1">We’re not done yet! </span><span class="koboSpan" id="kobo.712.2">As you can see, the login form and the logo are both sticking to the top of the main window due</span><a id="_idIndexMarker043"/><span class="koboSpan" id="kobo.713.1"> to the </span><strong class="bold"><span class="koboSpan" id="kobo.714.1">Vertical Spacer</span></strong><span class="koboSpan" id="kobo.715.1"> widget beneath</span><a id="_idIndexMarker044"/><span class="koboSpan" id="kobo.716.1"> them. </span><span class="koboSpan" id="kobo.716.2">The logo and the login form should be placed at the center of the main window instead of the top. </span><span class="koboSpan" id="kobo.716.3">To fix this problem, follow </span><span class="No-Break"><span class="koboSpan" id="kobo.717.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.718.1">Add another </span><strong class="bold"><span class="koboSpan" id="kobo.719.1">Vertical Spacer</span></strong><span class="koboSpan" id="kobo.720.1"> widget between the top panel and the logo’s layout. </span><span class="koboSpan" id="kobo.720.2">This will counter the spacer at the bottom to balance out </span><span class="No-Break"><span class="koboSpan" id="kobo.721.1">the alignment.</span></span></li>
<li><span class="koboSpan" id="kobo.722.1">If you think that the logo is sticking too close to the login form, you can add a </span><strong class="bold"><span class="koboSpan" id="kobo.723.1">Vertical Spacer</span></strong><span class="koboSpan" id="kobo.724.1"> widget between the logo’s layout and the login form’s layout. </span><span class="koboSpan" id="kobo.724.2">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.725.1">sizeType</span></strong><span class="koboSpan" id="kobo.726.1"> property to </span><strong class="bold"><span class="koboSpan" id="kobo.727.1">Fixed</span></strong><span class="koboSpan" id="kobo.728.1"> and its </span><strong class="bold"><span class="koboSpan" id="kobo.729.1">Height</span></strong><span class="koboSpan" id="kobo.730.1"> property </span><span class="No-Break"><span class="koboSpan" id="kobo.731.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.732.1">10</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.733.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.734.1">Right-click the top panel’s layout and choose </span><strong class="bold"><span class="koboSpan" id="kobo.735.1">Morph into</span></strong><span class="koboSpan" id="kobo.736.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.737.1">QWidget</span></strong><span class="koboSpan" id="kobo.738.1">. </span><span class="koboSpan" id="kobo.738.2">Rename it </span><strong class="source-inline"><span class="koboSpan" id="kobo.739.1">topPanel</span></strong><span class="koboSpan" id="kobo.740.1">. </span><span class="koboSpan" id="kobo.740.2">The layout must be converted into </span><strong class="bold"><span class="koboSpan" id="kobo.741.1">QWidget</span></strong><span class="koboSpan" id="kobo.742.1"> because we cannot apply style sheets to a layout. </span><span class="koboSpan" id="kobo.742.2">This is because a layout doesn’t have any properties other </span><span class="No-Break"><span class="koboSpan" id="kobo.743.1">than margins.</span></span></li>
<li><span class="koboSpan" id="kobo.744.1">There is a little bit of a margin around the edges of the main window – we don’t want that. </span><span class="koboSpan" id="kobo.744.2">To remove the margins, select the </span><strong class="bold"><span class="koboSpan" id="kobo.745.1">centralWidget</span></strong><span class="koboSpan" id="kobo.746.1"> object from the </span><strong class="bold"><span class="koboSpan" id="kobo.747.1">Object Inspector</span></strong><span class="koboSpan" id="kobo.748.1"> window, which is right under the </span><strong class="bold"><span class="koboSpan" id="kobo.749.1">MainWindow</span></strong><span class="koboSpan" id="kobo.750.1"> panel, and set all the margin values </span><span class="No-Break"><span class="koboSpan" id="kobo.751.1">to zero.</span></span></li>
<li><span class="koboSpan" id="kobo.752.1">Run the project by clicking the </span><strong class="bold"><span class="koboSpan" id="kobo.753.1">Run</span></strong><span class="koboSpan" id="kobo.754.1"> button (with the green arrow icon) to see what your program looks like. </span><span class="koboSpan" id="kobo.754.2">If everything goes well, you should see something </span><span class="No-Break"><span class="koboSpan" id="kobo.755.1">like this:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer015">
<span class="koboSpan" id="kobo.756.1"><img alt="Figure 1.11 – We’re done with the layout – for now" src="image/B20976_01_011.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.757.1">Figure 1.11 – We’re done with the layout – for now</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.758.1">Now, let’s decorate the UI </span><a id="_idIndexMarker045"/><span class="koboSpan" id="kobo.759.1">using style sheets! </span><span class="koboSpan" id="kobo.759.2">Since all the important widgets have been given object names, it’s easier for us to apply the style sheets to them from the main window since we will only write the style sheets to the main window and let them </span><a id="_idIndexMarker046"/><span class="koboSpan" id="kobo.760.1">inherit down the </span><span class="No-Break"><span class="koboSpan" id="kobo.761.1">hierarchy tree.</span></span></li>
<li><span class="koboSpan" id="kobo.762.1">Right-click on </span><strong class="bold"><span class="koboSpan" id="kobo.763.1">MainWindow</span></strong><span class="koboSpan" id="kobo.764.1"> from the </span><strong class="bold"><span class="koboSpan" id="kobo.765.1">Object Inspector</span></strong><span class="koboSpan" id="kobo.766.1"> area and choose </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.767.1">Change styleSheet...</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.768.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.769.1">Add the following code to the </span><span class="No-Break"><span class="koboSpan" id="kobo.770.1">style sheet:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.771.1">
#centralWidget { background: rgba(32, 80, 96, 100); }</span></pre></li> <li><span class="koboSpan" id="kobo.772.1">The background of the main window will change color. </span><span class="koboSpan" id="kobo.772.2">We will learn how to use an image for the background in the </span><em class="italic"><span class="koboSpan" id="kobo.773.1">Using resources in style sheets</span></em><span class="koboSpan" id="kobo.774.1"> recipe. </span><span class="koboSpan" id="kobo.774.2">So, the color is </span><span class="No-Break"><span class="koboSpan" id="kobo.775.1">just temporary.</span></span></li>
<li><span class="koboSpan" id="kobo.776.1">In Qt, if you want to apply styles to the main window itself, you must apply them to its </span><strong class="bold"><span class="koboSpan" id="kobo.777.1">centralWidget</span></strong><span class="koboSpan" id="kobo.778.1"> widget instead of the main window since the window is just </span><span class="No-Break"><span class="koboSpan" id="kobo.779.1">a container.</span></span></li>
<li><span class="koboSpan" id="kobo.780.1">Add a nice gradient color to the </span><span class="No-Break"><span class="koboSpan" id="kobo.781.1">top panel:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.782.1">
#topPanel {
     background-color: qlineargradient(spread:reflect, x1:0.5, y1:0, x2:0, y2:0, stop:0 rgba(91, 204, 233, 100), stop:1 rgba(32, 80, 96, 100));
}</span></pre></li> <li><span class="koboSpan" id="kobo.783.1">Apply the black color to the login form and make it look semi-transparent. </span><span class="koboSpan" id="kobo.783.2">We will also make the corners</span><a id="_idIndexMarker047"/><span class="koboSpan" id="kobo.784.1"> of the login form container slightly rounded by setting the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.785.1">border-radius</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.786.1"> property:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.787.1">
#loginForm {
     background: rgba(0, 0, 0, 80);
     border-radius: 8px;
}</span></pre></li> <li><span class="koboSpan" id="kobo.788.1">Apply styles to the</span><a id="_idIndexMarker048"/><span class="koboSpan" id="kobo.789.1"> general types </span><span class="No-Break"><span class="koboSpan" id="kobo.790.1">of widgets:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.791.1">
QLabel { color: white; }
QLineEdit { border-radius: 3px; }</span></pre></li> <li><span class="koboSpan" id="kobo.792.1">The preceding style sheets will change all the labels’ texts to a white color; this includes the text on the widgets as well because, internally, Qt uses the same type of label on the widgets that have text on them. </span><span class="koboSpan" id="kobo.792.2">Also, we made the corners of the line edit widgets </span><span class="No-Break"><span class="koboSpan" id="kobo.793.1">slightly rounded.</span></span></li>
<li><span class="koboSpan" id="kobo.794.1">Apply style sheets to all the push buttons on </span><span class="No-Break"><span class="koboSpan" id="kobo.795.1">our UI:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.796.1">
QPushButton {
     color: white;
     background-color: #27a9e3;
     border-width: 0px;
     border-radius: 3px;
}</span></pre></li> <li><span class="koboSpan" id="kobo.797.1">The preceding style sheet changes the text of all the buttons to a white color, then sets its background color to blue, and makes its corners </span><span class="No-Break"><span class="koboSpan" id="kobo.798.1">slightly rounded.</span></span></li>
<li><span class="koboSpan" id="kobo.799.1">To push things even further, we will make it so that the color of the push buttons changes when we</span><a id="_idIndexMarker049"/><span class="koboSpan" id="kobo.800.1"> mouse over it by using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.801.1">hover</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.802.1"> keyword:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.803.1">
QPushButton:hover { background-color: #66c011; }</span></pre></li> <li><span class="koboSpan" id="kobo.804.1">The preceding style sheet will change the background color of the push buttons to green when we mouse</span><a id="_idIndexMarker050"/><span class="koboSpan" id="kobo.805.1"> over them. </span><span class="koboSpan" id="kobo.805.2">We will talk more about this in the </span><em class="italic"><span class="koboSpan" id="kobo.806.1">Customizing properties and </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.807.1">sub-controls</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.808.1"> recipe.</span></span></li>
<li><span class="koboSpan" id="kobo.809.1">You can further adjust the size and margins of the widgets to make them look even better. </span><span class="koboSpan" id="kobo.809.2">Remember to remove the border line of the login form by removing the style sheet that we applied directly to it in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.810.1">step 6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.811.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.812.1">Your login screen should look something </span><span class="No-Break"><span class="koboSpan" id="kobo.813.1">like this:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer016">
<span class="koboSpan" id="kobo.814.1"><img alt="Figure 1.12 – Applying colors and styles to the widgets" src="image/B20976_01_012.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.815.1">Figure 1.12 – Applying colors and styles to the widgets</span></p>
<h2 id="_idParaDest-26"><a id="_idTextAnchor026"/><span class="koboSpan" id="kobo.816.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.817.1">This example focused more on the layout system of Qt. </span><span class="koboSpan" id="kobo.817.2">Qt’s layout system allows our application GUI to automatically</span><a id="_idIndexMarker051"/><span class="koboSpan" id="kobo.818.1"> arrange itself within the given space by arranging the children objects of each widget. </span><span class="koboSpan" id="kobo.818.2">The spacer items that we used in this recipe</span><a id="_idIndexMarker052"/><span class="koboSpan" id="kobo.819.1"> help push the widgets contained in a layout outward to create spacing along the width of the </span><span class="No-Break"><span class="koboSpan" id="kobo.820.1">spacer item.</span></span></p>
<p><span class="koboSpan" id="kobo.821.1">To locate a widget in the middle of the layout, we must put two spacer items into the layout: one on the left-hand side of the widget and one on the right-hand side of the widget. </span><span class="koboSpan" id="kobo.821.2">The widget will then be pushed to the middle of the layout by the </span><span class="No-Break"><span class="koboSpan" id="kobo.822.1">two spacers.</span></span></p>
<h1 id="_idParaDest-27"><a id="_idTextAnchor027"/><span class="koboSpan" id="kobo.823.1">Using resources in style sheets</span></h1>
<p><span class="koboSpan" id="kobo.824.1">Qt provides us with </span><a id="_idIndexMarker053"/><span class="koboSpan" id="kobo.825.1">a platform-independent resource system that allows us to store any type of file in our program’s executable for later use. </span><span class="koboSpan" id="kobo.825.2">There is no limit to the</span><a id="_idIndexMarker054"/><span class="koboSpan" id="kobo.826.1"> types of files we can store in our executable – images, audio, video, HTML, XML, text files, binary files, and so on are </span><span class="No-Break"><span class="koboSpan" id="kobo.827.1">all permitted.</span></span></p>
<p><span class="koboSpan" id="kobo.828.1">The resource system is really useful for embedding resource files (such as icons and translation files) into the executable so that it can be accessed by the application at any time. </span><span class="koboSpan" id="kobo.828.2">To achieve this, we must tell Qt which files we want to add to its resource system in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.829.1">.qrc</span></strong><span class="koboSpan" id="kobo.830.1"> file; Qt will handle the rest during the </span><span class="No-Break"><span class="koboSpan" id="kobo.831.1">build process.</span></span></p>
<h2 id="_idParaDest-28"><a id="_idTextAnchor028"/><span class="koboSpan" id="kobo.832.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.833.1">To add a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.834.1">.qrc</span></strong><span class="koboSpan" id="kobo.835.1"> file to our project, go to </span><strong class="bold"><span class="koboSpan" id="kobo.836.1">File</span></strong><span class="koboSpan" id="kobo.837.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.838.1">New File</span></strong><span class="koboSpan" id="kobo.839.1">. </span><span class="koboSpan" id="kobo.839.2">Then, select </span><strong class="bold"><span class="koboSpan" id="kobo.840.1">Qt</span></strong><span class="koboSpan" id="kobo.841.1"> under the </span><strong class="bold"><span class="koboSpan" id="kobo.842.1">Files and Classes</span></strong><span class="koboSpan" id="kobo.843.1"> category and select </span><strong class="bold"><span class="koboSpan" id="kobo.844.1">Qt Resources File</span></strong><span class="koboSpan" id="kobo.845.1">. </span><span class="koboSpan" id="kobo.845.2">After that, give it a name (that is, </span><strong class="source-inline"><span class="koboSpan" id="kobo.846.1">resources</span></strong><span class="koboSpan" id="kobo.847.1">) and click the </span><strong class="bold"><span class="koboSpan" id="kobo.848.1">Next</span></strong><span class="koboSpan" id="kobo.849.1"> button, followed by the </span><strong class="bold"><span class="koboSpan" id="kobo.850.1">Finish</span></strong><span class="koboSpan" id="kobo.851.1"> button. </span><span class="koboSpan" id="kobo.851.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.852.1">.qrc</span></strong><span class="koboSpan" id="kobo.853.1"> file will now be created and automatically opened by Qt Creator. </span><span class="koboSpan" id="kobo.853.2">You don’t have to edit the </span><strong class="source-inline"><span class="koboSpan" id="kobo.854.1">.qrc</span></strong><span class="koboSpan" id="kobo.855.1"> file directly in XML format as Qt Creator provides you with the user interface to manage </span><span class="No-Break"><span class="koboSpan" id="kobo.856.1">your resources.</span></span></p>
<p><span class="koboSpan" id="kobo.857.1">To add images and icons to your project, you need to make sure that the images and icons are being placed in your project’s directory. </span><span class="koboSpan" id="kobo.857.2">While the </span><strong class="source-inline"><span class="koboSpan" id="kobo.858.1">.qrc</span></strong><span class="koboSpan" id="kobo.859.1"> file is opened in Qt Creator, click the </span><strong class="bold"><span class="koboSpan" id="kobo.860.1">Add</span></strong><span class="koboSpan" id="kobo.861.1"> button, followed by the </span><strong class="bold"><span class="koboSpan" id="kobo.862.1">Add Prefix</span></strong><span class="koboSpan" id="kobo.863.1"> button. </span><span class="koboSpan" id="kobo.863.2">The prefix is used to categorize your resources so that they can be better managed when you have a ton of resources in </span><span class="No-Break"><span class="koboSpan" id="kobo.864.1">your project:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.865.1">Rename the prefix you just created </span><span class="No-Break"><span class="koboSpan" id="kobo.866.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.867.1">/icons</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.868.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.869.1">Create another prefix by clicking </span><strong class="bold"><span class="koboSpan" id="kobo.870.1">Add</span></strong><span class="koboSpan" id="kobo.871.1">, followed by </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.872.1">Add Prefix</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.873.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.874.1">Rename the new </span><span class="No-Break"><span class="koboSpan" id="kobo.875.1">prefix </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.876.1">/images</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.877.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.878.1">Select the </span><strong class="source-inline"><span class="koboSpan" id="kobo.879.1">/icon</span></strong><span class="koboSpan" id="kobo.880.1"> prefix and click </span><strong class="bold"><span class="koboSpan" id="kobo.881.1">Add</span></strong><span class="koboSpan" id="kobo.882.1">, followed by </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.883.1">Add Files</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.884.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.885.1">A file selection window will appear; use that to select all the icon files. </span><span class="koboSpan" id="kobo.885.2">You can select multiple files at a time by holding the </span><em class="italic"><span class="koboSpan" id="kobo.886.1">Ctrl</span></em><span class="koboSpan" id="kobo.887.1"> key on your keyboard while clicking on the files to select them. </span><span class="koboSpan" id="kobo.887.2">Click </span><strong class="bold"><span class="koboSpan" id="kobo.888.1">Open</span></strong><span class="koboSpan" id="kobo.889.1"> once </span><span class="No-Break"><span class="koboSpan" id="kobo.890.1">you’re done.</span></span></li>
<li><span class="koboSpan" id="kobo.891.1">Select the </span><strong class="source-inline"><span class="koboSpan" id="kobo.892.1">/images</span></strong><span class="koboSpan" id="kobo.893.1"> prefix and click the </span><strong class="bold"><span class="koboSpan" id="kobo.894.1">Add</span></strong><span class="koboSpan" id="kobo.895.1"> button, followed by the </span><strong class="bold"><span class="koboSpan" id="kobo.896.1">Add Files</span></strong><span class="koboSpan" id="kobo.897.1"> button. </span><span class="koboSpan" id="kobo.897.2">The file-selection </span><a id="_idIndexMarker055"/><span class="koboSpan" id="kobo.898.1">window will pop up again; this time, we will select the </span><span class="No-Break"><span class="koboSpan" id="kobo.899.1">background image.</span></span></li>
<li><span class="koboSpan" id="kobo.900.1">Repeat the preceding</span><a id="_idIndexMarker056"/><span class="koboSpan" id="kobo.901.1"> steps, but this time, we will add the logo image to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.902.1">/images</span></strong><span class="koboSpan" id="kobo.903.1"> prefix. </span><span class="koboSpan" id="kobo.903.2">Don’t forget to save once you’re done by pressing </span><em class="italic"><span class="koboSpan" id="kobo.904.1">Ctrl</span></em><span class="koboSpan" id="kobo.905.1"> + </span><em class="italic"><span class="koboSpan" id="kobo.906.1">S</span></em><span class="koboSpan" id="kobo.907.1">. </span><span class="koboSpan" id="kobo.907.2">Your </span><strong class="source-inline"><span class="koboSpan" id="kobo.908.1">.qrc</span></strong><span class="koboSpan" id="kobo.909.1"> file should now look </span><span class="No-Break"><span class="koboSpan" id="kobo.910.1">like this:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer017">
<span class="koboSpan" id="kobo.911.1"><img alt="Figure 1.13 – Showing the structure of the resource file" src="image/B20976_01_013.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.912.1">Figure 1.13 – Showing the structure of the resource file</span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.913.1">Go back to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.914.1">mainwindow.ui</span></strong><span class="koboSpan" id="kobo.915.1"> file; let’s make use of the resources we have just added to our project. </span><span class="koboSpan" id="kobo.915.2">Select the restart button located on the top panel. </span><span class="koboSpan" id="kobo.915.3">Scroll down the </span><strong class="bold"><span class="koboSpan" id="kobo.916.1">Property Editor</span></strong><span class="koboSpan" id="kobo.917.1"> area until you see the </span><strong class="bold"><span class="koboSpan" id="kobo.918.1">icon</span></strong><span class="koboSpan" id="kobo.919.1"> property. </span><span class="koboSpan" id="kobo.919.2">Click the little button with a drop-down arrow icon and click </span><strong class="bold"><span class="koboSpan" id="kobo.920.1">Choose Resources</span></strong><span class="koboSpan" id="kobo.921.1"> from </span><span class="No-Break"><span class="koboSpan" id="kobo.922.1">its menu.</span></span></li>
<li><span class="koboSpan" id="kobo.923.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.924.1">Select Resource</span></strong><span class="koboSpan" id="kobo.925.1"> window will pop up. </span><span class="koboSpan" id="kobo.925.2">Click on the icons prefix on the left panel and select the restart icon on the right panel. </span><span class="No-Break"><span class="koboSpan" id="kobo.926.1">Press </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.927.1">OK</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.928.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.929.1">A tiny icon will appear on the button. </span><span class="koboSpan" id="kobo.929.2">This icon looks very tiny because the default icon size is set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.930.1">16 x 16</span></strong><span class="koboSpan" id="kobo.931.1">. </span><span class="koboSpan" id="kobo.931.2">Change the </span><strong class="bold"><span class="koboSpan" id="kobo.932.1">iconSize</span></strong><span class="koboSpan" id="kobo.933.1"> property to </span><strong class="source-inline"><span class="koboSpan" id="kobo.934.1">50 x 50</span></strong><span class="koboSpan" id="kobo.935.1">; you will see that the icon appears bigger. </span><span class="koboSpan" id="kobo.935.2">Repeat the preceding steps for the shutdown button, except this time, choose the shutdown </span><span class="No-Break"><span class="koboSpan" id="kobo.936.1">icon instead.</span></span></li>
<li><span class="koboSpan" id="kobo.937.1">The two buttons should now look </span><span class="No-Break"><span class="koboSpan" id="kobo.938.1">like this:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer018">
<span class="koboSpan" id="kobo.939.1"><img alt="Figure 1.14 – Applying icons to the push buttons" src="image/B20976_01_014.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.940.1">Figure 1.14 – Applying icons to the push buttons</span></p>
<ol>
<li value="12"><span class="koboSpan" id="kobo.941.1">Let’s use the image we </span><a id="_idIndexMarker057"/><span class="koboSpan" id="kobo.942.1">added to the resource file as our logo. </span><span class="koboSpan" id="kobo.942.2">Select </span><a id="_idIndexMarker058"/><span class="koboSpan" id="kobo.943.1">the logo widget and remove the style sheet that we added earlier to render </span><span class="No-Break"><span class="koboSpan" id="kobo.944.1">its outline.</span></span></li>
<li><span class="koboSpan" id="kobo.945.1">Scroll down the </span><strong class="bold"><span class="koboSpan" id="kobo.946.1">Property Editor</span></strong><span class="koboSpan" id="kobo.947.1"> area until you see the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.948.1">pixmap</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.949.1"> property.</span></span></li>
<li><span class="koboSpan" id="kobo.950.1">Click the little drop-down button behind the </span><strong class="bold"><span class="koboSpan" id="kobo.951.1">pixmap</span></strong><span class="koboSpan" id="kobo.952.1"> property and select </span><strong class="bold"><span class="koboSpan" id="kobo.953.1">Choose Resources</span></strong><span class="koboSpan" id="kobo.954.1"> from the menu. </span><span class="koboSpan" id="kobo.954.2">Select the logo image and click </span><strong class="bold"><span class="koboSpan" id="kobo.955.1">OK</span></strong><span class="koboSpan" id="kobo.956.1">. </span><span class="koboSpan" id="kobo.956.2">The logo size no longer follows the dimension you set previously; it follows the actual dimension of the image instead. </span><span class="koboSpan" id="kobo.956.3">We cannot change its dimension because this is simply how the </span><strong class="bold"><span class="koboSpan" id="kobo.957.1">pixmap</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.958.1">property works.</span></span></li>
<li><span class="koboSpan" id="kobo.959.1">If you want more control over the logo’s dimension, you can remove the image from the </span><strong class="bold"><span class="koboSpan" id="kobo.960.1">pixmap</span></strong><span class="koboSpan" id="kobo.961.1"> property and use a style sheet instead. </span><span class="koboSpan" id="kobo.961.2">You can use the following code to apply an image to the </span><span class="No-Break"><span class="koboSpan" id="kobo.962.1">icon container:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.963.1">
border-image: url(:/images/logo.png);</span></pre></li> <li><span class="koboSpan" id="kobo.964.1">To obtain the path of the image, right-click the image’s name in the file list window and choose </span><strong class="bold"><span class="koboSpan" id="kobo.965.1">Copy path</span></strong><span class="koboSpan" id="kobo.966.1">. </span><span class="koboSpan" id="kobo.966.2">The path will be saved to your operating system’s clipboard; now, you can just paste it into the preceding style sheet. </span><span class="koboSpan" id="kobo.966.3">Using this method will ensure that the image fits the dimensions of the widget that you applied the style to. </span><span class="koboSpan" id="kobo.966.4">Your logo should now appear like what’s shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.967.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer019">
<span class="koboSpan" id="kobo.968.1"><img alt="Figure 1.15 – The logo is now appearing at the top of the login form" src="image/B20976_01_015.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.969.1">Figure 1.15 – The logo is now appearing at the top of the login form</span></p>
<ol>
<li value="17"><span class="koboSpan" id="kobo.970.1">Apply the wallpaper image to the background using a style sheet. </span><span class="koboSpan" id="kobo.970.2">Since the background dimension will change </span><a id="_idIndexMarker059"/><span class="koboSpan" id="kobo.971.1">according to the window size, we cannot use </span><strong class="bold"><span class="koboSpan" id="kobo.972.1">pixmap</span></strong><span class="koboSpan" id="kobo.973.1"> here. </span><span class="koboSpan" id="kobo.973.2">Instead, we </span><a id="_idIndexMarker060"/><span class="koboSpan" id="kobo.974.1">will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.975.1">border-image</span></strong><span class="koboSpan" id="kobo.976.1"> property in a style sheet. </span><span class="koboSpan" id="kobo.976.2">Right-click the main window and select </span><strong class="bold"><span class="koboSpan" id="kobo.977.1">Change styleSheet...</span></strong><span class="koboSpan" id="kobo.978.1"> to open the </span><strong class="bold"><span class="koboSpan" id="kobo.979.1">Edit Style Sheet</span></strong><span class="koboSpan" id="kobo.980.1"> window. </span><span class="koboSpan" id="kobo.980.2">We will add a new line under the style sheet of the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.981.1">centralWidget</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.982.1"> widget:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.983.1">
#centralWidget {
     background: rgba(32, 80, 96, 100);
     border-image: url(:/images/login_bg.png);
}</span></pre></li> <li><span class="koboSpan" id="kobo.984.1">It’s really that simple and easy! </span><span class="koboSpan" id="kobo.984.2">Your login screen should now look </span><span class="No-Break"><span class="koboSpan" id="kobo.985.1">like this:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer020">
<span class="koboSpan" id="kobo.986.1"><img alt="Figure 1.16 – The final result looks neat" src="image/B20976_01_016.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.987.1">Figure 1.16 – The final result looks neat</span></p>
<h2 id="_idParaDest-29"><a id="_idTextAnchor029"/><span class="koboSpan" id="kobo.988.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.989.1">The resource system in Qt stores binary files, such as images and translation files, in the executable when it gets compiled. </span><span class="koboSpan" id="kobo.989.2">It reads the </span><strong class="bold"><span class="koboSpan" id="kobo.990.1">resource collection files</span></strong><span class="koboSpan" id="kobo.991.1"> (</span><strong class="source-inline"><span class="koboSpan" id="kobo.992.1">.qrc</span></strong><span class="koboSpan" id="kobo.993.1">) in your project to</span><a id="_idIndexMarker061"/><span class="koboSpan" id="kobo.994.1"> locate the files that need to be stored in the executable and include them</span><a id="_idIndexMarker062"/><span class="koboSpan" id="kobo.995.1"> in the build process. </span><span class="koboSpan" id="kobo.995.2">A </span><strong class="source-inline"><span class="koboSpan" id="kobo.996.1">.qrc</span></strong><span class="koboSpan" id="kobo.997.1"> file looks something </span><span class="No-Break"><span class="koboSpan" id="kobo.998.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.999.1">
&lt;!DOCTYPE RCC&gt;
&lt;RCC version="1.0"&gt;
     &lt;qresource&gt;
           &lt;file&gt;images/copy.png&lt;/file&gt;
           &lt;file&gt;images/cut.png&lt;/file&gt;
           &lt;file&gt;images/new.png&lt;/file&gt;
           &lt;file&gt;images/open.png&lt;/file&gt;
           &lt;file&gt;images/paste.png&lt;/file&gt;
           &lt;file&gt;images/save.png&lt;/file&gt;
     &lt;/qresource&gt;
&lt;/RCC&gt;</span></pre> <p><span class="koboSpan" id="kobo.1000.1">It uses </span><strong class="bold"><span class="koboSpan" id="kobo.1001.1">XML format</span></strong><span class="koboSpan" id="kobo.1002.1"> to store</span><a id="_idIndexMarker063"/><span class="koboSpan" id="kobo.1003.1"> the paths of the resource files, which are relative to</span><a id="_idIndexMarker064"/><span class="koboSpan" id="kobo.1004.1"> the directory that contains them. </span><span class="koboSpan" id="kobo.1004.2">The listed resource files must be located in the same directory as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1005.1">.qrc</span></strong><span class="koboSpan" id="kobo.1006.1"> file, or one of </span><span class="No-Break"><span class="koboSpan" id="kobo.1007.1">its subdirectories.</span></span></p>
<h1 id="_idParaDest-30"><a id="_idTextAnchor030"/><span class="koboSpan" id="kobo.1008.1">Customizing properties and sub-controls</span></h1>
<p><span class="koboSpan" id="kobo.1009.1">Qt’s style sheet system enables us to create stunning and professional-looking UIs with ease. </span><span class="koboSpan" id="kobo.1009.2">In this example, we will learn </span><a id="_idIndexMarker065"/><span class="koboSpan" id="kobo.1010.1">how to set custom properties for our widgets and use </span><a id="_idIndexMarker066"/><span class="koboSpan" id="kobo.1011.1">them to switch between </span><span class="No-Break"><span class="koboSpan" id="kobo.1012.1">different styles.</span></span></p>
<h2 id="_idParaDest-31"><a id="_idTextAnchor031"/><span class="koboSpan" id="kobo.1013.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.1014.1">Follow these steps to customize widget properties </span><span class="No-Break"><span class="koboSpan" id="kobo.1015.1">and sub-controls:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1016.1">Let’s create a new Qt project. </span><span class="koboSpan" id="kobo.1016.2">I have prepared the UI for this purpose. </span><span class="koboSpan" id="kobo.1016.3">The UI contains three buttons on the</span><a id="_idIndexMarker067"/><span class="koboSpan" id="kobo.1017.1"> left-hand side and a </span><strong class="bold"><span class="koboSpan" id="kobo.1018.1">tab widget</span></strong><span class="koboSpan" id="kobo.1019.1"> with three pages located on the right-hand side, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1020.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer021">
<span class="koboSpan" id="kobo.1021.1"><img alt="Figure 1.17 – Basic user interface with three tabs and buttons" src="image/B20976_01_017.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1022.1">Figure 1.17 – Basic user interface with three tabs and buttons</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.1023.1">The three buttons </span><a id="_idIndexMarker068"/><span class="koboSpan" id="kobo.1024.1">are blue because I’ve added the following style </span><a id="_idIndexMarker069"/><span class="koboSpan" id="kobo.1025.1">sheet to the main window (not to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1026.1">individual button):</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1027.1">
QPushButton {
     color: white;
     background-color: #27a9e3;
     border-width: 0px;
     border-radius: 3px;
}</span></pre></li> <li><span class="koboSpan" id="kobo.1028.1">I will explain what </span><strong class="bold"><span class="koboSpan" id="kobo.1029.1">pseudo-states</span></strong><span class="koboSpan" id="kobo.1030.1"> are in Qt</span><a id="_idIndexMarker070"/><span class="koboSpan" id="kobo.1031.1"> by adding the following style sheet to the main window. </span><span class="koboSpan" id="kobo.1031.2">You might be familiar </span><span class="No-Break"><span class="koboSpan" id="kobo.1032.1">with this:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1033.1">
QPushButton:hover {
     color: white;
     background-color: #66c011;
     border-width: 0px;
     border-radius: 3px;
}</span></pre></li> <li><span class="koboSpan" id="kobo.1034.1">We used the preceding style sheet in the </span><em class="italic"><span class="koboSpan" id="kobo.1035.1">Creating a login screen using style sheets</span></em><span class="koboSpan" id="kobo.1036.1"> recipe, to make the buttons change color when there is a mouse-over event. </span><span class="koboSpan" id="kobo.1036.2">This is made possible by Qt Style Sheet’s </span><strong class="bold"><span class="koboSpan" id="kobo.1037.1">pseudo-state</span></strong><span class="koboSpan" id="kobo.1038.1">, which in this case is the word </span><strong class="source-inline"><span class="koboSpan" id="kobo.1039.1">hover</span></strong><span class="koboSpan" id="kobo.1040.1"> separated from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1041.1">QPushButton</span></strong><span class="koboSpan" id="kobo.1042.1"> class by a colon. </span><span class="koboSpan" id="kobo.1042.2">Every widget has a set of generic pseudo-states, such as </span><strong class="bold"><span class="koboSpan" id="kobo.1043.1">active</span></strong><span class="koboSpan" id="kobo.1044.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.1045.1">disabled</span></strong><span class="koboSpan" id="kobo.1046.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.1047.1">enabled</span></strong><span class="koboSpan" id="kobo.1048.1">, and also a set of </span><a id="_idIndexMarker071"/><span class="koboSpan" id="kobo.1049.1">pseudo-states that apply to their widget type. </span><span class="koboSpan" id="kobo.1049.2">For example, states such</span><a id="_idIndexMarker072"/><span class="koboSpan" id="kobo.1050.1"> as </span><strong class="bold"><span class="koboSpan" id="kobo.1051.1">open</span></strong><span class="koboSpan" id="kobo.1052.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.1053.1">flat</span></strong><span class="koboSpan" id="kobo.1054.1"> are available for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1055.1">QPushButton</span></strong><span class="koboSpan" id="kobo.1056.1">, but not for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1057.1">QLineEdit</span></strong><span class="koboSpan" id="kobo.1058.1">. </span><span class="koboSpan" id="kobo.1058.2">Let’s add the </span><strong class="bold"><span class="koboSpan" id="kobo.1059.1">pressed</span></strong><span class="koboSpan" id="kobo.1060.1"> pseudo-state to change the buttons’ color to yellow when the user clicks </span><span class="No-Break"><span class="koboSpan" id="kobo.1061.1">on it:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1062.1">
QPushButton:pressed {
     color: white;
     background-color: yellow;
     border-width: 0px;
     border-radius: 3px;
}</span></pre></li> <li><span class="koboSpan" id="kobo.1063.1">Pseudo-states allow the users to load a different set of style sheets based on the condition that applies to them. </span><span class="koboSpan" id="kobo.1063.2">Qt pushes this concept further by implementing </span><strong class="bold"><span class="koboSpan" id="kobo.1064.1">dynamic properties</span></strong><span class="koboSpan" id="kobo.1065.1"> in Qt Style</span><a id="_idIndexMarker073"/><span class="koboSpan" id="kobo.1066.1"> Sheets. </span><span class="koboSpan" id="kobo.1066.2">This allows us to change the style sheet of a widget when a custom condition has been met. </span><span class="koboSpan" id="kobo.1066.3">We can make use of this feature to change the style sheet of our buttons based on a custom condition that we can set using custom properties in Qt. </span><span class="koboSpan" id="kobo.1066.4">First, we will add this style sheet to our </span><span class="No-Break"><span class="koboSpan" id="kobo.1067.1">main window:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1068.1">
QPushButton[pagematches=true] {
     color: white;
     background-color: red;
     border-width: 0px;
     border-radius: 3px;
}</span></pre></li> <li><span class="koboSpan" id="kobo.1069.1">This changes the push button’s background </span><a id="_idIndexMarker074"/><span class="koboSpan" id="kobo.1070.1">color to red if the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1071.1">pagematches</span></strong><span class="koboSpan" id="kobo.1072.1"> property returns </span><strong class="bold"><span class="koboSpan" id="kobo.1073.1">true</span></strong><span class="koboSpan" id="kobo.1074.1">. </span><span class="koboSpan" id="kobo.1074.2">This </span><a id="_idIndexMarker075"/><span class="koboSpan" id="kobo.1075.1">property does not exist in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1076.1">QPushButton</span></strong><span class="koboSpan" id="kobo.1077.1"> class. </span><span class="koboSpan" id="kobo.1077.2">However, we can add it to our buttons </span><span class="No-Break"><span class="koboSpan" id="kobo.1078.1">using </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1079.1">QObject::setProperty()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1080.1">:</span></span><ul><li><span class="koboSpan" id="kobo.1081.1">In your </span><strong class="source-inline"><span class="koboSpan" id="kobo.1082.1">mainwindow.cpp</span></strong><span class="koboSpan" id="kobo.1083.1"> source code, add the following code right </span><span class="No-Break"><span class="koboSpan" id="kobo.1084.1">after </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1085.1">ui-&gt;setupUi(this)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1086.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1087.1">
ui-&gt;button1-&gt;setProperty("pagematches", true);</span></pre></li></ul><p class="list-inset"><span class="koboSpan" id="kobo.1088.1">The preceding code will add a custom property called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1089.1">pagematches</span></strong><span class="koboSpan" id="kobo.1090.1"> to the first button and set its value as true. </span><span class="koboSpan" id="kobo.1090.2">This will make the first button turn red </span><span class="No-Break"><span class="koboSpan" id="kobo.1091.1">by default.</span></span></p><ul><li><span class="koboSpan" id="kobo.1092.1">After that, right-click on </span><strong class="bold"><span class="koboSpan" id="kobo.1093.1">Tab Widget</span></strong><span class="koboSpan" id="kobo.1094.1"> and choose </span><strong class="bold"><span class="koboSpan" id="kobo.1095.1">Go to slot…</span></strong><span class="koboSpan" id="kobo.1096.1">. </span><span class="koboSpan" id="kobo.1096.2">A window will pop up; select the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1097.1">currentChanged(int)</span></strong><span class="koboSpan" id="kobo.1098.1"> option from the list and click </span><strong class="bold"><span class="koboSpan" id="kobo.1099.1">OK</span></strong><span class="koboSpan" id="kobo.1100.1">. </span><span class="koboSpan" id="kobo.1100.2">Qt will generate a slot function for you, which looks something </span><span class="No-Break"><span class="koboSpan" id="kobo.1101.1">like this:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1102.1">private slots:
void on_tabWidget_currentChanged(int index);</span></pre></li><li><span class="koboSpan" id="kobo.1103.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1104.1">slot function</span></strong><span class="koboSpan" id="kobo.1105.1"> will be called whenever </span><a id="_idIndexMarker076"/><span class="koboSpan" id="kobo.1106.1">we change the page of </span><strong class="bold"><span class="koboSpan" id="kobo.1107.1">Tab Widget</span></strong><span class="koboSpan" id="kobo.1108.1">. </span><span class="koboSpan" id="kobo.1108.2">We can then decide what we want it to do by adding our code to the slot function. </span><span class="koboSpan" id="kobo.1108.3">To do that, open </span><strong class="source-inline"><span class="koboSpan" id="kobo.1109.1">mainwindow.cpp</span></strong><span class="koboSpan" id="kobo.1110.1">; you will see the function’s declaration there. </span><span class="koboSpan" id="kobo.1110.2">Let’s add some code to </span><span class="No-Break"><span class="koboSpan" id="kobo.1111.1">the function:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1112.1">void MainWindow::on_tabWidget_currentChanged(int
index) {
     // Set all buttons to false
     ui-&gt;button1-&gt;setProperty("pagematches", false);
     ui-&gt;button2-&gt;setProperty("pagematches", false);
     ui-&gt;button3-&gt;setProperty("pagematches", false);
     // Set one of the buttons to true
     if (0 == index)
           ui-&gt;button1-&gt;setProperty("pagematches", true);
     else if (index == 1)
           ui-&gt;button2-&gt;setProperty("pagematches", true);
     else
           ui-&gt;button3-&gt;setProperty("pagematches", true);
     // Update buttons style
     ui-&gt;button1-&gt;style()-&gt;polish(ui-&gt;button1);
     ui-&gt;button2-&gt;style()-&gt;polish(ui-&gt;button2);
     ui-&gt;button3-&gt;style()-&gt;polish(ui-&gt;button3);
}</span></pre></li></ul></li> <li><span class="koboSpan" id="kobo.1113.1">The preceding </span><a id="_idIndexMarker077"/><span class="koboSpan" id="kobo.1114.1">code sets the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1115.1">pagematches</span></strong><span class="koboSpan" id="kobo.1116.1"> properties of all three buttons to </span><strong class="bold"><span class="koboSpan" id="kobo.1117.1">false</span></strong><span class="koboSpan" id="kobo.1118.1"> when </span><strong class="bold"><span class="koboSpan" id="kobo.1119.1">Tab Widget</span></strong><span class="koboSpan" id="kobo.1120.1"> switches its current page. </span><span class="koboSpan" id="kobo.1120.2">Be sure </span><a id="_idIndexMarker078"/><span class="koboSpan" id="kobo.1121.1">to reset everything before we decide which button should change </span><span class="No-Break"><span class="koboSpan" id="kobo.1122.1">to red.</span></span></li>
<li><span class="koboSpan" id="kobo.1123.1">Check the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1124.1">index</span></strong><span class="koboSpan" id="kobo.1125.1"> variable supplied by the event signal; this will tell you the index number of the current page. </span><span class="koboSpan" id="kobo.1125.2">Set the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1126.1">pagematches</span></strong><span class="koboSpan" id="kobo.1127.1"> property of one of the buttons to </span><strong class="bold"><span class="koboSpan" id="kobo.1128.1">true</span></strong><span class="koboSpan" id="kobo.1129.1">, based on the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1130.1">index</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1131.1"> number.</span></span></li>
<li><span class="koboSpan" id="kobo.1132.1">Refresh the style of all three buttons by calling </span><strong class="source-inline"><span class="koboSpan" id="kobo.1133.1">polish()</span></strong><span class="koboSpan" id="kobo.1134.1">. </span><span class="koboSpan" id="kobo.1134.2">You may also want to add the following header </span><span class="No-Break"><span class="koboSpan" id="kobo.1135.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1136.1">mainwindow.h</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1137.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1138.1">
#include &lt;QStyle&gt;</span></pre></li> <li><span class="koboSpan" id="kobo.1139.1">Build and run the project. </span><span class="koboSpan" id="kobo.1139.2">You should now see the three buttons changing to red whenever you </span><a id="_idIndexMarker079"/><span class="koboSpan" id="kobo.1140.1">switch </span><strong class="bold"><span class="koboSpan" id="kobo.1141.1">Tab Widget</span></strong><span class="koboSpan" id="kobo.1142.1"> to a different page. </span><span class="koboSpan" id="kobo.1142.2">Also, the buttons will  change to</span><a id="_idIndexMarker080"/><span class="koboSpan" id="kobo.1143.1"> green when there is a mouse-over, as well as change to yellow when you click </span><span class="No-Break"><span class="koboSpan" id="kobo.1144.1">on them:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer022">
<span class="koboSpan" id="kobo.1145.1"><img alt="Figure 1.18 – The final result looks like this" src="image/B20976_01_018.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1146.1">Figure 1.18 – The final result looks like this</span></p>
<h2 id="_idParaDest-32"><a id="_idTextAnchor032"/><span class="koboSpan" id="kobo.1147.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.1148.1">Qt provides users the freedom to add custom properties to any type of widget. </span><span class="koboSpan" id="kobo.1148.2">Custom properties are very useful if you want to change a particular widget when a special condition is met, whereas Qt doesn’t provide such a context by default. </span><span class="koboSpan" id="kobo.1148.3">This allows the user to extend the usability of Qt and makes it a flexible tool for </span><span class="No-Break"><span class="koboSpan" id="kobo.1149.1">customized solutions.</span></span></p>
<p><span class="koboSpan" id="kobo.1150.1">For example, if we have a row of buttons on our main window and we need one of them to change its color depending on which page </span><strong class="bold"><span class="koboSpan" id="kobo.1151.1">Tab Widget</span></strong><span class="koboSpan" id="kobo.1152.1"> is currently showing, there is no way the buttons would know when</span><a id="_idIndexMarker081"/><span class="koboSpan" id="kobo.1153.1"> they should change their color because Qt itself has no built-in context for </span><a id="_idIndexMarker082"/><span class="koboSpan" id="kobo.1154.1">this type of situation. </span><span class="koboSpan" id="kobo.1154.2">To solve this issue, Qt gives us a method to add our own properties to the widgets, which uses a generic function called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1155.1">QObject::setProperty()</span></strong><span class="koboSpan" id="kobo.1156.1">. </span><span class="koboSpan" id="kobo.1156.2">To read the custom property, we can use another function </span><span class="No-Break"><span class="koboSpan" id="kobo.1157.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1158.1">QObject::property()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1159.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1160.1">Next, we will talk about sub-controls in Qt Style Sheets. </span><span class="koboSpan" id="kobo.1160.2">Often, a widget is not just a single object, but a combination of more than one object or control, used to form a more complex widget. </span><span class="koboSpan" id="kobo.1160.3">These </span><a id="_idIndexMarker083"/><span class="koboSpan" id="kobo.1161.1">objects are </span><span class="No-Break"><span class="koboSpan" id="kobo.1162.1">called </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1163.1">sub-controls</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1164.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1165.1">For example, a spin box widget contains an input field, a down button, an up button, an up arrow, and a down arrow, which is quite complicated compared to some other widgets. </span><span class="koboSpan" id="kobo.1165.2">In this case, Qt grants us more flexibility by allowing us to change every sub-control using a style sheet if we want to. </span><span class="koboSpan" id="kobo.1165.3">We can do so by specifying the name of the sub-control behind the widget’s class name, separated by a double colon. </span><span class="koboSpan" id="kobo.1165.4">For instance, if I want to change the image of the down button to a spin box, I can write my style sheet </span><span class="No-Break"><span class="koboSpan" id="kobo.1166.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1167.1">
QSpinBox::down-button {
     image: url(:/images/spindown.png);
     subcontrol-origin: padding;
     subcontrol-position: right bottom;
}</span></pre> <p><span class="koboSpan" id="kobo.1168.1">This will only apply the image to the down button of my spin box, and not to any other parts of the widget. </span><span class="koboSpan" id="kobo.1168.2">By combining </span><strong class="bold"><span class="koboSpan" id="kobo.1169.1">custom properties</span></strong><span class="koboSpan" id="kobo.1170.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.1171.1">pseudo-states</span></strong><span class="koboSpan" id="kobo.1172.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.1173.1">sub-controls</span></strong><span class="koboSpan" id="kobo.1174.1">, Qt provides us with a very flexible method to customize our </span><span class="No-Break"><span class="koboSpan" id="kobo.1175.1">user interface.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.1176.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1177.1">Visit the following link to learn more about pseudo-states and subcontrols in </span><span class="No-Break"><span class="koboSpan" id="kobo.1178.1">Qt: </span></span><a href="http://doc.qt.io/qt-6/stylesheet-reference.html"><span class="No-Break"><span class="koboSpan" id="kobo.1179.1">http://doc.qt.io/qt-6/stylesheet-reference.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1180.1">.</span></span></p>
<h1 id="_idParaDest-33"><a id="_idTextAnchor033"/><span class="koboSpan" id="kobo.1181.1">Styling in Qt Modeling Language (QML)</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.1182.1">Qt Meta Language</span></strong><span class="koboSpan" id="kobo.1183.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.1184.1">Qt Modeling Language</span></strong><span class="koboSpan" id="kobo.1185.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1186.1">QML</span></strong><span class="koboSpan" id="kobo.1187.1">) is a JavaScript-inspired user interface markup language that’s used </span><a id="_idIndexMarker084"/><span class="koboSpan" id="kobo.1188.1">by Qt to design user interfaces. </span><span class="koboSpan" id="kobo.1188.2">Qt provides you with </span><strong class="bold"><span class="koboSpan" id="kobo.1189.1">Qt Quick Components</span></strong><span class="koboSpan" id="kobo.1190.1"> (widgets powered </span><a id="_idIndexMarker085"/><span class="koboSpan" id="kobo.1191.1">by the QML technology) to</span><a id="_idIndexMarker086"/><span class="koboSpan" id="kobo.1192.1"> easily design touch-friendly UI without C++ programming. </span><span class="koboSpan" id="kobo.1192.2">We will learn more about how to use QML and Qt Quick Components to design our program’s UI by following the steps provided in </span><span class="No-Break"><span class="koboSpan" id="kobo.1193.1">this recipe.</span></span></p>
<h2 id="_idParaDest-34"><a id="_idTextAnchor034"/><span class="koboSpan" id="kobo.1194.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.1195.1">Follow these steps to learn about styling </span><span class="No-Break"><span class="koboSpan" id="kobo.1196.1">in QML:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1197.1">Since Qt 6, The Qt Company has</span><a id="_idIndexMarker087"/><span class="koboSpan" id="kobo.1198.1"> released a separate program called </span><strong class="bold"><span class="koboSpan" id="kobo.1199.1">Qt Design Studio</span></strong><span class="koboSpan" id="kobo.1200.1"> for </span><a id="_idIndexMarker088"/><span class="koboSpan" id="kobo.1201.1">developing Qt Quick applications. </span><span class="koboSpan" id="kobo.1201.2">It’s intended to separate the different tasks of designers and programmers. </span><span class="koboSpan" id="kobo.1201.3">So, if you’re a GUI designer, you should use </span><strong class="bold"><span class="koboSpan" id="kobo.1202.1">Qt Design Studio</span></strong><span class="koboSpan" id="kobo.1203.1">, while sticking to Qt Creator if you’re a programmer. </span><span class="koboSpan" id="kobo.1203.2">Once you have installed and opened Qt Design Studio, create a new project by pressing on the big </span><strong class="bold"><span class="koboSpan" id="kobo.1204.1">Create Project…</span></strong><span class="koboSpan" id="kobo.1205.1"> button or by going to </span><strong class="bold"><span class="koboSpan" id="kobo.1206.1">File</span></strong><span class="koboSpan" id="kobo.1207.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1208.1">New Project…</span></strong><span class="koboSpan" id="kobo.1209.1"> from the </span><span class="No-Break"><span class="koboSpan" id="kobo.1210.1">top menu:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer023">
<span class="koboSpan" id="kobo.1211.1"><img alt="Figure 1.19 – Creating a new QML project in Qt Design Studio" src="image/B20976_01_019.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1212.1">Figure 1.19 – Creating a new QML project in Qt Design Studio</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.1213.1">Once the </span><strong class="bold"><span class="koboSpan" id="kobo.1214.1">New Project</span></strong><span class="koboSpan" id="kobo.1215.1"> window </span><a id="_idIndexMarker089"/><span class="koboSpan" id="kobo.1216.1">appears, key in the default width and height of your project window and insert a name for your project. </span><span class="koboSpan" id="kobo.1216.2">Then, select the directory where you want your project to be created, select a default GUI style, pick a target Qt version, and click the </span><strong class="bold"><span class="koboSpan" id="kobo.1217.1">Create</span></strong><span class="koboSpan" id="kobo.1218.1"> button. </span><span class="koboSpan" id="kobo.1218.2">Your Qt Quick project will now be created by Qt </span><span class="No-Break"><span class="koboSpan" id="kobo.1219.1">Design Studio.</span></span></li>
<li><span class="koboSpan" id="kobo.1220.1">There are some differences </span><a id="_idIndexMarker090"/><span class="koboSpan" id="kobo.1221.1">between a </span><strong class="bold"><span class="koboSpan" id="kobo.1222.1">QML project</span></strong><span class="koboSpan" id="kobo.1223.1"> and a </span><strong class="bold"><span class="koboSpan" id="kobo.1224.1">C++ Qt project</span></strong><span class="koboSpan" id="kobo.1225.1">. </span><span class="koboSpan" id="kobo.1225.2">You will see</span><a id="_idIndexMarker091"/><span class="koboSpan" id="kobo.1226.1"> an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1227.1">App.qml</span></strong><span class="koboSpan" id="kobo.1228.1"> file inside the project resource. </span><span class="koboSpan" id="kobo.1228.2">This </span><strong class="source-inline"><span class="koboSpan" id="kobo.1229.1">.qml</span></strong><span class="koboSpan" id="kobo.1230.1"> file is the UI description file that’s written using the QML markup language. </span><span class="koboSpan" id="kobo.1230.2">If you double-click the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1231.1">main.qml</span></strong><span class="koboSpan" id="kobo.1232.1"> file, Qt Creator will open the script editor and you will see something </span><span class="No-Break"><span class="koboSpan" id="kobo.1233.1">like this:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1234.1">
import QtQuick 6.2
import QtQuick.Window 6.2
import MyProject
Window {
    width: mainScreen.width
    height: mainScreen.height
    visible: true
    title: "MyProject"
    Screen01 {
        id: mainScreen
    }
}</span></pre></li> <li><span class="koboSpan" id="kobo.1235.1">This file tells Qt to create a window that loads the </span><strong class="bold"><span class="koboSpan" id="kobo.1236.1">Screen01</span></strong><span class="koboSpan" id="kobo.1237.1"> user interface and a window title with your project name. </span><span class="koboSpan" id="kobo.1237.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.1238.1">Screen01</span></strong><span class="koboSpan" id="kobo.1239.1"> interface comes from another file </span><span class="No-Break"><span class="koboSpan" id="kobo.1240.1">called </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1241.1">Screen01.ui.qml</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1242.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1243.1">If you open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1244.1">main.cpp</span></strong><span class="koboSpan" id="kobo.1245.1"> file</span><a id="_idIndexMarker092"/><span class="koboSpan" id="kobo.1246.1"> located in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1247.1">scr</span></strong><span class="koboSpan" id="kobo.1248.1"> folder in your project, you will see the following line </span><span class="No-Break"><span class="koboSpan" id="kobo.1249.1">of code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1250.1">
QQmlApplicationEngine engine;
const QUrl url(u"qrc:Main/main.qml"_qs);</span></pre></li> <li><span class="koboSpan" id="kobo.1251.1">The preceding code tells Qt’s QML engine to load the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1252.1">main.qml</span></strong><span class="koboSpan" id="kobo.1253.1"> file when the program starts. </span><span class="koboSpan" id="kobo.1253.2">If you want to load the other </span><strong class="source-inline"><span class="koboSpan" id="kobo.1254.1">.qml</span></strong><span class="koboSpan" id="kobo.1255.1"> file, you know where to look for the code. </span><span class="koboSpan" id="kobo.1255.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1256.1">src</span></strong><span class="koboSpan" id="kobo.1257.1"> folder is hidden from your Qt Design Studio project; you can look for it inside your </span><span class="No-Break"><span class="koboSpan" id="kobo.1258.1">project directory.</span></span></li>
<li><span class="koboSpan" id="kobo.1259.1">If you build the project now, all you’ll get is a huge window with simple text and a push button that says </span><strong class="bold"><span class="koboSpan" id="kobo.1260.1">Press me</span></strong><span class="koboSpan" id="kobo.1261.1">. </span><span class="koboSpan" id="kobo.1261.2">The window’s background color and the text will change when you press the </span><span class="No-Break"><span class="koboSpan" id="kobo.1262.1">push button:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer024">
<span class="koboSpan" id="kobo.1263.1"><img alt="Figure 1.20 – Your first Qt Quick program" src="image/B20976_01_020.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1264.1">Figure 1.20 – Your first Qt Quick program</span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.1265.1">To add UI elements, we’ll </span><a id="_idIndexMarker093"/><span class="koboSpan" id="kobo.1266.1">create a </span><strong class="bold"><span class="koboSpan" id="kobo.1267.1">Qt Quick UI File</span></strong><span class="koboSpan" id="kobo.1268.1"> by going to </span><strong class="bold"><span class="koboSpan" id="kobo.1269.1">File</span></strong><span class="koboSpan" id="kobo.1270.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1271.1">New File…</span></strong><span class="koboSpan" id="kobo.1272.1"> and selecting </span><strong class="bold"><span class="koboSpan" id="kobo.1273.1">Qt Quick UI File</span></strong><span class="koboSpan" id="kobo.1274.1"> under the </span><strong class="bold"><span class="koboSpan" id="kobo.1275.1">Files and Classes</span></strong><span class="koboSpan" id="kobo.1276.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.1277.1">Qt Quick </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1278.1">Files</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1279.1"> category:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer025">
<span class="koboSpan" id="kobo.1280.1"><img alt="Figure 1.21 - Creating a new Qt Quick UI file" src="image/B20976_01_021.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1281.1">Figure 1.21 - Creating a new Qt Quick UI file</span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.1282.1">Set </span><strong class="bold"><span class="koboSpan" id="kobo.1283.1">Component name</span></strong><span class="koboSpan" id="kobo.1284.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1285.1">Main</span></strong><span class="koboSpan" id="kobo.1286.1">, followed </span><a id="_idIndexMarker094"/><span class="koboSpan" id="kobo.1287.1">by clicking the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1288.1">Finish</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1289.1"> button:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer026">
<span class="koboSpan" id="kobo.1290.1"><img alt="Figure 1.22 – Giving your Qt Quick component a meaningful name" src="image/B20976_01_022.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1291.1">Figure 1.22 – Giving your Qt Quick component a meaningful name</span></p>
<ol>
<li value="10"><span class="koboSpan" id="kobo.1292.1">A new file called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1293.1">Main.ui.qml</span></strong><span class="koboSpan" id="kobo.1294.1"> has been added to your project resources. </span><span class="koboSpan" id="kobo.1294.2">Try to open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1295.1">Main.ui.qml</span></strong><span class="koboSpan" id="kobo.1296.1"> file by double-clicking on it, if it hasn’t been automatically opened by Qt </span><a id="_idIndexMarker095"/><span class="koboSpan" id="kobo.1297.1">Design Studio upon creation. </span><span class="koboSpan" id="kobo.1297.2">You will see a completely different UI editor compared to what we had for the C++ project in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1298.1">previous recipes.</span></span></li>
<li><span class="koboSpan" id="kobo.1299.1">Let’s open </span><strong class="source-inline"><span class="koboSpan" id="kobo.1300.1">App.qml</span></strong><span class="koboSpan" id="kobo.1301.1"> and replace </span><strong class="bold"><span class="koboSpan" id="kobo.1302.1">Screen01</span></strong><span class="koboSpan" id="kobo.1303.1"> with </span><strong class="bold"><span class="koboSpan" id="kobo.1304.1">Main</span></strong><span class="koboSpan" id="kobo.1305.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.1306.1">like so:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1307.1">
Main {
     id: mainScreen
}</span></pre></li> <li><span class="koboSpan" id="kobo.1308.1">When </span><strong class="source-inline"><span class="koboSpan" id="kobo.1309.1">App.qml</span></strong><span class="koboSpan" id="kobo.1310.1"> is loaded by the QML engine, it will also import </span><strong class="source-inline"><span class="koboSpan" id="kobo.1311.1">Main.ui.qml</span></strong><span class="koboSpan" id="kobo.1312.1"> into the UI since </span><strong class="source-inline"><span class="koboSpan" id="kobo.1313.1">Main</span></strong><span class="koboSpan" id="kobo.1314.1"> is now being called in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1315.1">App.qml</span></strong><span class="koboSpan" id="kobo.1316.1"> file. </span><span class="koboSpan" id="kobo.1316.2">Qt will check whether </span><strong class="source-inline"><span class="koboSpan" id="kobo.1317.1">Main</span></strong><span class="koboSpan" id="kobo.1318.1"> is a valid UI by searching for its </span><strong class="source-inline"><span class="koboSpan" id="kobo.1319.1">.qml</span></strong><span class="koboSpan" id="kobo.1320.1"> file based on the naming convention. </span><span class="koboSpan" id="kobo.1320.2">This concept is similar to the C++ project we completed in all our previous recipes; the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1321.1">App.qml</span></strong><span class="koboSpan" id="kobo.1322.1"> file acts like the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1323.1">main.cpp</span></strong><span class="koboSpan" id="kobo.1324.1"> file and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1325.1">Main.ui.qml</span></strong><span class="koboSpan" id="kobo.1326.1"> acts like the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1327.1">MainWindow</span></strong><span class="koboSpan" id="kobo.1328.1"> class. </span><span class="koboSpan" id="kobo.1328.2">You can also create other UI templates and use them in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1329.1">App.qml</span></strong><span class="koboSpan" id="kobo.1330.1">. </span><span class="koboSpan" id="kobo.1330.2">Hopefully, this comparison will make it easier to understand how </span><span class="No-Break"><span class="koboSpan" id="kobo.1331.1">QML works.</span></span></li>
<li><span class="koboSpan" id="kobo.1332.1">Open </span><strong class="source-inline"><span class="koboSpan" id="kobo.1333.1">Main.ui.qml</span></strong><span class="koboSpan" id="kobo.1334.1">. </span><span class="koboSpan" id="kobo.1334.2">You should see only one item listed in the </span><strong class="bold"><span class="koboSpan" id="kobo.1335.1">Navigator</span></strong><span class="koboSpan" id="kobo.1336.1"> window: </span><strong class="bold"><span class="koboSpan" id="kobo.1337.1">Item</span></strong><span class="koboSpan" id="kobo.1338.1">. </span><span class="koboSpan" id="kobo.1338.2">This is the </span><a id="_idIndexMarker096"/><span class="koboSpan" id="kobo.1339.1">base layout of the window, which shouldn’t be deleted. </span><span class="koboSpan" id="kobo.1339.2">It is similar to </span><strong class="bold"><span class="koboSpan" id="kobo.1340.1">centralWidget</span></strong><span class="koboSpan" id="kobo.1341.1">, which we used in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1342.1">previous recipe.</span></span></li>
<li><span class="koboSpan" id="kobo.1343.1">The canvas is empty at the moment, so let’s drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1344.1">Mouse Area</span></strong><span class="koboSpan" id="kobo.1345.1"> item and </span><strong class="bold"><span class="koboSpan" id="kobo.1346.1">Text</span></strong><span class="koboSpan" id="kobo.1347.1"> items to the canvas from the </span><strong class="bold"><span class="koboSpan" id="kobo.1348.1">QML Types</span></strong><span class="koboSpan" id="kobo.1349.1"> panel on the left. </span><span class="koboSpan" id="kobo.1349.2">Resize </span><strong class="bold"><span class="koboSpan" id="kobo.1350.1">Mouse Area</span></strong><span class="koboSpan" id="kobo.1351.1"> so that it fills the entire canvas. </span><span class="koboSpan" id="kobo.1351.2">Also, make sure that both </span><strong class="bold"><span class="koboSpan" id="kobo.1352.1">Mouse Area</span></strong><span class="koboSpan" id="kobo.1353.1"> and the </span><strong class="bold"><span class="koboSpan" id="kobo.1354.1">Text</span></strong><span class="koboSpan" id="kobo.1355.1"> items are being placed under the </span><strong class="bold"><span class="koboSpan" id="kobo.1356.1">Item</span></strong><span class="koboSpan" id="kobo.1357.1"> item in the </span><strong class="bold"><span class="koboSpan" id="kobo.1358.1">Navigator</span></strong><span class="koboSpan" id="kobo.1359.1"> panel, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1360.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer027">
<span class="koboSpan" id="kobo.1361.1"><img alt="Figure 1.23 – Dragging and dropping a mouse area and text items onto the canvas" src="image/B20976_01_023.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1362.1">Figure 1.23 – Dragging and dropping a mouse area and text items onto the canvas</span></p>
<ol>
<li value="15"><span class="koboSpan" id="kobo.1363.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1364.1">Mouse Area</span></strong><span class="koboSpan" id="kobo.1365.1"> item is an invincible item that gets triggered when the mouse is clicking on it, or when a finger is touching it (for mobile platforms). </span><span class="koboSpan" id="kobo.1365.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.1366.1">Mouse Area</span></strong><span class="koboSpan" id="kobo.1367.1"> item is also</span><a id="_idIndexMarker097"/><span class="koboSpan" id="kobo.1368.1"> used in a </span><strong class="bold"><span class="koboSpan" id="kobo.1369.1">button</span></strong><span class="koboSpan" id="kobo.1370.1"> component, which we will be using in a while. </span><span class="koboSpan" id="kobo.1370.2">The </span><strong class="bold"><span class="koboSpan" id="kobo.1371.1">Text</span></strong><span class="koboSpan" id="kobo.1372.1"> item is self-explanatory: it is a label that displays a block of text in </span><span class="No-Break"><span class="koboSpan" id="kobo.1373.1">the application.</span></span></li>
<li><span class="koboSpan" id="kobo.1374.1">On the </span><strong class="bold"><span class="koboSpan" id="kobo.1375.1">Navigator</span></strong><span class="koboSpan" id="kobo.1376.1"> window, we can hide or show an item by clicking on the icon that resembles an eye beside the item. </span><span class="koboSpan" id="kobo.1376.2">When an item is hidden, it will not appear on the canvas or the compiled application. </span><span class="koboSpan" id="kobo.1376.3">Just like the widgets in a C++ Qt project, Qt Quick Components are arranged in a hierarchy based on the parent-child relationship. </span><span class="koboSpan" id="kobo.1376.4">All the child items will be placed under the parent item with an indented position. </span><span class="koboSpan" id="kobo.1376.5">In our case, we can see that the </span><strong class="bold"><span class="koboSpan" id="kobo.1377.1">Mouse Area</span></strong><span class="koboSpan" id="kobo.1378.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.1379.1">Text</span></strong><span class="koboSpan" id="kobo.1380.1"> elements are positioned slightly to the right compared to the </span><strong class="bold"><span class="koboSpan" id="kobo.1381.1">Item</span></strong><span class="koboSpan" id="kobo.1382.1"> item because they are both children of the </span><strong class="bold"><span class="koboSpan" id="kobo.1383.1">Item</span></strong><span class="koboSpan" id="kobo.1384.1"> element. </span><span class="koboSpan" id="kobo.1384.2">We can rearrange the parent-child relationship, as well as their position in the hierarchy, by using a click-and-drag method from the </span><strong class="bold"><span class="koboSpan" id="kobo.1385.1">Navigator</span></strong><span class="koboSpan" id="kobo.1386.1"> window. </span><span class="koboSpan" id="kobo.1386.2">You can try clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.1387.1">Text</span></strong><span class="koboSpan" id="kobo.1388.1"> item and dragging it on top of the mouse area. </span><span class="koboSpan" id="kobo.1388.2">You will then see that the </span><strong class="bold"><span class="koboSpan" id="kobo.1389.1">Text</span></strong><span class="koboSpan" id="kobo.1390.1"> item has changed its position and is now located beneath the mouse area with a </span><span class="No-Break"><span class="koboSpan" id="kobo.1391.1">wider indentation:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer028">
<span class="koboSpan" id="kobo.1392.1"><img alt="Figure 1.24 – Rearranging the parent-child relationship between items" src="image/B20976_01_024.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1393.1">Figure 1.24 – Rearranging the parent-child relationship between items</span></p>
<ol>
<li value="17"><span class="koboSpan" id="kobo.1394.1">We can rearrange them by </span><a id="_idIndexMarker098"/><span class="koboSpan" id="kobo.1395.1">using the arrow buttons located at the top of the </span><strong class="bold"><span class="koboSpan" id="kobo.1396.1">Navigator</span></strong><span class="koboSpan" id="kobo.1397.1"> window, as shown in the preceding screenshot. </span><span class="koboSpan" id="kobo.1397.2">Anything that happens to the parent item will also affect all its children, such as moving the parent item, and hiding and showing the </span><span class="No-Break"><span class="koboSpan" id="kobo.1398.1">parent item.</span></span></li>
</ol>
<p class="callout-heading"><span class="koboSpan" id="kobo.1399.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.1400.1">You can pan around the canvas view by holding the middle mouse button (or mouse scroll) while moving your mouse around. </span><span class="koboSpan" id="kobo.1400.2">You can also zoom in and out by scrolling your mouse while holding the </span><em class="italic"><span class="koboSpan" id="kobo.1401.1">Ctrl</span></em><span class="koboSpan" id="kobo.1402.1"> key on your keyboard. </span><span class="koboSpan" id="kobo.1402.2">By default, scrolling your mouse will move the canvas view up and down. </span><span class="koboSpan" id="kobo.1402.3">However, if your mouse cursor is on top of the horizontal scroll bar of the canvas, scrolling the mouse will move the view to the left </span><span class="No-Break"><span class="koboSpan" id="kobo.1403.1">and right.</span></span></p>
<ol>
<li value="18"><span class="koboSpan" id="kobo.1404.1">Delete both the </span><strong class="bold"><span class="koboSpan" id="kobo.1405.1">Mouse Area</span></strong><span class="koboSpan" id="kobo.1406.1"> item and </span><strong class="bold"><span class="koboSpan" id="kobo.1407.1">Text</span></strong><span class="koboSpan" id="kobo.1408.1"> items as we will be learning how to create a user interface from scratch using QML and </span><span class="No-Break"><span class="koboSpan" id="kobo.1409.1">Qt Quick.</span></span></li>
<li><span class="koboSpan" id="kobo.1410.1">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.1411.1">Item</span></strong><span class="koboSpan" id="kobo.1412.1"> element’s size to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1413.1">800 x 600</span></strong><span class="koboSpan" id="kobo.1414.1"> as we’re going to need a bigger space for </span><span class="No-Break"><span class="koboSpan" id="kobo.1415.1">the widgets.</span></span></li>
<li><span class="koboSpan" id="kobo.1416.1">Copy the images we used in the previous C++ project, in the </span><em class="italic"><span class="koboSpan" id="kobo.1417.1">Using resources in style sheets</span></em><span class="koboSpan" id="kobo.1418.1"> recipe, over to the QML project’s folder since we are going to recreate the same login screen </span><span class="No-Break"><span class="koboSpan" id="kobo.1419.1">with QML.</span></span></li>
<li><span class="koboSpan" id="kobo.1420.1">Add the images to the resource file so that we can use them for </span><span class="No-Break"><span class="koboSpan" id="kobo.1421.1">our UI.</span></span></li>
<li><span class="koboSpan" id="kobo.1422.1">Open </span><strong class="bold"><span class="koboSpan" id="kobo.1423.1">Qt Design Studio</span></strong><span class="koboSpan" id="kobo.1424.1"> and switch to the </span><strong class="bold"><span class="koboSpan" id="kobo.1425.1">Resources</span></strong><span class="koboSpan" id="kobo.1426.1"> window. </span><span class="koboSpan" id="kobo.1426.2">Click and drag the background image directly to the canvas. </span><span class="koboSpan" id="kobo.1426.3">Switch over to the </span><strong class="bold"><span class="koboSpan" id="kobo.1427.1">Layout</span></strong><span class="koboSpan" id="kobo.1428.1"> tab on the </span><strong class="bold"><span class="koboSpan" id="kobo.1429.1">Properties</span></strong><span class="koboSpan" id="kobo.1430.1"> pane </span><a id="_idIndexMarker099"/><span class="koboSpan" id="kobo.1431.1">and click the fill anchor button, indicated here by a red circle. </span><span class="koboSpan" id="kobo.1431.2">This will make the background image always stick to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1432.1">window size:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer029">
<span class="koboSpan" id="kobo.1433.1"><img alt="Figure 1.25 – Selecting the fill anchor button to make the item follow the size of its parent object" src="image/B20976_01_025.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1434.1">Figure 1.25 – Selecting the fill anchor button to make the item follow the size of its parent object</span></p>
<ol>
<li value="23"><span class="koboSpan" id="kobo.1435.1">Click and drag a </span><strong class="bold"><span class="koboSpan" id="kobo.1436.1">Rectangle</span></strong><span class="koboSpan" id="kobo.1437.1"> component from the </span><strong class="bold"><span class="koboSpan" id="kobo.1438.1">Library</span></strong><span class="koboSpan" id="kobo.1439.1"> window to the canvas. </span><span class="koboSpan" id="kobo.1439.2">We will use this as the top panel for </span><span class="No-Break"><span class="koboSpan" id="kobo.1440.1">our program.</span></span></li>
<li><span class="koboSpan" id="kobo.1441.1">For the top panel, enable the top anchor, left anchor, and right anchor so that the panel sticks to the top of the window and follows its width. </span><span class="koboSpan" id="kobo.1441.2">Make sure all the margins are set </span><span class="No-Break"><span class="koboSpan" id="kobo.1442.1">to zero.</span></span></li>
<li><span class="koboSpan" id="kobo.1443.1">Go to the </span><strong class="bold"><span class="koboSpan" id="kobo.1444.1">Color</span></strong><span class="koboSpan" id="kobo.1445.1"> property of the top panel and select </span><strong class="bold"><span class="koboSpan" id="kobo.1446.1">Gradient</span></strong><span class="koboSpan" id="kobo.1447.1">. </span><span class="koboSpan" id="kobo.1447.2">Set the first color to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1448.1">#805bcce9</span></strong><span class="koboSpan" id="kobo.1449.1"> and the second color to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1450.1">#80000000</span></strong><span class="koboSpan" id="kobo.1451.1">. </span><span class="koboSpan" id="kobo.1451.2">This will create a half-transparent panel with a </span><span class="No-Break"><span class="koboSpan" id="kobo.1452.1">blue gradient.</span></span></li>
<li><span class="koboSpan" id="kobo.1453.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.1454.1">Text</span></strong><span class="koboSpan" id="kobo.1455.1"> widget to the canvas and make it a child of the top panel. </span><span class="koboSpan" id="kobo.1455.2">Set its </span><strong class="bold"><span class="koboSpan" id="kobo.1456.1">text</span></strong><span class="koboSpan" id="kobo.1457.1"> property to the current date and time (for example, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1458.1">Wednesday, 25-10-2023 3:14 PM</span></strong><span class="koboSpan" id="kobo.1459.1">) for display purposes. </span><span class="koboSpan" id="kobo.1459.2">Then, set the text color </span><span class="No-Break"><span class="koboSpan" id="kobo.1460.1">to white.</span></span></li>
<li><span class="koboSpan" id="kobo.1461.1">Switch over to the </span><strong class="bold"><span class="koboSpan" id="kobo.1462.1">Layout</span></strong><span class="koboSpan" id="kobo.1463.1"> tab and enable the top anchor and left anchor so that the text widget will always stick to the top-left corner of </span><span class="No-Break"><span class="koboSpan" id="kobo.1464.1">the screen.</span></span></li>
<li><span class="koboSpan" id="kobo.1465.1">Add a </span><strong class="bold"><span class="koboSpan" id="kobo.1466.1">Mouse Area</span></strong><span class="koboSpan" id="kobo.1467.1"> item to the screen and set its size to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1468.1">50 x 50</span></strong><span class="koboSpan" id="kobo.1469.1">. </span><span class="koboSpan" id="kobo.1469.2">Then, make it a child of the top </span><a id="_idIndexMarker100"/><span class="koboSpan" id="kobo.1470.1">panel by dragging it on top of the top panel in the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1471.1">Navigator</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1472.1"> window.</span></span></li>
<li><span class="koboSpan" id="kobo.1473.1">Set the color of the mouse area to blue (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1474.1">#27a9e3</span></strong><span class="koboSpan" id="kobo.1475.1">) and set its radius to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1476.1">2</span></strong><span class="koboSpan" id="kobo.1477.1"> to make its corners slightly rounded. </span><span class="koboSpan" id="kobo.1477.2">Enable the top anchor and right anchor to make it stick to the top-right corner of the window. </span><span class="koboSpan" id="kobo.1477.3">Set the top anchor’s margin to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1478.1">8</span></strong><span class="koboSpan" id="kobo.1479.1"> and the right anchor’s margin to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1480.1">10</span></strong><span class="koboSpan" id="kobo.1481.1"> to create </span><span class="No-Break"><span class="koboSpan" id="kobo.1482.1">some space.</span></span></li>
<li><span class="koboSpan" id="kobo.1483.1">Open the </span><strong class="bold"><span class="koboSpan" id="kobo.1484.1">Resources</span></strong><span class="koboSpan" id="kobo.1485.1"> window and drag the shutdown icon to the canvas. </span><span class="koboSpan" id="kobo.1485.2">Make it a child of the </span><strong class="bold"><span class="koboSpan" id="kobo.1486.1">Mouse Area</span></strong><span class="koboSpan" id="kobo.1487.1"> item we created a moment ago. </span><span class="koboSpan" id="kobo.1487.2">Then, enable the fill anchor to make it fit the size of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1488.1">mouse area.</span></span></li>
<li><span class="koboSpan" id="kobo.1489.1">Phew – that’s a lot of steps! </span><span class="koboSpan" id="kobo.1489.2">Now, your items should be arranged as follows in the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1490.1">Navigator</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1491.1"> window:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer030">
<span class="koboSpan" id="kobo.1492.1"><img alt="Figure 1.26 – Be cautious about the parent-child relationship between items" src="image/B20976_01_026.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1493.1">Figure 1.26 – Be cautious about the parent-child relationship between items</span></p>
<ol>
<li value="32"><span class="koboSpan" id="kobo.1494.1">The parent-child relationship and the layout anchors are both very important to keep the widgets in </span><a id="_idIndexMarker101"/><span class="koboSpan" id="kobo.1495.1">the correct positions when the main window changes its size. </span><span class="koboSpan" id="kobo.1495.2">Your top panel should look something </span><span class="No-Break"><span class="koboSpan" id="kobo.1496.1">like this:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer031">
<span class="koboSpan" id="kobo.1497.1"><img alt="Figure 1.27 – Completing the top banner design" src="image/B20976_01_027.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1498.1">Figure 1.27 – Completing the top banner design</span></p>
<ol>
<li value="33"><span class="koboSpan" id="kobo.1499.1">Let’s work on the login form. </span><span class="koboSpan" id="kobo.1499.2">Add a new </span><strong class="bold"><span class="koboSpan" id="kobo.1500.1">Rectangle</span></strong><span class="koboSpan" id="kobo.1501.1"> to the canvas by dragging it from the </span><strong class="bold"><span class="koboSpan" id="kobo.1502.1">Library</span></strong><span class="koboSpan" id="kobo.1503.1"> window. </span><span class="koboSpan" id="kobo.1503.2">Resize the rectangle to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1504.1">360 x 200</span></strong><span class="koboSpan" id="kobo.1505.1"> and set its radius </span><span class="No-Break"><span class="koboSpan" id="kobo.1506.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1507.1">15</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1508.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1509.1">Set its color to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1510.1">#80000000</span></strong><span class="koboSpan" id="kobo.1511.1">; this will change it to black with </span><span class="No-Break"><span class="koboSpan" id="kobo.1512.1">50% transparency.</span></span></li>
<li><span class="koboSpan" id="kobo.1513.1">Enable the vertical center anchor and the horizontal center anchor to make the rectangle always align with the center of the window. </span><span class="koboSpan" id="kobo.1513.2">Then, set the margin of the vertical center anchor to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1514.1">100</span></strong><span class="koboSpan" id="kobo.1515.1"> so that it moves slightly lower to the bottom. </span><span class="koboSpan" id="kobo.1515.2">This will ensure we have the space to place the logo. </span><span class="koboSpan" id="kobo.1515.3">The following screenshot illustrates the settings </span><span class="No-Break"><span class="koboSpan" id="kobo.1516.1">for </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1517.1">Anchors</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1518.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer032">
<span class="koboSpan" id="kobo.1519.1"><img alt="Figure 1.28 – Setting the alignment and margin" src="image/B20976_01_028.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1520.1">Figure 1.28 – Setting the alignment and margin</span></p>
<ol>
<li value="36"><span class="koboSpan" id="kobo.1521.1">Add the text objects to the canvas. </span><span class="koboSpan" id="kobo.1521.2">Make them children of the login form (the </span><strong class="bold"><span class="koboSpan" id="kobo.1522.1">Rectangle</span></strong><span class="koboSpan" id="kobo.1523.1"> widget) and set their </span><strong class="bold"><span class="koboSpan" id="kobo.1524.1">text</span></strong><span class="koboSpan" id="kobo.1525.1"> properties to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1526.1">Username:</span></strong><span class="koboSpan" id="kobo.1527.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1528.1">Password:</span></strong><span class="koboSpan" id="kobo.1529.1">. </span><span class="koboSpan" id="kobo.1529.2">Change their </span><a id="_idIndexMarker102"/><span class="koboSpan" id="kobo.1530.1">text color to white and position them accordingly. </span><span class="koboSpan" id="kobo.1530.2">We don’t need to set a margin this time because they will follow the </span><span class="No-Break"><span class="koboSpan" id="kobo.1531.1">rectangle’s position.</span></span></li>
<li><span class="koboSpan" id="kobo.1532.1">Add two text input objects to the canvas and place them next to the text widgets we just created. </span><span class="koboSpan" id="kobo.1532.2">Make sure the text input is also a child of the login form. </span><span class="koboSpan" id="kobo.1532.3">Since the text input doesn’t contain any background color property, we need to add two rectangles to the canvas to use as </span><span class="No-Break"><span class="koboSpan" id="kobo.1533.1">their background.</span></span></li>
<li><span class="koboSpan" id="kobo.1534.1">Add two rectangles to the canvas and make each of them a child of one of the text inputs we just created. </span><span class="koboSpan" id="kobo.1534.2">Set the </span><strong class="bold"><span class="koboSpan" id="kobo.1535.1">radius</span></strong><span class="koboSpan" id="kobo.1536.1"> property to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1537.1">5</span></strong><span class="koboSpan" id="kobo.1538.1"> to give them some rounded corners. </span><span class="koboSpan" id="kobo.1538.2">After that, enable fill anchors on both of the rectangles so that they will follow the size of the text </span><span class="No-Break"><span class="koboSpan" id="kobo.1539.1">input widgets.</span></span></li>
<li><span class="koboSpan" id="kobo.1540.1">Now, let’s create the login button beneath the password field. </span><span class="koboSpan" id="kobo.1540.2">Add a mouse area to the canvas and make it a child of the login form. </span><span class="koboSpan" id="kobo.1540.3">Resize it to your preferred dimension and move it </span><span class="No-Break"><span class="koboSpan" id="kobo.1541.1">into place.</span></span></li>
<li><span class="koboSpan" id="kobo.1542.1">Since the mouse area does not contain any background color property, we need to add a </span><strong class="bold"><span class="koboSpan" id="kobo.1543.1">Rectangle</span></strong><span class="koboSpan" id="kobo.1544.1"> widget and make it a child of the mouse area. </span><span class="koboSpan" id="kobo.1544.2">Set the color of the rectangle to blue (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1545.1">#27a9e3</span></strong><span class="koboSpan" id="kobo.1546.1">) and enable the fill anchor so that it fits nicely with the </span><span class="No-Break"><span class="koboSpan" id="kobo.1547.1">mouse area.</span></span></li>
<li><span class="koboSpan" id="kobo.1548.1">Add a text object to the canvas and make it a child of the login button. </span><span class="koboSpan" id="kobo.1548.2">Change its text color to white </span><a id="_idIndexMarker103"/><span class="koboSpan" id="kobo.1549.1">and set its </span><strong class="bold"><span class="koboSpan" id="kobo.1550.1">text</span></strong><span class="koboSpan" id="kobo.1551.1"> property to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1552.1">Login</span></strong><span class="koboSpan" id="kobo.1553.1">. </span><span class="koboSpan" id="kobo.1553.2">Finally, enable the horizontal center anchor and the vertical center anchor so that they align with the center of </span><span class="No-Break"><span class="koboSpan" id="kobo.1554.1">the button.</span></span></li>
<li><span class="koboSpan" id="kobo.1555.1">You will now get a login form that looks pretty similar to the one we made in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1556.1">C++ project:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer033">
<span class="koboSpan" id="kobo.1557.1"><img alt="Figure 1.29 – Final design of the login form" src="image/B20976_01_029.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1558.1">Figure 1.29 – Final design of the login form</span></p>
<ol>
<li value="43"><span class="koboSpan" id="kobo.1559.1">Now, it’s time to add the logo, which is very simple. </span><span class="koboSpan" id="kobo.1559.2">Open the </span><strong class="bold"><span class="koboSpan" id="kobo.1560.1">Resources</span></strong><span class="koboSpan" id="kobo.1561.1"> window and drag the logo image to </span><span class="No-Break"><span class="koboSpan" id="kobo.1562.1">the canvas.</span></span></li>
<li><span class="koboSpan" id="kobo.1563.1">Make it a child of the login form and set its size to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1564.1">512 </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1565.1">x 200</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1566.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1567.1">Position it on top of the login form. </span><span class="koboSpan" id="kobo.1567.2">With that, </span><span class="No-Break"><span class="koboSpan" id="kobo.1568.1">you’re done.</span></span></li>
<li><span class="koboSpan" id="kobo.1569.1">This is what the entire UI looks like when compiled. </span><span class="koboSpan" id="kobo.1569.2">We have successfully recreated the login screen from the C++ project, but this time, we did it with QML and </span><span class="No-Break"><span class="koboSpan" id="kobo.1570.1">Qt Quick:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer034">
<span class="koboSpan" id="kobo.1571.1"><img alt="Figure 1.30 – The final result" src="image/B20976_01_030.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1572.1">Figure 1.30 – The final result</span></p>
<h2 id="_idParaDest-35"><a id="_idTextAnchor035"/><span class="koboSpan" id="kobo.1573.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.1574.1">The Qt Quick editor uses a very </span><a id="_idIndexMarker104"/><span class="koboSpan" id="kobo.1575.1">different approach for placing widgets in the application compared to the form editor. </span><span class="koboSpan" id="kobo.1575.2">The user can decide which method is best suited to their purposes. </span><span class="koboSpan" id="kobo.1575.3">The following screenshot shows what the Qt Quick Designer </span><span class="No-Break"><span class="koboSpan" id="kobo.1576.1">looks like:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer035">
<span class="koboSpan" id="kobo.1577.1"><img alt="Figure 1.31 – Overview of Qt Design Studio’s user interface" src="image/B20976_01_031.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1578.1">Figure 1.31 – Overview of Qt Design Studio’s user interface</span></p>
<p><span class="koboSpan" id="kobo.1579.1">Let’s look at the various elements of the </span><span class="No-Break"><span class="koboSpan" id="kobo.1580.1">editor’s UI:</span></span></p>
<ol>
<li><strong class="bold"><span class="koboSpan" id="kobo.1581.1">Navigator</span></strong><span class="koboSpan" id="kobo.1582.1">: The </span><strong class="bold"><span class="koboSpan" id="kobo.1583.1">Navigator</span></strong><span class="koboSpan" id="kobo.1584.1"> window displays </span><a id="_idIndexMarker105"/><span class="koboSpan" id="kobo.1585.1">the items in the current QML file as a tree structure. </span><span class="koboSpan" id="kobo.1585.2">It’s similar to the object operator window in the other Qt Designer we used in the </span><em class="italic"><span class="koboSpan" id="kobo.1586.1">Using style sheets with Qt </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1587.1">Designer</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.1588.1"> recipe.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1589.1">Library</span></strong><span class="koboSpan" id="kobo.1590.1">: The </span><strong class="bold"><span class="koboSpan" id="kobo.1591.1">Library</span></strong><span class="koboSpan" id="kobo.1592.1"> window displays all the Qt Quick Components or Qt Quick Controls available in QML. </span><span class="koboSpan" id="kobo.1592.2">You can click and drag it to the canvas window to add to your UI. </span><span class="koboSpan" id="kobo.1592.3">You can also create your own custom QML components and display </span><span class="No-Break"><span class="koboSpan" id="kobo.1593.1">them here.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1594.1">Assets</span></strong><span class="koboSpan" id="kobo.1595.1">: The </span><strong class="bold"><span class="koboSpan" id="kobo.1596.1">Assets</span></strong><span class="koboSpan" id="kobo.1597.1"> window displays all the resources in a list that can then be used in your </span><span class="No-Break"><span class="koboSpan" id="kobo.1598.1">UI design.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1599.1">Add Modules</span></strong><span class="koboSpan" id="kobo.1600.1">: The </span><strong class="bold"><span class="koboSpan" id="kobo.1601.1">Add Modules</span></strong><span class="koboSpan" id="kobo.1602.1"> button allows you to import different QML modules into your current QML file, such as a Bluetooth module, a WebKit module, or a positioning module, to add additional functionality to your </span><span class="No-Break"><span class="koboSpan" id="kobo.1603.1">QML project.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1604.1">Properties</span></strong><span class="koboSpan" id="kobo.1605.1">: Similar to the </span><strong class="bold"><span class="koboSpan" id="kobo.1606.1">Property Editor</span></strong><span class="koboSpan" id="kobo.1607.1"> area we used in the previous recipe, the </span><strong class="bold"><span class="koboSpan" id="kobo.1608.1">Properties</span></strong><span class="koboSpan" id="kobo.1609.1"> pane in QML Designer displays the properties of the selected item. </span><span class="koboSpan" id="kobo.1609.2">You can also change the properties of the items in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1610.1">code editor.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1611.1">Canvas</span></strong><span class="koboSpan" id="kobo.1612.1">: The canvas is the working area where you create QML components and </span><span class="No-Break"><span class="koboSpan" id="kobo.1613.1">design applications.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1614.1">Workspace selector</span></strong><span class="koboSpan" id="kobo.1615.1">: The workspace selector area displays the different layouts available in the Qt</span><a id="_idIndexMarker106"/><span class="koboSpan" id="kobo.1616.1"> Design Studio editor, allowing the user to select the workspace that suits </span><span class="No-Break"><span class="koboSpan" id="kobo.1617.1">their needs.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1618.1">Style selector</span></strong><span class="koboSpan" id="kobo.1619.1">: This selector is where you can select a different style to preview how your application will look when running on a specific platform. </span><span class="koboSpan" id="kobo.1619.2">This is very useful when developing </span><span class="No-Break"><span class="koboSpan" id="kobo.1620.1">cross-platform applications.</span></span></li>
</ol>
<h1 id="_idParaDest-36"><a id="_idTextAnchor036"/><span class="koboSpan" id="kobo.1621.1">Exposing the QML object pointer to C++</span></h1>
<p><span class="koboSpan" id="kobo.1622.1">Sometimes, we want to </span><a id="_idIndexMarker107"/><span class="koboSpan" id="kobo.1623.1">modify the properties of a QML object through C++ scripting, such as changing the text of a label, hiding/showing the widget, or</span><a id="_idIndexMarker108"/><span class="koboSpan" id="kobo.1624.1"> changing its size. </span><span class="koboSpan" id="kobo.1624.2">Qt’s QML engine allows you to register your QML objects to C++ types, which automatically exposes all </span><span class="No-Break"><span class="koboSpan" id="kobo.1625.1">its properties.</span></span></p>
<h2 id="_idParaDest-37"><a id="_idTextAnchor037"/><span class="koboSpan" id="kobo.1626.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.1627.1">We want to create a label in QML and change its text occasionally. </span><span class="koboSpan" id="kobo.1627.2">To expose the label object to C++, we can do </span><span class="No-Break"><span class="koboSpan" id="kobo.1628.1">the following:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1629.1">Create a C++ class called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1630.1">MyLabel</span></strong><span class="koboSpan" id="kobo.1631.1"> that extends from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1632.1">QObject</span></strong><span class="koboSpan" id="kobo.1633.1"> class </span><span class="No-Break"><span class="koboSpan" id="kobo.1634.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1635.1">mylabel.h</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1636.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1637.1">
class MyLabel : public QObject {
Q_OBJECT
public:
     // Object pointer
     QObject* myObject;
     explicit MyLabel(QObject *parent = 0);
     // Must call Q_INVOKABLE so that this function can be used in QML
     Q_INVOKABLE void SetMyObject(QObject* obj);
}</span></pre></li> <li><span class="koboSpan" id="kobo.1638.1">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1639.1">mylabel.cpp</span></strong><span class="koboSpan" id="kobo.1640.1"> source </span><a id="_idIndexMarker109"/><span class="koboSpan" id="kobo.1641.1">file, define a function called </span><strong class="source-inline"><span class="koboSpan" id="kobo.1642.1">SetMyObject()</span></strong><span class="koboSpan" id="kobo.1643.1"> to save the object pointer. </span><span class="koboSpan" id="kobo.1643.2">This</span><a id="_idIndexMarker110"/><span class="koboSpan" id="kobo.1644.1"> function will later be called in QML </span><span class="No-Break"><span class="koboSpan" id="kobo.1645.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1646.1">mylabel.cpp</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1647.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1648.1">
void MyLabel::SetMyObject(QObject* obj) {
     // Set the object pointer
     myObject = obj;
}</span></pre></li> <li><span class="koboSpan" id="kobo.1649.1">In </span><strong class="source-inline"><span class="koboSpan" id="kobo.1650.1">main.cpp</span></strong><span class="koboSpan" id="kobo.1651.1">, include the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1652.1">MyLabel</span></strong><span class="koboSpan" id="kobo.1653.1"> header and register it to the QML engine using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1654.1">qmlRegisterType()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1655.1"> function:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1656.1">
include "mylabel.h"
int main(int argc, char *argv[]) {
     // Register your class to QML
     qmlRegisterType&lt;MyLabel&gt;("MyLabelLib", 1, 0, "MyLabel");
}</span></pre></li> <li><span class="koboSpan" id="kobo.1657.1">Notice that there are four parameters you need to declare in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1658.1">qmlRegisterType()</span></strong><span class="koboSpan" id="kobo.1659.1">. </span><span class="koboSpan" id="kobo.1659.2">Besides declaring your class name (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1660.1">MyLabel</span></strong><span class="koboSpan" id="kobo.1661.1">), you also need to declare your library name (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1662.1">MyLabelLib</span></strong><span class="koboSpan" id="kobo.1663.1">) and its version (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1664.1">1.0</span></strong><span class="koboSpan" id="kobo.1665.1">). </span><span class="koboSpan" id="kobo.1665.2">This will be used to import your class </span><span class="No-Break"><span class="koboSpan" id="kobo.1666.1">into QML.</span></span></li>
<li><span class="koboSpan" id="kobo.1667.1">Map the QML engine to our label object in QML and import the class library we defined earlier in </span><em class="italic"><span class="koboSpan" id="kobo.1668.1">Step 3</span></em><span class="koboSpan" id="kobo.1669.1"> by calling </span><strong class="source-inline"><span class="koboSpan" id="kobo.1670.1">import MyLabelLib 1.0</span></strong><span class="koboSpan" id="kobo.1671.1"> in our QML file. </span><span class="koboSpan" id="kobo.1671.2">Notice that the library name and its version number have to match the one you declared in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1672.1">main.cpp</span></strong><span class="koboSpan" id="kobo.1673.1">; otherwise, it will throw an error. </span><span class="koboSpan" id="kobo.1673.2">After declaring </span><strong class="source-inline"><span class="koboSpan" id="kobo.1674.1">MyLabel</span></strong><span class="koboSpan" id="kobo.1675.1"> in QML and</span><a id="_idIndexMarker111"/><span class="koboSpan" id="kobo.1676.1"> setting its ID as </span><strong class="bold"><span class="koboSpan" id="kobo.1677.1">mylabels</span></strong><span class="koboSpan" id="kobo.1678.1">, call </span><strong class="source-inline"><span class="koboSpan" id="kobo.1679.1">mylabel.SetMyObject(myLabel)</span></strong><span class="koboSpan" id="kobo.1680.1"> to expose its pointer to C/C++ right after</span><a id="_idIndexMarker112"/><span class="koboSpan" id="kobo.1681.1"> the label </span><span class="No-Break"><span class="koboSpan" id="kobo.1682.1">is initialized:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1683.1">
import MyLabelLib 1.0
ApplicationWindow {
     id: mainWindow
     width: 480
     height: 640
     MyLabel {
           id: mylabel
     }
     Label {
           id: helloWorldLabel
           text: qsTr("Hello World!")
           Component.onCompleted: {
               mylabel.SetMyObject(hellowWorldLabel);
           }
     }
}</span></pre></li> <li><span class="koboSpan" id="kobo.1684.1">Wait until the label is fully initiated before exposing its pointer to C/C++; otherwise, you may cause the program to crash. </span><span class="koboSpan" id="kobo.1684.2">To make sure it’s fully initiated, call the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1685.1">SetMyObject()</span></strong><span class="koboSpan" id="kobo.1686.1"> function within </span><strong class="source-inline"><span class="koboSpan" id="kobo.1687.1">Component.onCompleted</span></strong><span class="koboSpan" id="kobo.1688.1"> and not in any other functions or event callbacks. </span><span class="koboSpan" id="kobo.1688.2">Now that the QML label has been exposed to C/C++, we can change any of its properties by calling the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1689.1">setProperty()</span></strong><span class="koboSpan" id="kobo.1690.1"> function. </span><span class="koboSpan" id="kobo.1690.2">For instance, we can set its visibility to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1691.1">true</span></strong><span class="koboSpan" id="kobo.1692.1"> and change its text to </span><strong class="source-inline"><span class="koboSpan" id="kobo.1693.1">Bye </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1694.1">bye world!</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1695.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1696.1">
// Qvariant automatically detects your data type
myObject-&gt;setProperty("visible", Qvariant(true));
myObject-&gt;setProperty("text", Qvariant("Bye bye world!"));</span></pre></li> <li><span class="koboSpan" id="kobo.1697.1">Besides changing the </span><a id="_idIndexMarker113"/><span class="koboSpan" id="kobo.1698.1">properties, we can also call its functions</span><a id="_idIndexMarker114"/><span class="koboSpan" id="kobo.1699.1"> by calling the </span><span class="No-Break"><span class="koboSpan" id="kobo.1700.1">following code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1701.1">
QVariant returnedValue;
QVariant message = "Hello world!";
QMetaObject::invokeMethod(myObject, "myQMLFunction",
Q_RETURN_ARG(QVariant, returnedValue), Q_ARG(QVariant,
message));
qDebug() &lt;&lt; "QML function returned:" &lt;&lt;
returnedValue.toString();</span></pre></li> <li><span class="koboSpan" id="kobo.1702.1">Or, simply, we can call the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1703.1">invokedMethod()</span></strong><span class="koboSpan" id="kobo.1704.1"> function with only two parameters if we do not expect any values to be returned </span><span class="No-Break"><span class="koboSpan" id="kobo.1705.1">from it:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.1706.1">
QMetaObject::invokeMethod(myObject, "myQMLFunction");</span></pre></li> </ol>
<h2 id="_idParaDest-38"><a id="_idTextAnchor038"/><span class="koboSpan" id="kobo.1707.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.1708.1">QML is designed in such a way that it can be expanded through C++ code. </span><span class="koboSpan" id="kobo.1708.2">The classes in the Qt QML module permit QML objects to be used and operate from C++, and the capability of the QML engine united</span><a id="_idIndexMarker115"/><span class="koboSpan" id="kobo.1709.1"> with Qt’s </span><strong class="bold"><span class="koboSpan" id="kobo.1710.1">meta-object system</span></strong><span class="koboSpan" id="kobo.1711.1"> allows C++ functionality to be called directly from QML. </span><span class="koboSpan" id="kobo.1711.2">To add some C++ data or usage to QML, it should come forward from a QObject-derived class. </span><span class="koboSpan" id="kobo.1711.3">QML object types could be instituted from C++ and supervised</span><a id="_idIndexMarker116"/><span class="koboSpan" id="kobo.1712.1"> to access their properties, appeal their methods, and get their signal alerts. </span><span class="koboSpan" id="kobo.1712.2">This is possible because all QML object types are executed using QObject-derived classes, allowing the QML engine to forcibly load and inspect objects through the Qt </span><span class="No-Break"><span class="koboSpan" id="kobo.1713.1">meta-object system.</span></span></p>
<h2 id="_idParaDest-39"><a id="_idTextAnchor039"/><span class="koboSpan" id="kobo.1714.1">There’s more…</span></h2>
<p><span class="koboSpan" id="kobo.1715.1">Qt 6 comes with two different types of GUI kits – Qt Widgets and Qt Quick. </span><span class="koboSpan" id="kobo.1715.2">Both have their strengths and advantages over the other, giving programmers the ability and freedom to design their </span><a id="_idIndexMarker117"/><span class="koboSpan" id="kobo.1716.1">application’s interface without having to worry about feature constraints and </span><span class="No-Break"><span class="koboSpan" id="kobo.1717.1">performance issues.</span></span></p>
<p><span class="koboSpan" id="kobo.1718.1">Qt 6 allows you to pick the best method and programming language that suits your working style and requirements for your project. </span><span class="koboSpan" id="kobo.1718.2">By going through this chapter, you will be able to create a good-looking and functional cross-platform application using Qt 6 in </span><span class="No-Break"><span class="koboSpan" id="kobo.1719.1">no time.</span></span></p>
</div>
</body></html>