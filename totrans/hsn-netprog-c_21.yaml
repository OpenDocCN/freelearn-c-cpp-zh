- en: Setting Up Your C Compiler on Linux
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在Linux上设置您的C编译器
- en: '**Linux** is an excellent choice for C programming. It has arguably the easiest
    setup and the best support for C programming out of the three operating systems
    covered in this book.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '**Linux**是C编程的一个优秀选择。它在本书涵盖的三个操作系统中最容易设置，并且对C编程的支持最好。'
- en: Using Linux also allows you to take the ethical high road and feel good about
    supporting free software.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Linux也允许您走道德的高尚之路，并因支持免费软件而感到良好。
- en: One issue with describing the setup for Linux is that there are many Linux distributions
    with different software. In this appendix, we will provide the commands needed
    to set up on systems using the `apt` package manager, such as **Debian Linux**
    and **Ubuntu Linux**. If you are using a different Linux distribution, you will
    need to find the commands relevant to your system. Refer to your distribution's
    documentation for help.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在描述Linux的设置时有一个问题，那就是有众多不同的Linux发行版，它们有不同的软件。在本附录中，我们将提供在`apt`包管理器使用的系统上设置所需的命令，例如**Debian
    Linux**和**Ubuntu Linux**。如果您使用的是不同的Linux发行版，您需要找到与您的系统相关的命令。请参考您发行版的文档以获取帮助。
- en: 'Before diving right in, take a moment to make sure your package list is up
    to date. This is done with the following command:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在深入之前，花点时间确保您的包列表是最新的。这可以通过以下命令完成：
- en: '[PRE0]'
  id: totrans-5
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: With `apt` ready to go, setup is easy. Let's get started.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 随着`apt`就绪，设置变得简单。让我们开始吧。
- en: Installing GCC
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装GCC
- en: The first step is to get the C compiler, `gcc`, installed.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步是安装C编译器`gcc`。
- en: 'Assuming your system uses `apt` as its package manager, try the following commands
    to install `gcc` and prepare your system for C programming:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您的系统使用`apt`作为其包管理器，尝试以下命令安装`gcc`并为C编程准备您的系统：
- en: '[PRE1]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Once the `install` command completes, you should be able to run the following
    command to find the version of `gcc` that was installed:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦`install`命令完成，您应该能够运行以下命令来查找已安装的`gcc`版本：
- en: '[PRE2]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Installing Git
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Git
- en: You will need to have the Git version control software installed to download
    this book's code.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要安装Git版本控制软件来下载这本书的代码。
- en: 'Assuming your system uses the `apt` package manager, you can install Git with
    the following command:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您的系统使用`apt`包管理器，您可以使用以下命令安装Git：
- en: '[PRE3]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Check whether Git has installed successfully by means of the following command:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下命令检查Git是否已成功安装：
- en: '[PRE4]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Installing OpenSSL
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装OpenSSL
- en: '**OpenSSL** can be tricky. You can try your distribution''s package manager
    with the following commands:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '**OpenSSL**可能有些棘手。您可以使用以下命令尝试您发行版的包管理器：'
- en: '[PRE5]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The problem is that your distribution may have an old version of OpenSSL. If
    that is the case, you should obtain the OpenSSL libraries directly from [https://www.openssl.org/source/](https://www.openssl.org/source/).
    You will, of course, need to build OpenSSL before it can be used. Building OpenSSL
    is not easy, but instructions are provided in the `INSTALL` file included with
    the OpenSSL source code. Note that its build system requires that you have **Perl**
    installed.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 问题在于您的发行版可能有一个旧的OpenSSL版本。如果是这样，您应该直接从[https://www.openssl.org/source/](https://www.openssl.org/source/)获取OpenSSL库。当然，在可以使用之前，您需要构建OpenSSL。构建OpenSSL并不容易，但`INSTALL`文件中提供了构建说明。请注意，其构建系统要求您已安装**Perl**。
- en: Installing libssh
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装libssh
- en: 'You can try installing `libssh` from your package manager with the following
    command:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以尝试使用以下命令通过您的包管理器安装`libssh`：
- en: '[PRE6]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The problem is that the code in this book is not compatible with older versions
    of `libssh`. Therefore, I recommend you build `libssh` yourself.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 问题在于这本书中的代码与较旧的`libssh`版本不兼容。因此，我建议您自己构建`libssh`。
- en: You can obtain the latest `libssh` library from [https://www.libssh.org/](https://www.libssh.org/).
    If you are proficient in installing C libraries, feel free to give it a go. Otherwise,
    read on for the step-by-step instructions.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[https://www.libssh.org/](https://www.libssh.org/)获取最新的`libssh`库。如果您擅长安装C库，请随意尝试。否则，请继续阅读逐步说明。
- en: Before beginning, be sure that you've first installed the OpenSSL libraries
    successfully. These are required by the `libssh` library.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，请确保您已成功安装了OpenSSL库。这些库是`libssh`库所必需的。
- en: 'We will also need CMake installed in order to build `libssh`. You can obtain
    CMake from [https://cmake.org/](https://cmake.org/). You can also get it from
    your distro''s packaging tool with the following command:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还需要安装CMake来构建`libssh`。您可以从[https://cmake.org/](https://cmake.org/)获取CMake。您也可以使用以下命令从您的发行版的打包工具中获取它：
- en: '[PRE7]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Finally, the `zlib` library is also required by `libssh`. You can install the
    `zlib` library using this command:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，`libssh` 也需要 `zlib` 库。您可以使用以下命令安装 `zlib` 库：
- en: '[PRE8]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Once you have CMake, the `zlib` library, and the OpenSSL library installed,
    locate the version of `libssh` you would like from [https://www.libssh.org/](https://www.libssh.org/).
    Version 0.8.7 is the latest at the time of writing. You can download and extract
    the `libssh` source code with the following commands:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦安装了 CMake、`zlib` 库和 OpenSSL 库，请从 [https://www.libssh.org/](https://www.libssh.org/)
    网站找到您想要的 `libssh` 版本。撰写本文时，0.8.7 是最新版本。您可以使用以下命令下载并解压 `libssh` 源代码：
- en: '[PRE9]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'I recommend that you take a look at the installation instructions included
    with `libssh`. You can use `less` to view them. Press the *Q* key to quit `less`:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 我建议您查看 `libssh` 包含的安装说明。您可以使用 `less` 命令查看它们。按 *Q* 键退出 `less`：
- en: '[PRE10]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Once you''ve familiarized yourself with the build instructions, you can try
    building `libssh` with these commands:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您熟悉了构建说明，您可以使用以下命令尝试构建 `libssh`：
- en: '[PRE11]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'The final step is to install the library with the following command:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步是使用以下命令安装库：
- en: '[PRE12]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
